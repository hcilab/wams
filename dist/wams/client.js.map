{"mappings":"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","sources":["node_modules/socket.io-client/build/index.js","node_modules/socket.io-client/build/url.js","node_modules/parseuri/index.js","node_modules/debug/src/browser.js","node_modules/process/browser.js","node_modules/debug/src/common.js","node_modules/ms/index.js","node_modules/socket.io-client/build/manager.js","node_modules/engine.io-client/lib/index.js","node_modules/engine.io-client/lib/socket.js","node_modules/engine.io-client/lib/transports/index.js","node_modules/engine.io-client/lib/xmlhttprequest.js","node_modules/has-cors/index.js","node_modules/engine.io-client/lib/globalThis.browser.js","node_modules/engine.io-client/lib/transports/polling-xhr.js","node_modules/engine.io-client/lib/transports/polling.js","node_modules/engine.io-client/lib/transport.js","node_modules/engine.io-parser/lib/index.js","node_modules/engine.io-parser/lib/encodePacket.browser.js","node_modules/engine.io-parser/lib/commons.js","node_modules/engine.io-parser/lib/decodePacket.browser.js","node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","node_modules/component-emitter/index.js","node_modules/engine.io-client/lib/util.js","node_modules/parseqs/index.js","node_modules/yeast/index.js","node_modules/engine.io-client/lib/transports/polling-jsonp.js","node_modules/engine.io-client/lib/transports/websocket.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js","node_modules/socket.io-client/build/socket.js","node_modules/socket.io-parser/dist/index.js","node_modules/socket.io-parser/dist/binary.js","node_modules/socket.io-parser/dist/is-binary.js","node_modules/socket.io-client/build/on.js","node_modules/socket.io-client/build/typed-events.js","node_modules/backo2/index.js","src/client/ClientController.js","src/shared/IdStamper.js","src/shared/Message.js","src/shared/bases.js","src/shared/utilities.js","src/shared/Point2D.js","src/shared/Polygon2D.js","src/shared/Rectangle.js","src/shared/Circle.js","src/shared.js","node_modules/westures/dist/core/dist/src/Gesture.js","node_modules/westures/dist/core/dist/src/Point2D.js","node_modules/westures/dist/core/dist/src/constants.js","node_modules/westures/dist/core/dist/src/PointerData.js","node_modules/westures/dist/core/dist/src/utils.js","node_modules/westures/dist/core/dist/src/Input.js","node_modules/westures/dist/core/dist/src/State.js","node_modules/westures/dist/core/dist/src/Region.js","node_modules/westures/dist/core/dist/src/Smoothable.js","node_modules/westures/dist/src/Pan.js","node_modules/westures/dist/core/dist/index.js","node_modules/westures/dist/src/Pinch.js","node_modules/westures/dist/src/Press.js","node_modules/westures/dist/src/Pull.js","node_modules/westures/dist/src/Pivotable.js","node_modules/westures/dist/src/Rotate.js","node_modules/westures/dist/src/Swipe.js","node_modules/westures/dist/src/Swivel.js","node_modules/westures/dist/src/Tap.js","node_modules/westures/dist/src/Track.js","node_modules/westures/dist/index.js","src/client/Interactor.js","src/client/ClientElement.js","src/client/ClientImage.js","src/client/ClientItem.js","node_modules/canvas-sequencer/dist/src/CanvasAtom.js","node_modules/canvas-sequencer/dist/src/CanvasSequence.js","node_modules/canvas-sequencer/dist/src/CanvasBlueprint.js","node_modules/canvas-sequencer/dist/index.js","src/client/ShadowView.js","src/client/ClientModel.js","src/client/ClientView.js","src/client.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.io = exports.Socket = exports.Manager = exports.protocol = void 0;\nconst url_1 = require(\"./url\");\nconst manager_1 = require(\"./manager\");\nconst debug = require(\"debug\")(\"socket.io-client\");\n/**\n * Module exports.\n */\nmodule.exports = exports = lookup;\n/**\n * Managers cache.\n */\nconst cache = (exports.managers = {});\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = (0, url_1.url)(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n/**\n * `connect`.\n *\n * @param {String} uri\n * @public\n */\nexports.connect = lookup;\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nvar manager_2 = require(\"./manager\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_2.Manager; } });\nvar socket_1 = require(\"./socket\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_1.Socket; } });\nexports.default = lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri = require(\"parseuri\");\nconst debug = require(\"debug\")(\"socket.io-client:url\");\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst eio = require(\"engine.io-client\");\nconst util_1 = require(\"engine.io-client/lib/util\");\nconst socket_1 = require(\"./socket\");\nconst parser = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst Backoff = require(\"backo2\");\nconst typed_events_1 = require(\"./typed-events\");\nconst debug = require(\"debug\")(\"socket.io-client:manager\");\nclass Manager extends typed_events_1.StrictEventEmitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        (0, util_1.installTimerFunctions)(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = eio(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = (0, on_1.on)(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = (0, on_1.on)(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push((0, on_1.on)(socket, \"ping\", this.onping.bind(this)), (0, on_1.on)(socket, \"data\", this.ondata.bind(this)), (0, on_1.on)(socket, \"error\", this.onerror.bind(this)), (0, on_1.on)(socket, \"close\", this.onclose.bind(this)), (0, on_1.on)(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        if (\"opening\" === this._readyState) {\n            // `onclose` will not fire because\n            // an open event never happened\n            this.cleanup();\n        }\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"onclose\");\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","const Socket = require(\"./socket\");\n\nmodule.exports = (uri, opts) => new Socket(uri, opts);\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nmodule.exports.Socket = Socket;\nmodule.exports.protocol = Socket.protocol; // this is an int\nmodule.exports.Transport = require(\"./transport\");\nmodule.exports.transports = require(\"./transports/index\");\nmodule.exports.parser = require(\"engine.io-parser\");\n","const transports = require(\"./transports/index\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:socket\");\nconst parser = require(\"engine.io-parser\");\nconst parseuri = require(\"parseuri\");\nconst parseqs = require(\"parseqs\");\nconst { installTimerFunctions } = require(\"./util\");\n\nclass Socket extends Emitter {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri or options\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts = {}) {\n    super();\n\n    if (uri && \"object\" === typeof uri) {\n      opts = uri;\n      uri = null;\n    }\n\n    if (uri) {\n      uri = parseuri(uri);\n      opts.hostname = uri.host;\n      opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n      opts.port = uri.port;\n      if (uri.query) opts.query = uri.query;\n    } else if (opts.host) {\n      opts.hostname = parseuri(opts.host).host;\n    }\n\n    installTimerFunctions(this, opts);\n\n    this.secure =\n      null != opts.secure\n        ? opts.secure\n        : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n    if (opts.hostname && !opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? \"443\" : \"80\";\n    }\n\n    this.hostname =\n      opts.hostname ||\n      (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n    this.port =\n      opts.port ||\n      (typeof location !== \"undefined\" && location.port\n        ? location.port\n        : this.secure\n        ? 443\n        : 80);\n\n    this.transports = opts.transports || [\"polling\", \"websocket\"];\n    this.readyState = \"\";\n    this.writeBuffer = [];\n    this.prevBufferLen = 0;\n\n    this.opts = Object.assign(\n      {\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        jsonp: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {},\n        closeOnBeforeunload: true\n      },\n      opts\n    );\n\n    this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n    if (typeof this.opts.query === \"string\") {\n      this.opts.query = parseqs.decode(this.opts.query);\n    }\n\n    // set on handshake\n    this.id = null;\n    this.upgrades = null;\n    this.pingInterval = null;\n    this.pingTimeout = null;\n\n    // set on heartbeat\n    this.pingTimeoutTimer = null;\n\n    if (typeof addEventListener === \"function\") {\n      if (this.opts.closeOnBeforeunload) {\n        // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n        // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n        // closed/reloaded)\n        addEventListener(\n          \"beforeunload\",\n          () => {\n            if (this.transport) {\n              // silently close the transport\n              this.transport.removeAllListeners();\n              this.transport.close();\n            }\n          },\n          false\n        );\n      }\n      if (this.hostname !== \"localhost\") {\n        this.offlineEventListener = () => {\n          this.onClose(\"transport close\");\n        };\n        addEventListener(\"offline\", this.offlineEventListener, false);\n      }\n    }\n\n    this.open();\n  }\n\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} transport name\n   * @return {Transport}\n   * @api private\n   */\n  createTransport(name) {\n    debug('creating transport \"%s\"', name);\n    const query = clone(this.opts.query);\n\n    // append engine.io protocol identifier\n    query.EIO = parser.protocol;\n\n    // transport name\n    query.transport = name;\n\n    // session id if we already have one\n    if (this.id) query.sid = this.id;\n\n    const opts = Object.assign(\n      {},\n      this.opts.transportOptions[name],\n      this.opts,\n      {\n        query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }\n    );\n\n    debug(\"options: %j\", opts);\n\n    return new transports[name](opts);\n  }\n\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @api private\n   */\n  open() {\n    let transport;\n    if (\n      this.opts.rememberUpgrade &&\n      Socket.priorWebsocketSuccess &&\n      this.transports.indexOf(\"websocket\") !== -1\n    ) {\n      transport = \"websocket\";\n    } else if (0 === this.transports.length) {\n      // Emit error on next tick so it can be listened to\n      this.setTimeoutFn(() => {\n        this.emit(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else {\n      transport = this.transports[0];\n    }\n    this.readyState = \"opening\";\n\n    // Retry with the next transport if the transport is disabled (jsonp: false)\n    try {\n      transport = this.createTransport(transport);\n    } catch (e) {\n      debug(\"error while creating transport: %s\", e);\n      this.transports.shift();\n      this.open();\n      return;\n    }\n\n    transport.open();\n    this.setTransport(transport);\n  }\n\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @api private\n   */\n  setTransport(transport) {\n    debug(\"setting transport %s\", transport.name);\n\n    if (this.transport) {\n      debug(\"clearing existing transport %s\", this.transport.name);\n      this.transport.removeAllListeners();\n    }\n\n    // set up transport\n    this.transport = transport;\n\n    // set up transport listeners\n    transport\n      .on(\"drain\", this.onDrain.bind(this))\n      .on(\"packet\", this.onPacket.bind(this))\n      .on(\"error\", this.onError.bind(this))\n      .on(\"close\", () => {\n        this.onClose(\"transport close\");\n      });\n  }\n\n  /**\n   * Probes a transport.\n   *\n   * @param {String} transport name\n   * @api private\n   */\n  probe(name) {\n    debug('probing transport \"%s\"', name);\n    let transport = this.createTransport(name, { probe: 1 });\n    let failed = false;\n\n    Socket.priorWebsocketSuccess = false;\n\n    const onTransportOpen = () => {\n      if (failed) return;\n\n      debug('probe transport \"%s\" opened', name);\n      transport.send([{ type: \"ping\", data: \"probe\" }]);\n      transport.once(\"packet\", msg => {\n        if (failed) return;\n        if (\"pong\" === msg.type && \"probe\" === msg.data) {\n          debug('probe transport \"%s\" pong', name);\n          this.upgrading = true;\n          this.emit(\"upgrading\", transport);\n          if (!transport) return;\n          Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n          debug('pausing current transport \"%s\"', this.transport.name);\n          this.transport.pause(() => {\n            if (failed) return;\n            if (\"closed\" === this.readyState) return;\n            debug(\"changing transport and sending upgrade packet\");\n\n            cleanup();\n\n            this.setTransport(transport);\n            transport.send([{ type: \"upgrade\" }]);\n            this.emit(\"upgrade\", transport);\n            transport = null;\n            this.upgrading = false;\n            this.flush();\n          });\n        } else {\n          debug('probe transport \"%s\" failed', name);\n          const err = new Error(\"probe error\");\n          err.transport = transport.name;\n          this.emit(\"upgradeError\", err);\n        }\n      });\n    };\n\n    function freezeTransport() {\n      if (failed) return;\n\n      // Any callback called by transport should be ignored since now\n      failed = true;\n\n      cleanup();\n\n      transport.close();\n      transport = null;\n    }\n\n    // Handle any error that happens while probing\n    const onerror = err => {\n      const error = new Error(\"probe error: \" + err);\n      error.transport = transport.name;\n\n      freezeTransport();\n\n      debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n      this.emit(\"upgradeError\", error);\n    };\n\n    function onTransportClose() {\n      onerror(\"transport closed\");\n    }\n\n    // When the socket is closed while we're probing\n    function onclose() {\n      onerror(\"socket closed\");\n    }\n\n    // When the socket is upgraded while we're probing\n    function onupgrade(to) {\n      if (transport && to.name !== transport.name) {\n        debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n        freezeTransport();\n      }\n    }\n\n    // Remove all listeners on the transport and on self\n    const cleanup = () => {\n      transport.removeListener(\"open\", onTransportOpen);\n      transport.removeListener(\"error\", onerror);\n      transport.removeListener(\"close\", onTransportClose);\n      this.removeListener(\"close\", onclose);\n      this.removeListener(\"upgrading\", onupgrade);\n    };\n\n    transport.once(\"open\", onTransportOpen);\n    transport.once(\"error\", onerror);\n    transport.once(\"close\", onTransportClose);\n\n    this.once(\"close\", onclose);\n    this.once(\"upgrading\", onupgrade);\n\n    transport.open();\n  }\n\n  /**\n   * Called when connection is deemed open.\n   *\n   * @api public\n   */\n  onOpen() {\n    debug(\"socket open\");\n    this.readyState = \"open\";\n    Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n    this.emit(\"open\");\n    this.flush();\n\n    // we check for `readyState` in case an `open`\n    // listener already closed the socket\n    if (\n      \"open\" === this.readyState &&\n      this.opts.upgrade &&\n      this.transport.pause\n    ) {\n      debug(\"starting upgrade probes\");\n      let i = 0;\n      const l = this.upgrades.length;\n      for (; i < l; i++) {\n        this.probe(this.upgrades[i]);\n      }\n    }\n  }\n\n  /**\n   * Handles a packet.\n   *\n   * @api private\n   */\n  onPacket(packet) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n      this.emit(\"packet\", packet);\n\n      // Socket is live - any packet counts\n      this.emit(\"heartbeat\");\n\n      switch (packet.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(packet.data));\n          break;\n\n        case \"ping\":\n          this.resetPingTimeout();\n          this.sendPacket(\"pong\");\n          this.emit(\"ping\");\n          this.emit(\"pong\");\n          break;\n\n        case \"error\":\n          const err = new Error(\"server error\");\n          err.code = packet.data;\n          this.onError(err);\n          break;\n\n        case \"message\":\n          this.emit(\"data\", packet.data);\n          this.emit(\"message\", packet.data);\n          break;\n      }\n    } else {\n      debug('packet received with socket readyState \"%s\"', this.readyState);\n    }\n  }\n\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} handshake obj\n   * @api private\n   */\n  onHandshake(data) {\n    this.emit(\"handshake\", data);\n    this.id = data.sid;\n    this.transport.query.sid = data.sid;\n    this.upgrades = this.filterUpgrades(data.upgrades);\n    this.pingInterval = data.pingInterval;\n    this.pingTimeout = data.pingTimeout;\n    this.onOpen();\n    // In case open handler closes socket\n    if (\"closed\" === this.readyState) return;\n    this.resetPingTimeout();\n  }\n\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @api private\n   */\n  resetPingTimeout() {\n    this.clearTimeoutFn(this.pingTimeoutTimer);\n    this.pingTimeoutTimer = this.setTimeoutFn(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout);\n    if (this.opts.autoUnref) {\n      this.pingTimeoutTimer.unref();\n    }\n  }\n\n  /**\n   * Called on `drain` event\n   *\n   * @api private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen);\n\n    // setting prevBufferLen = 0 is very important\n    // for example, when upgrading, upgrade packet is sent over,\n    // and a nonzero prevBufferLen could cause problems on `drain`\n    this.prevBufferLen = 0;\n\n    if (0 === this.writeBuffer.length) {\n      this.emit(\"drain\");\n    } else {\n      this.flush();\n    }\n  }\n\n  /**\n   * Flush write buffers.\n   *\n   * @api private\n   */\n  flush() {\n    if (\n      \"closed\" !== this.readyState &&\n      this.transport.writable &&\n      !this.upgrading &&\n      this.writeBuffer.length\n    ) {\n      debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n      this.transport.send(this.writeBuffer);\n      // keep track of current length of writeBuffer\n      // splice writeBuffer and callbackBuffer on `drain`\n      this.prevBufferLen = this.writeBuffer.length;\n      this.emit(\"flush\");\n    }\n  }\n\n  /**\n   * Sends a message.\n   *\n   * @param {String} message.\n   * @param {Function} callback function.\n   * @param {Object} options.\n   * @return {Socket} for chaining.\n   * @api public\n   */\n  write(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  send(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  /**\n   * Sends a packet.\n   *\n   * @param {String} packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @api private\n   */\n  sendPacket(type, data, options, fn) {\n    if (\"function\" === typeof data) {\n      fn = data;\n      data = undefined;\n    }\n\n    if (\"function\" === typeof options) {\n      fn = options;\n      options = null;\n    }\n\n    if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n      return;\n    }\n\n    options = options || {};\n    options.compress = false !== options.compress;\n\n    const packet = {\n      type: type,\n      data: data,\n      options: options\n    };\n    this.emit(\"packetCreate\", packet);\n    this.writeBuffer.push(packet);\n    if (fn) this.once(\"flush\", fn);\n    this.flush();\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @api private\n   */\n  close() {\n    const close = () => {\n      this.onClose(\"forced close\");\n      debug(\"socket closing - telling transport to close\");\n      this.transport.close();\n    };\n\n    const cleanupAndClose = () => {\n      this.removeListener(\"upgrade\", cleanupAndClose);\n      this.removeListener(\"upgradeError\", cleanupAndClose);\n      close();\n    };\n\n    const waitForUpgrade = () => {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      this.once(\"upgrade\", cleanupAndClose);\n      this.once(\"upgradeError\", cleanupAndClose);\n    };\n\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.readyState = \"closing\";\n\n      if (this.writeBuffer.length) {\n        this.once(\"drain\", () => {\n          if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        });\n      } else if (this.upgrading) {\n        waitForUpgrade();\n      } else {\n        close();\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Called upon transport error\n   *\n   * @api private\n   */\n  onError(err) {\n    debug(\"socket error %j\", err);\n    Socket.priorWebsocketSuccess = false;\n    this.emit(\"error\", err);\n    this.onClose(\"transport error\", err);\n  }\n\n  /**\n   * Called upon transport close.\n   *\n   * @api private\n   */\n  onClose(reason, desc) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket close with reason: \"%s\"', reason);\n\n      // clear timers\n      this.clearTimeoutFn(this.pingIntervalTimer);\n      this.clearTimeoutFn(this.pingTimeoutTimer);\n\n      // stop event from firing again for transport\n      this.transport.removeAllListeners(\"close\");\n\n      // ensure transport won't stay open\n      this.transport.close();\n\n      // ignore further transport communication\n      this.transport.removeAllListeners();\n\n      if (typeof removeEventListener === \"function\") {\n        removeEventListener(\"offline\", this.offlineEventListener, false);\n      }\n\n      // set ready state\n      this.readyState = \"closed\";\n\n      // clear session id\n      this.id = null;\n\n      // emit close event\n      this.emit(\"close\", reason, desc);\n\n      // clean buffers after, so users can still\n      // grab the buffers on `close` event\n      this.writeBuffer = [];\n      this.prevBufferLen = 0;\n    }\n  }\n\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} server upgrades\n   * @api private\n   *\n   */\n  filterUpgrades(upgrades) {\n    const filteredUpgrades = [];\n    let i = 0;\n    const j = upgrades.length;\n    for (; i < j; i++) {\n      if (~this.transports.indexOf(upgrades[i]))\n        filteredUpgrades.push(upgrades[i]);\n    }\n    return filteredUpgrades;\n  }\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\nfunction clone(obj) {\n  const o = {};\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nmodule.exports = Socket;\n","const XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst XHR = require(\"./polling-xhr\");\nconst JSONP = require(\"./polling-jsonp\");\nconst websocket = require(\"./websocket\");\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts) {\n  let xhr;\n  let xd = false;\n  let xs = false;\n  const jsonp = false !== opts.jsonp;\n\n  if (typeof location !== \"undefined\") {\n    const isSSL = \"https:\" === location.protocol;\n    let port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if (\"open\" in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error(\"JSONP disabled\");\n    return new JSONP(opts);\n  }\n}\n","// browser shim for xmlhttprequest module\n\nconst hasCORS = require(\"has-cors\");\nconst globalThis = require(\"./globalThis\");\n\nmodule.exports = function(opts) {\n  const xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  const xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  const enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) {}\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if (\"undefined\" !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) {}\n\n  if (!xdomain) {\n    try {\n      return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\n        \"Microsoft.XMLHTTP\"\n      );\n    } catch (e) {}\n  }\n};\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","module.exports = (() => {\n  if (typeof self !== \"undefined\") {\n    return self;\n  } else if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return Function(\"return this\")();\n  }\n})();\n","/* global attachEvent */\n\nconst XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst Polling = require(\"./polling\");\nconst Emitter = require(\"component-emitter\");\nconst { pick, installTimerFunctions } = require(\"../util\");\nconst globalThis = require(\"../globalThis\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling-xhr\");\n\n/**\n * Empty function\n */\n\nfunction empty() {}\n\nconst hasXHR2 = (function() {\n  const xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\nclass XHR extends Polling {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    if (typeof location !== \"undefined\") {\n      const isSSL = \"https:\" === location.protocol;\n      let port = location.port;\n\n      // some user agents have empty `location.port`\n      if (!port) {\n        port = isSSL ? 443 : 80;\n      }\n\n      this.xd =\n        (typeof location !== \"undefined\" &&\n          opts.hostname !== location.hostname) ||\n        port !== opts.port;\n      this.xs = opts.secure !== isSSL;\n    }\n    /**\n     * XHR supports binary\n     */\n    const forceBase64 = opts && opts.forceBase64;\n    this.supportsBinary = hasXHR2 && !forceBase64;\n  }\n\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @api private\n   */\n  request(opts = {}) {\n    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n    return new Request(this.uri(), opts);\n  }\n\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const req = this.request({\n      method: \"POST\",\n      data: data\n    });\n    req.on(\"success\", fn);\n    req.on(\"error\", err => {\n      this.onError(\"xhr post error\", err);\n    });\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    debug(\"xhr poll\");\n    const req = this.request();\n    req.on(\"data\", this.onData.bind(this));\n    req.on(\"error\", err => {\n      this.onError(\"xhr poll error\", err);\n    });\n    this.pollXhr = req;\n  }\n}\n\nclass Request extends Emitter {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts) {\n    super();\n    installTimerFunctions(this, opts);\n    this.opts = opts;\n\n    this.method = opts.method || \"GET\";\n    this.uri = uri;\n    this.async = false !== opts.async;\n    this.data = undefined !== opts.data ? opts.data : null;\n\n    this.create();\n  }\n\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @api private\n   */\n  create() {\n    const opts = pick(\n      this.opts,\n      \"agent\",\n      \"enablesXDR\",\n      \"pfx\",\n      \"key\",\n      \"passphrase\",\n      \"cert\",\n      \"ca\",\n      \"ciphers\",\n      \"rejectUnauthorized\",\n      \"autoUnref\"\n    );\n    opts.xdomain = !!this.opts.xd;\n    opts.xscheme = !!this.opts.xs;\n\n    const xhr = (this.xhr = new XMLHttpRequest(opts));\n\n    try {\n      debug(\"xhr open %s: %s\", this.method, this.uri);\n      xhr.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n          for (let i in this.opts.extraHeaders) {\n            if (this.opts.extraHeaders.hasOwnProperty(i)) {\n              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n            }\n          }\n        }\n      } catch (e) {}\n\n      if (\"POST\" === this.method) {\n        try {\n          xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch (e) {}\n      }\n\n      try {\n        xhr.setRequestHeader(\"Accept\", \"*/*\");\n      } catch (e) {}\n\n      // ie6 check\n      if (\"withCredentials\" in xhr) {\n        xhr.withCredentials = this.opts.withCredentials;\n      }\n\n      if (this.opts.requestTimeout) {\n        xhr.timeout = this.opts.requestTimeout;\n      }\n\n      if (this.hasXDR()) {\n        xhr.onload = () => {\n          this.onLoad();\n        };\n        xhr.onerror = () => {\n          this.onError(xhr.responseText);\n        };\n      } else {\n        xhr.onreadystatechange = () => {\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            this.onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            this.setTimeoutFn(() => {\n              this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n      }\n\n      debug(\"xhr data %s\", this.data);\n      xhr.send(this.data);\n    } catch (e) {\n      // Need to defer since .create() is called directly from the constructor\n      // and thus the 'error' event can only be only bound *after* this exception\n      // occurs.  Therefore, also, we cannot throw here at all.\n      this.setTimeoutFn(() => {\n        this.onError(e);\n      }, 0);\n      return;\n    }\n\n    if (typeof document !== \"undefined\") {\n      this.index = Request.requestsCount++;\n      Request.requests[this.index] = this;\n    }\n  }\n\n  /**\n   * Called upon successful response.\n   *\n   * @api private\n   */\n  onSuccess() {\n    this.emit(\"success\");\n    this.cleanup();\n  }\n\n  /**\n   * Called if we have data.\n   *\n   * @api private\n   */\n  onData(data) {\n    this.emit(\"data\", data);\n    this.onSuccess();\n  }\n\n  /**\n   * Called upon error.\n   *\n   * @api private\n   */\n  onError(err) {\n    this.emit(\"error\", err);\n    this.cleanup(true);\n  }\n\n  /**\n   * Cleans up house.\n   *\n   * @api private\n   */\n  cleanup(fromError) {\n    if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n      return;\n    }\n    // xmlhttprequest\n    if (this.hasXDR()) {\n      this.xhr.onload = this.xhr.onerror = empty;\n    } else {\n      this.xhr.onreadystatechange = empty;\n    }\n\n    if (fromError) {\n      try {\n        this.xhr.abort();\n      } catch (e) {}\n    }\n\n    if (typeof document !== \"undefined\") {\n      delete Request.requests[this.index];\n    }\n\n    this.xhr = null;\n  }\n\n  /**\n   * Called upon load.\n   *\n   * @api private\n   */\n  onLoad() {\n    const data = this.xhr.responseText;\n    if (data !== null) {\n      this.onData(data);\n    }\n  }\n\n  /**\n   * Check if it has XDomainRequest.\n   *\n   * @api private\n   */\n  hasXDR() {\n    return typeof XDomainRequest !== \"undefined\" && !this.xs && this.enablesXDR;\n  }\n\n  /**\n   * Aborts the request.\n   *\n   * @api public\n   */\n  abort() {\n    this.cleanup();\n  }\n}\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== \"undefined\") {\n  if (typeof attachEvent === \"function\") {\n    attachEvent(\"onunload\", unloadHandler);\n  } else if (typeof addEventListener === \"function\") {\n    const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (let i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n","const Transport = require(\"../transport\");\nconst parseqs = require(\"parseqs\");\nconst parser = require(\"engine.io-parser\");\nconst yeast = require(\"yeast\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling\");\n\nclass Polling extends Transport {\n  /**\n   * Transport name.\n   */\n  get name() {\n    return \"polling\";\n  }\n\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @api private\n   */\n  doOpen() {\n    this.poll();\n  }\n\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} callback upon buffers are flushed and transport is paused\n   * @api private\n   */\n  pause(onPause) {\n    this.readyState = \"pausing\";\n\n    const pause = () => {\n      debug(\"paused\");\n      this.readyState = \"paused\";\n      onPause();\n    };\n\n    if (this.polling || !this.writable) {\n      let total = 0;\n\n      if (this.polling) {\n        debug(\"we are currently polling - waiting to pause\");\n        total++;\n        this.once(\"pollComplete\", function() {\n          debug(\"pre-pause polling complete\");\n          --total || pause();\n        });\n      }\n\n      if (!this.writable) {\n        debug(\"we are currently writing - waiting to pause\");\n        total++;\n        this.once(\"drain\", function() {\n          debug(\"pre-pause writing complete\");\n          --total || pause();\n        });\n      }\n    } else {\n      pause();\n    }\n  }\n\n  /**\n   * Starts polling cycle.\n   *\n   * @api public\n   */\n  poll() {\n    debug(\"polling\");\n    this.polling = true;\n    this.doPoll();\n    this.emit(\"poll\");\n  }\n\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @api private\n   */\n  onData(data) {\n    debug(\"polling got data %s\", data);\n    const callback = packet => {\n      // if its the first message we consider the transport open\n      if (\"opening\" === this.readyState && packet.type === \"open\") {\n        this.onOpen();\n      }\n\n      // if its a close packet, we close the ongoing requests\n      if (\"close\" === packet.type) {\n        this.onClose();\n        return false;\n      }\n\n      // otherwise bypass onData and handle the message\n      this.onPacket(packet);\n    };\n\n    // decode payload\n    parser.decodePayload(data, this.socket.binaryType).forEach(callback);\n\n    // if an event did not trigger closing\n    if (\"closed\" !== this.readyState) {\n      // if we got data we're not polling\n      this.polling = false;\n      this.emit(\"pollComplete\");\n\n      if (\"open\" === this.readyState) {\n        this.poll();\n      } else {\n        debug('ignoring poll - transport state \"%s\"', this.readyState);\n      }\n    }\n  }\n\n  /**\n   * For polling, send a close packet.\n   *\n   * @api private\n   */\n  doClose() {\n    const close = () => {\n      debug(\"writing close packet\");\n      this.write([{ type: \"close\" }]);\n    };\n\n    if (\"open\" === this.readyState) {\n      debug(\"transport open - closing\");\n      close();\n    } else {\n      // in case we're trying to close while\n      // handshaking is in progress (GH-164)\n      debug(\"transport not open - deferring close\");\n      this.once(\"open\", close);\n    }\n  }\n\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} data packets\n   * @param {Function} drain callback\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    parser.encodePayload(packets, data => {\n      this.doWrite(data, () => {\n        this.writable = true;\n        this.emit(\"drain\");\n      });\n    });\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"https\" : \"http\";\n    let port = \"\";\n\n    // cache busting is forced\n    if (false !== this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    if (!this.supportsBinary && !query.sid) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n        (\"http\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n}\n\nmodule.exports = Polling;\n","const parser = require(\"engine.io-parser\");\nconst Emitter = require(\"component-emitter\");\nconst { installTimerFunctions } = require(\"./util\");\nconst debug = require(\"debug\")(\"engine.io-client:transport\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n    installTimerFunctions(this, opts);\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      // this might happen if the transport was silently closed in the beforeunload event handler\n      debug(\"transport is not open, discarding packets\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n","const encodePacket = require(\"./encodePacket\");\nconst decodePacket = require(\"./decodePacket\");\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\nconst encodePayload = (packets, callback) => {\n  // some packets may be added to the array while encoding, so the initial length must be saved\n  const length = packets.length;\n  const encodedPackets = new Array(length);\n  let count = 0;\n\n  packets.forEach((packet, i) => {\n    // force base64 encoding for binary packets\n    encodePacket(packet, false, encodedPacket => {\n      encodedPackets[i] = encodedPacket;\n      if (++count === length) {\n        callback(encodedPackets.join(SEPARATOR));\n      }\n    });\n  });\n};\n\nconst decodePayload = (encodedPayload, binaryType) => {\n  const encodedPackets = encodedPayload.split(SEPARATOR);\n  const packets = [];\n  for (let i = 0; i < encodedPackets.length; i++) {\n    const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n    packets.push(decodedPacket);\n    if (decodedPacket.type === \"error\") {\n      break;\n    }\n  }\n  return packets;\n};\n\nmodule.exports = {\n  protocol: 4,\n  encodePacket,\n  encodePayload,\n  decodePacket,\n  decodePayload\n};\n","const { PACKET_TYPES } = require(\"./commons\");\n\nconst withNativeBlob =\n  typeof Blob === \"function\" ||\n  (typeof Blob !== \"undefined\" &&\n    Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\"\n    ? ArrayBuffer.isView(obj)\n    : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (\n    withNativeArrayBuffer &&\n    (data instanceof ArrayBuffer || isView(data))\n  ) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  }\n  // plain string\n  return callback(PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n  fileReader.onload = function() {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n  return fileReader.readAsDataURL(data);\n};\n\nmodule.exports = encodePacket;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\n\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\n\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\nmodule.exports = {\n  PACKET_TYPES,\n  PACKET_TYPES_REVERSE,\n  ERROR_PACKET\n};\n","const { PACKET_TYPES_REVERSE, ERROR_PACKET } = require(\"./commons\");\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\nlet base64decoder;\nif (withNativeArrayBuffer) {\n  base64decoder = require(\"base64-arraybuffer\");\n}\n\nconst decodePacket = (encodedPacket, binaryType) => {\n  if (typeof encodedPacket !== \"string\") {\n    return {\n      type: \"message\",\n      data: mapBinary(encodedPacket, binaryType)\n    };\n  }\n  const type = encodedPacket.charAt(0);\n  if (type === \"b\") {\n    return {\n      type: \"message\",\n      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n    };\n  }\n  const packetType = PACKET_TYPES_REVERSE[type];\n  if (!packetType) {\n    return ERROR_PACKET;\n  }\n  return encodedPacket.length > 1\n    ? {\n        type: PACKET_TYPES_REVERSE[type],\n        data: encodedPacket.substring(1)\n      }\n    : {\n        type: PACKET_TYPES_REVERSE[type]\n      };\n};\n\nconst decodeBase64Packet = (data, binaryType) => {\n  if (base64decoder) {\n    const decoded = base64decoder.decode(data);\n    return mapBinary(decoded, binaryType);\n  } else {\n    return { base64: true, data }; // fallback for old browsers\n  }\n};\n\nconst mapBinary = (data, binaryType) => {\n  switch (binaryType) {\n    case \"blob\":\n      return data instanceof ArrayBuffer ? new Blob([data]) : data;\n    case \"arraybuffer\":\n    default:\n      return data; // assuming the data is already an ArrayBuffer\n  }\n};\n\nmodule.exports = decodePacket;\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","const globalThis = require(\"./globalThis\");\n\nmodule.exports.pick = (obj, ...attr) => {\n  return attr.reduce((acc, k) => {\n    if (obj.hasOwnProperty(k)) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\n\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\n\nmodule.exports.installTimerFunctions = (obj, opts) => {\n  if (opts.useNativeTimers) {\n    obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n    obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n  } else {\n    obj.setTimeoutFn = setTimeout.bind(globalThis);\n    obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n  }\n};\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","const Polling = require(\"./polling\");\nconst globalThis = require(\"../globalThis\");\n\nconst rNewline = /\\n/g;\nconst rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nlet callbacks;\n\nclass JSONPPolling extends Polling {\n  /**\n   * JSONP Polling constructor.\n   *\n   * @param {Object} opts.\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.query = this.query || {};\n\n    // define global callbacks array if not present\n    // we do this here (lazily) to avoid unneeded global pollution\n    if (!callbacks) {\n      // we need to consider multiple engines in the same page\n      callbacks = globalThis.___eio = globalThis.___eio || [];\n    }\n\n    // callback identifier\n    this.index = callbacks.length;\n\n    // add callback to jsonp global\n    callbacks.push(this.onData.bind(this));\n\n    // append to query string\n    this.query.j = this.index;\n  }\n\n  /**\n   * JSONP only supports binary as base64 encoded strings\n   */\n  get supportsBinary() {\n    return false;\n  }\n\n  /**\n   * Closes the socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (this.script) {\n      // prevent spurious errors from being emitted when the window is unloaded\n      this.script.onerror = () => {};\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    if (this.form) {\n      this.form.parentNode.removeChild(this.form);\n      this.form = null;\n      this.iframe = null;\n    }\n\n    super.doClose();\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    const script = document.createElement(\"script\");\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.uri();\n    script.onerror = e => {\n      this.onError(\"jsonp poll error\", e);\n    };\n\n    const insertAt = document.getElementsByTagName(\"script\")[0];\n    if (insertAt) {\n      insertAt.parentNode.insertBefore(script, insertAt);\n    } else {\n      (document.head || document.body).appendChild(script);\n    }\n    this.script = script;\n\n    const isUAgecko =\n      \"undefined\" !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n      this.setTimeoutFn(function() {\n        const iframe = document.createElement(\"iframe\");\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  }\n\n  /**\n   * Writes with a hidden iframe.\n   *\n   * @param {String} data to send\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    let iframe;\n\n    if (!this.form) {\n      const form = document.createElement(\"form\");\n      const area = document.createElement(\"textarea\");\n      const id = (this.iframeId = \"eio_iframe_\" + this.index);\n\n      form.className = \"socketio\";\n      form.style.position = \"absolute\";\n      form.style.top = \"-1000px\";\n      form.style.left = \"-1000px\";\n      form.target = id;\n      form.method = \"POST\";\n      form.setAttribute(\"accept-charset\", \"utf-8\");\n      area.name = \"d\";\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.uri();\n\n    function complete() {\n      initIframe();\n      fn();\n    }\n\n    const initIframe = () => {\n      if (this.iframe) {\n        try {\n          this.form.removeChild(this.iframe);\n        } catch (e) {\n          this.onError(\"jsonp polling iframe removal error\", e);\n        }\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        const html = '<iframe src=\"javascript:0\" name=\"' + this.iframeId + '\">';\n        iframe = document.createElement(html);\n      } catch (e) {\n        iframe = document.createElement(\"iframe\");\n        iframe.name = this.iframeId;\n        iframe.src = \"javascript:0\";\n      }\n\n      iframe.id = this.iframeId;\n\n      this.form.appendChild(iframe);\n      this.iframe = iframe;\n    };\n\n    initIframe();\n\n    // escape \\n to prevent it from being converted into \\r\\n by some UAs\n    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n    data = data.replace(rEscapedNewline, \"\\\\\\n\");\n    this.area.value = data.replace(rNewline, \"\\\\n\");\n\n    try {\n      this.form.submit();\n    } catch (e) {}\n\n    if (this.iframe.attachEvent) {\n      this.iframe.onreadystatechange = () => {\n        if (this.iframe.readyState === \"complete\") {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n  }\n}\n\nmodule.exports = JSONPPolling;\n","const Transport = require(\"../transport\");\nconst parser = require(\"engine.io-parser\");\nconst parseqs = require(\"parseqs\");\nconst yeast = require(\"yeast\");\nconst { pick } = require(\"../util\");\nconst {\n  WebSocket,\n  usingBrowserWebSocket,\n  defaultBinaryType,\n  nextTick\n} = require(\"./websocket-constructor\");\n\nconst debug = require(\"debug\")(\"engine.io-client:websocket\");\n\n// detect ReactNative environment\nconst isReactNative =\n  typeof navigator !== \"undefined\" &&\n  typeof navigator.product === \"string\" &&\n  navigator.product.toLowerCase() === \"reactnative\";\n\nclass WS extends Transport {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @api {Object} connection options\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.supportsBinary = !opts.forceBase64;\n  }\n\n  /**\n   * Transport name.\n   *\n   * @api public\n   */\n  get name() {\n    return \"websocket\";\n  }\n\n  /**\n   * Opens socket.\n   *\n   * @api private\n   */\n  doOpen() {\n    if (!this.check()) {\n      // let probe timeout\n      return;\n    }\n\n    const uri = this.uri();\n    const protocols = this.opts.protocols;\n\n    // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n    const opts = isReactNative\n      ? {}\n      : pick(\n          this.opts,\n          \"agent\",\n          \"perMessageDeflate\",\n          \"pfx\",\n          \"key\",\n          \"passphrase\",\n          \"cert\",\n          \"ca\",\n          \"ciphers\",\n          \"rejectUnauthorized\",\n          \"localAddress\",\n          \"protocolVersion\",\n          \"origin\",\n          \"maxPayload\",\n          \"family\",\n          \"checkServerIdentity\"\n        );\n\n    if (this.opts.extraHeaders) {\n      opts.headers = this.opts.extraHeaders;\n    }\n\n    try {\n      this.ws =\n        usingBrowserWebSocket && !isReactNative\n          ? protocols\n            ? new WebSocket(uri, protocols)\n            : new WebSocket(uri)\n          : new WebSocket(uri, protocols, opts);\n    } catch (err) {\n      return this.emit(\"error\", err);\n    }\n\n    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n\n    this.addEventListeners();\n  }\n\n  /**\n   * Adds event listeners to the socket\n   *\n   * @api private\n   */\n  addEventListeners() {\n    this.ws.onopen = () => {\n      if (this.opts.autoUnref) {\n        this.ws._socket.unref();\n      }\n      this.onOpen();\n    };\n    this.ws.onclose = this.onClose.bind(this);\n    this.ws.onmessage = ev => this.onData(ev.data);\n    this.ws.onerror = e => this.onError(\"websocket error\", e);\n  }\n\n  /**\n   * Writes data to socket.\n   *\n   * @param {Array} array of packets.\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    // encodePacket efficient as it uses WS framing\n    // no need for encodePayload\n    for (let i = 0; i < packets.length; i++) {\n      const packet = packets[i];\n      const lastPacket = i === packets.length - 1;\n\n      parser.encodePacket(packet, this.supportsBinary, data => {\n        // always create a new object (GH-437)\n        const opts = {};\n        if (!usingBrowserWebSocket) {\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (this.opts.perMessageDeflate) {\n            const len =\n              \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < this.opts.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            this.ws.send(data);\n          } else {\n            this.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug(\"websocket closed before onclose event\");\n        }\n\n        if (lastPacket) {\n          // fake drain\n          // defer to next tick to allow Socket to clear writeBuffer\n          nextTick(() => {\n            this.writable = true;\n            this.emit(\"drain\");\n          }, this.setTimeoutFn);\n        }\n      });\n    }\n  }\n\n  /**\n   * Called upon close\n   *\n   * @api private\n   */\n  onClose() {\n    Transport.prototype.onClose.call(this);\n  }\n\n  /**\n   * Closes socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (typeof this.ws !== \"undefined\") {\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"wss\" : \"ws\";\n    let port = \"\";\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n        (\"ws\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // append timestamp to URI\n    if (this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    // communicate binary support capabilities\n    if (!this.supportsBinary) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @api public\n   */\n  check() {\n    return (\n      !!WebSocket &&\n      !(\"__initialize\" in WebSocket && this.name === WS.prototype.name)\n    );\n  }\n}\n\nmodule.exports = WS;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","const globalThis = require(\"../globalThis\");\nconst nextTick = (() => {\n  const isPromiseAvailable =\n    typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n  if (isPromiseAvailable) {\n    return cb => Promise.resolve().then(cb);\n  } else {\n    return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n  }\n})();\n\nmodule.exports = {\n  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,\n  usingBrowserWebSocket: true,\n  defaultBinaryType: \"arraybuffer\",\n  nextTick\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst typed_events_1 = require(\"./typed-events\");\nconst debug = require(\"debug\")(\"socket.io-client:socket\");\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends typed_events_1.StrictEventEmitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.connected = false;\n        this.disconnected = true;\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            (0, on_1.on)(io, \"open\", this.onopen.bind(this)),\n            (0, on_1.on)(io, \"packet\", this.onpacket.bind(this)),\n            (0, on_1.on)(io, \"error\", this.onerror.bind(this)),\n            (0, on_1.on)(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            debug(\"emitting packet with ack id %d\", this.ids);\n            this.acks[this.ids] = args.pop();\n            packet.id = this.ids++;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst Emitter = require(\"component-emitter\");\nconst binary_1 = require(\"./binary\");\nconst is_binary_1 = require(\"./is-binary\");\nconst debug = require(\"debug\")(\"socket.io-parser\");\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emit(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emit(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emit(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_1 = require(\"./is-binary\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StrictEventEmitter = void 0;\nconst Emitter = require(\"component-emitter\");\n/**\n * Strictly typed version of an `EventEmitter`. A `TypedEventEmitter` takes type\n * parameters for mappings of event names to event data types, and strictly\n * types method calls to the `EventEmitter` according to these event maps.\n *\n * @typeParam ListenEvents - `EventsMap` of user-defined events that can be\n * listened to with `on` or `once`\n * @typeParam EmitEvents - `EventsMap` of user-defined events that can be\n * emitted with `emit`\n * @typeParam ReservedEvents - `EventsMap` of reserved events, that can be\n * emitted by socket.io with `emitReserved`, and can be listened to with\n * `listen`.\n */\nclass StrictEventEmitter extends Emitter {\n    /**\n     * Adds the `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    on(ev, listener) {\n        super.on(ev, listener);\n        return this;\n    }\n    /**\n     * Adds a one-time `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    once(ev, listener) {\n        super.once(ev, listener);\n        return this;\n    }\n    /**\n     * Emits an event.\n     *\n     * @param ev Name of the event\n     * @param args Values to send to listeners of this event\n     */\n    emit(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Emits a reserved event.\n     *\n     * This method is `protected`, so that only a class extending\n     * `StrictEventEmitter` can emit its own reserved events.\n     *\n     * @param ev Reserved event name\n     * @param args Arguments to emit along with the event\n     */\n    emitReserved(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Returns the listeners listening to an event.\n     *\n     * @param event Event name\n     * @returns Array of listeners subscribed to `event`\n     */\n    listeners(event) {\n        return super.listeners(event);\n    }\n}\nexports.StrictEventEmitter = StrictEventEmitter;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","'use strict';\n\nconst { io } = require('socket.io-client');\n\nconst { constants, Message, NOP } = require('../shared.js');\nconst Interactor = require('./Interactor.js');\n\n// Symbols to identify these methods as intended only for internal use\nconst symbols = Object.freeze({\n  attachSocketIoListeners: Symbol('attachSocketIoListeners'),\n  render: Symbol('render'),\n});\n\n/**\n * The ClientController coordinates communication with the wams server. It sends\n * messages based on user interaction with the canvas and receives messages from\n * the server detailing changes to post to the view.\n *\n * @memberof module:client\n *\n * @param {HTMLCanvasElement} canvas - The underlying CanvasElement object, (not\n * the context), which will fill the page.\n * @param {module:client.ClientView} view - The view that will handle rendering\n * duties.\n * @param {module:client.ClientModel} model - The client-side copy of the\n * server's model.\n */\nclass ClientController {\n  constructor(root, canvas, view, model) {\n    /**\n     * Root element where WAMS canvas and HTML elements are located.\n     *\n     * @type {Element}\n     */\n    this.rootElement = root;\n\n    /**\n     * The HTMLCanvasElement object is stored by the ClientController so that it\n     * is able to respond to user events triggered on the canvas. The view only\n     * needs to know about the canvas drawing context.\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas = canvas;\n\n    /**\n     * From socket.io, the socket provides a channel of communication with the\n     * server.\n     *\n     * @type {Socket}\n     * @see {@link https://socket.io/docs/client-api/}\n     */\n    this.socket = null;\n\n    /**\n     * The ClientModel is a client-side copy of the workspace model, kept up to\n     * date by the controller.\n     *\n     * @type {module:client.ClientModel}\n     */\n    this.model = model;\n\n    /**\n     * The ClientView handles the final rendering of the model, as informed by\n     * the controller.\n     *\n     * @type {module:client.ClientView}\n     */\n    this.view = view;\n\n    /**\n     * List of custom event names that will be listened to.\n     *\n     * @type {array}\n     */\n    this.eventListeners = [];\n\n    /**\n     * Queue of events to be called once Client-side listeners are set up.\n     *\n     * @type {array}\n     */\n    this.eventQueue = [];\n\n    /**\n     * Tracks whether a render has been scheduled for the next render frame.\n     *\n     * @type {boolean}\n     */\n    this.renderScheduled = false;\n\n    /**\n     * Bound reference to the render method, for use as a callback.\n     *\n     * @type {function}\n     */\n    this.render_fn = this[symbols.render].bind(this);\n\n    /*\n     * For proper function, we need to make sure that the canvas is as large as\n     * it can be at all times, and that at all times we know how big the canvas\n     * is.\n     */\n    this.resizeCanvasToFillWindow();\n  }\n\n  /**\n   * Attaches listeners to messages received over the socket connection. All\n   * received messages at this layer should be those conforming to the Message /\n   * Reporter protocol.\n   *\n   * This internal routine should be called as part of socket establishment.\n   *\n   * @alias [@@attachSocketIoListeners]\n   * @memberof module:client.ClientController\n   */\n  [symbols.attachSocketIoListeners]() {\n    const listeners = {\n      // For the server to inform about changes to the model\n      [Message.ADD_ELEMENT]: (data) => this.model.addElement(data),\n      [Message.ADD_IMAGE]: (data) => this.model.addImage(data),\n      [Message.ADD_ITEM]: (data) => this.model.addItem(data),\n      [Message.ADD_SHADOW]: (data) => this.model.addShadow(data),\n      [Message.RM_ITEM]: (data) => this.model.removeItem(data),\n      [Message.RM_SHADOW]: (data) => this.model.removeShadow(data),\n      [Message.UD_ITEM]: (data) => this.model.updateItem(data),\n      [Message.UD_SHADOW]: (data) => this.model.updateShadow(data),\n      [Message.UD_VIEW]: (data) => this.model.updateView(data),\n\n      // For hopefully occasional extra adjustments to objects in the model.\n      [Message.RM_ATTRS]: (data) => this.model.removeAttributes(data),\n      [Message.SET_ATTRS]: (data) => this.model.setAttributes(data),\n      [Message.SET_IMAGE]: (data) => this.model.setImage(data),\n      [Message.SET_RENDER]: (data) => this.model.setRender(data),\n      [Message.SET_PARENT]: (data) => this.model.setParent(data),\n\n      // Connection establishment related (disconnect, initial setup)\n      [Message.INITIALIZE]: this.initialize.bind(this),\n      [Message.LAYOUT]: NOP,\n\n      // User event related\n      [Message.CLICK]: NOP,\n      [Message.RESIZE]: NOP,\n      [Message.SWIPE]: NOP,\n      [Message.TRACK]: NOP,\n      [Message.TRANSFORM]: NOP,\n\n      // Multi-device gesture related\n      [Message.POINTER]: NOP,\n      [Message.BLUR]: NOP,\n\n      // TODO: This could be more... elegant...\n      [Message.FULL]: () => {\n        document.body.innerHTML = 'WAMS is full! :(';\n      },\n\n      // For user-defined behavior\n      [Message.DISPATCH]: this.handleCustomEvent.bind(this),\n    };\n\n    Object.entries(listeners).forEach(([p, v]) => this.socket.on(p, v));\n    this.socket.onAny(this.scheduleRender.bind(this));\n\n    // Keep the view size up to date.\n    window.addEventListener('resize', this.resize.bind(this), false);\n\n    /*\n     * As no automatic draw loop is used, (there are no animations), need to\n     * know when to re-render in response to an image loading.\n     */\n    const scheduleFn = this.scheduleRender.bind(this);\n    document.addEventListener(Message.IMG_LOAD, scheduleFn);\n  }\n\n  /**\n   * Establishes a socket.io connection with the server, using the global WAMS\n   * namespace. Connections should be non-persistent over disconnects, (i.e., no\n   * reconnections), as this was the cause of many bugs.\n   *\n   * This internal routine should be called automatically upon ClientController\n   * instantiation.\n   */\n  connect() {\n    this.socket = io(constants.NS_WAMS, {\n      autoConnect: false,\n      reconnection: false,\n      transports: ['websocket', 'polling'],\n    });\n    this[symbols.attachSocketIoListeners]();\n    window.requestAnimationFrame(this.render_fn);\n    this.socket.connect();\n  }\n\n  /**\n   * Renders a frame.\n   *\n   * @alias [@@render]\n   * @memberof module:client.ClientController\n   */\n  [symbols.render]() {\n    if (this.renderScheduled) {\n      this.view.draw();\n      this.renderScheduled = false;\n    }\n    window.requestAnimationFrame(this.render_fn);\n  }\n\n  /**\n   * @param {object} data\n   */\n  handleCustomEvent(data) {\n    if (this.eventListeners.indexOf(data.action) < 0) {\n      this.eventQueue.push(data);\n    }\n    this.model.dispatch(data);\n  }\n\n  /**\n   * For responding to window resizing by the user. Resizes the canvas to fit\n   * the new window size, and reports the change to the server so it can be\n   * reflected in the model.\n   */\n  resize() {\n    this.resizeCanvasToFillWindow();\n    this.socket.emit(Message.RESIZE, this.view);\n    this.view.draw();\n  }\n\n  /**\n   * Stretches the canvas to fit the available window space, and updates the\n   * view accordingly.\n   *\n   * Note: Scaling to account for device pixel ratio is disabled for iOS\n   * as a workaround for a bug with Safari and Chrome, where `context.setTransform`\n   * would make the page unresponsive.\n   */\n  resizeCanvasToFillWindow() {\n    const iOS = /iPad|iPhone|iPod|Apple/.test(window.navigator.platform);\n    const dpr = iOS ? 1 : window.devicePixelRatio || 1;\n    const w = window.innerWidth;\n    const h = window.innerHeight;\n    this.canvas.width = w * dpr;\n    this.canvas.height = h * dpr;\n    this.canvas.style.width = `${w}px`;\n    this.canvas.style.height = `${h}px`;\n    this.view.resizeToFillWindow(dpr, iOS);\n  }\n\n  /**\n   * Schedules a render for the next frame interval.\n   */\n  scheduleRender() {\n    this.renderScheduled = true;\n  }\n\n  /**\n   * As this object will be instantiated on page load, and will generate a view\n   * before communication lines with the server have been opened, the view will\n   * not reflect the model automatically. This function responds to a message\n   * from the server which contains the current state of the model, and forwards\n   * this data to the view so that it can correctly render the model.\n   */\n  initialize(data) {\n    const { clientScripts, stylesheets, title, backgroundImage, color, useMultiScreenGestures } = data.settings;\n    if (clientScripts) this.loadClientScripts(clientScripts);\n    if (stylesheets) this.loadStylesheets(stylesheets);\n    document.title = title;\n\n    this.view.id = data.viewId;\n\n    if (backgroundImage) {\n      this.canvas.style.backgroundColor = 'transparent';\n      document.body.style.backgroundImage = `url(\"${backgroundImage}\")`;\n    } else {\n      this.canvas.style.backgroundColor = color;\n    }\n    this.model.initialize(data);\n    this.setupInteractor(useMultiScreenGestures);\n\n    // Need to tell the model what the view looks like once setup is complete.\n    this.socket.emit(Message.LAYOUT, this.view);\n  }\n\n  loadClientScripts(scripts) {\n    scripts.forEach((src) => {\n      const script = document.createElement('script');\n      script.src = src;\n      document.body.appendChild(script);\n    });\n  }\n\n  loadStylesheets(stylesheets) {\n    stylesheets.forEach((src) => {\n      const link = document.createElement('link');\n      link.href = src;\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      document.head.appendChild(link);\n    });\n  }\n\n  /**\n   * The Interactor is a level of abstraction between the ClientController and\n   * the gesture recognition library such that libraries can be swapped out\n   * more easily, if need be. At least in theory. All the ClientController\n   * needs to provide is handler functions for responding to the recognized\n   * gestures.\n   *\n   * @param {boolean} [useMultiScreenGestures=false] Whether to use server-side\n   * gestures. Default is to use client-side gestures.\n   */\n  setupInteractor(useMultiScreenGestures = false) {\n    // if (useMultiScreenGestures) {\n    //   this.setupInputForwarding();\n    // } else {\n    // eslint-disable-next-line\n    this.setupInputForwarding();\n    return new Interactor(this.rootElement, {\n      swipe: this.socket.emit.bind(this.socket, Message.SWIPE),\n      tap: this.socket.emit.bind(this.socket, Message.CLICK),\n      track: this.socket.emit.bind(this.socket, Message.TRACK),\n      transform: this.socket.emit.bind(this.socket, Message.TRANSFORM),\n    });\n  }\n\n  /**\n   * Set up input event forwarding.\n   */\n  setupInputForwarding() {\n    this.forwardPointerEvents();\n    this.forwardBlurEvents();\n  }\n\n  /**\n   * Forward the given events, by using the given callback.\n   *\n   * @param {string[]} eventnames\n   * @param {function} callback\n   */\n  forwardEvents(eventnames, callback) {\n    eventnames.forEach((eventname) => {\n      window.addEventListener(eventname, callback, {\n        capture: true,\n        once: false,\n        passive: false,\n      });\n    });\n  }\n\n  /**\n   * Forward blur and cancel events.\n   */\n  forwardBlurEvents() {\n    this.forwardEvents(['pointercancel', 'blur'], (event) => {\n      this.socket.emit(Message.BLUR, {});\n    });\n  }\n\n  /**\n   * Forward pointer events.\n   */\n  forwardPointerEvents() {\n    this.forwardEvents(['pointerdown', 'pointermove', 'pointerup'], (event) => {\n      // Extract only the properties we care about\n      const { type, pointerId, clientX, clientY, target, altKey, ctrlKey, metaKey, shiftKey } = event;\n      this.socket.emit(Message.POINTER, {\n        type,\n        pointerId,\n        clientX,\n        clientY,\n        target,\n        altKey,\n        ctrlKey,\n        metaKey,\n        shiftKey,\n      });\n    });\n  }\n\n  /**\n   * Dispatch a custom ServerEvent.\n   *\n   * @param {string} action\n   * @param {object} payload\n   */\n  dispatch(action, payload) {\n    this.socket.emit(Message.DISPATCH, { action, payload });\n  }\n}\n\nmodule.exports = ClientController;\n","'use strict';\n\n/**\n * Given a previous ID, returns the next unique ID in the sequence.\n *\n * @inner\n * @memberof module:shared.IdStamper\n * @throws Error\n *\n * @param {number} previous - The previously assigned unique ID.\n *\n * @returns {number} The next unique ID\n */\nfunction getUniqueId(previous) {\n  const next = previous + 1;\n  if (Number.isSafeInteger(next)) {\n    return next;\n  }\n  throw new Error('Ran out of unique IDs!');\n}\n\n/**\n * Class for stamping and cloning integer IDs. Stamped IDs are unique on a\n * per-IdStamper basis.\n *\n * @example\n * const stamper = new IdStamper();\n * const obj = {};\n * stamper.stampNewId(obj);\n * console.log(obj.id);  // an integer unique to Ids stamped by stamper\n * obj.id = 2;           // has no effect.\n * delete obj.id;        // false\n *\n * const danger = {};\n * IdStamper.cloneId(danger, obj.id); // Will work. 'danger' & 'obj' are\n *                                    // now both using the same Id.\n *\n * @memberof module:shared\n */\nclass IdStamper {\n  constructor() {\n    /**\n     * The value of the previously assigned ID.\n     *\n     * @type {number}\n     * @memberof module:shared.IdStamper\n     */\n    this.previousId = 0;\n  }\n\n  /**\n   * Stamps an integer ID, unique to this IdStamper, onto the given object.\n   *\n   * All Ids produced by this method are guaranteed to be unique, on a\n   * per-stamper basis. (Two uniquely constructed stampers can and will generate\n   * identical Ids).\n   *\n   * @param {Object} obj - An object onto which an ID will be stamped.\n   */\n  stampNewId(obj) {\n    this.previousId = getUniqueId(this.previousId);\n    Object.defineProperty(obj, 'id', {\n      value: this.previousId,\n      configurable: false,\n      enumerable: true,\n      writable: false,\n    });\n  }\n\n  /**\n   * Stamps a clone of the given ID onto the given object.\n   *\n   * @param {Object} obj - An object onto which an ID will be stamped.\n   * @param {number} id - The ID to clone onto obj.\n   */\n  static cloneId(obj, id) {\n    if (Number.isSafeInteger(id)) {\n      Object.defineProperty(obj, 'id', {\n        value: id,\n        configurable: false,\n        enumerable: true,\n        writable: false,\n      });\n    }\n  }\n}\n\nmodule.exports = IdStamper;\n","'use strict';\n\n/**\n * Enum of the various message types.\n *\n * @name Message\n * @enum {string}\n * @readonly\n */\nconst Message = {\n  // For the server to inform about changes to the model\n  /** @const */ ADD_ELEMENT: 'add-element',\n  /** @const */ ADD_IMAGE: 'add-image',\n  /** @const */ ADD_ITEM: 'add-item',\n  /** @const */ ADD_SHADOW: 'add-shadow',\n  /** @const */ ADD_GROUP: 'add-group',\n  /** @const */ RM_ITEM: 'remove-item',\n  /** @const */ RM_SHADOW: 'remove-shadow',\n  /** @const */ UD_ITEM: 'update-item',\n  /** @const */ UD_SHADOW: 'update-shadow',\n  /** @const */ UD_VIEW: 'update-view',\n\n  // For hopefully occasional extra adjustments to objects in the model.\n  /** @const */ RM_ATTRS: 'remove-attributes',\n  /** @const */ SET_ITEMS: 'set-items',\n  /** @const */ SET_ATTRS: 'set-attributes',\n  /** @const */ SET_IMAGE: 'set-image',\n  /** @const */ SET_RENDER: 'set-render',\n  /** @const */ SET_PARENT: 'set-parent',\n\n  // Connection establishment related (disconnect, initial setup)\n  /** @const */ INITIALIZE: 'initialize',\n  /** @const */ LAYOUT: 'layout',\n  /** @const */ FULL: 'full',\n\n  // User event related\n  /** @const */ CLICK: 'click',\n  /** @const */ RESIZE: 'resize',\n  /** @const */ SWIPE: 'swipe',\n  /** @const */ TRACK: 'track',\n  /** @const */ TRANSFORM: 'transform',\n\n  // Multi-device gesture related\n  /** @const */ POINTER: 'pointer',\n  /** @const */ BLUR: 'blur',\n\n  // Page event related\n  /** @const */ IMG_LOAD: 'image-loaded',\n\n  // User defined actions\n  /** @const */ DISPATCH: 'dispatch',\n};\nObject.freeze(Message);\n\nmodule.exports = Message;\n","'use strict';\n\n/**\n * This Item class provides a common interface between the client and the server\n * by which the Items can interact safely.\n *\n * @class Item\n * @memberof module:shared\n */\nclass Item {\n  constructor(values = {}) {\n    Object.assign(this, {\n      id: null,\n\n      /**\n       * @name x\n       * @type {number}\n       * @default 0\n       * @memberof module:shared.Item\n       * @instance\n       */\n      x: 0,\n\n      /**\n       * @name y\n       * @type {number}\n       * @default 0\n       * @memberof module:shared.Item\n       * @instance\n       */\n      y: 0,\n\n      /**\n       * @name rotation\n       * @type {number}\n       * @default 0\n       * @memberof module:shared.Item\n       * @instance\n       */\n      rotation: 0,\n\n      /**\n       * @name scale\n       * @type {number}\n       * @default 1\n       * @memberof module:shared.Item\n       * @instance\n       */\n      scale: 1,\n\n      /**\n       * @name type\n       * @type {string}\n       * @default 'item/polygonal'\n       * @memberof module:shared.Item\n       * @instance\n       */\n      type: 'item/polygonal',\n\n      /**\n       * Whether to raise item upon interaction or lock Z position instead.\n       *\n       * @name lockZ\n       * @type {boolean}\n       * @default false\n       * @memberof module:shared.Item\n       * @instance\n       */\n      lockZ: false,\n\n      ...values, // Assigns additional attributes to the object\n    });\n  }\n\n  /**\n   * @return object A serialized version of the item, ready for transmission.\n   */\n  toJSON() {\n    return {\n      id: this.id,\n      x: this.x,\n      y: this.y,\n      rotation: this.rotation,\n      scale: this.scale,\n      type: this.type,\n      lockZ: this.lockZ,\n    };\n  }\n}\n\nclass RectangularItem extends Item {\n  constructor(values = {}) {\n    super({\n      /**\n       * @name width\n       * @type {number}\n       * @default 400\n       * @memberof module:shared.WamsElement\n       * @instance\n       */\n      width: 400,\n\n      /**\n       * @name height\n       * @type {number}\n       * @default 300\n       * @memberof module:shared.WamsElement\n       * @instance\n       */\n      height: 300,\n\n      type: 'item/rectangular',\n      ...values, // Assigns additional attributes to the object\n    });\n  }\n\n  /**\n   * @return object A serialized version of the item, ready for transmission.\n   * @override\n   */\n  toJSON() {\n    return {\n      ...super.toJSON(),\n      width: this.width,\n      height: this.height,\n    };\n  }\n}\n\n/**\n * This WamsElement class provides a common interface between the client and the\n * server by which the elements interact safely.\n *\n * @class WamsElement\n * @memberof module:shared\n */\nclass WamsElement extends RectangularItem {\n  constructor(values = {}) {\n    super({\n      /**\n       * Type of DOM element this represents.\n       *\n       * @name tagname\n       * @type {string}\n       * @default 'div'\n       * @memberof module:shared.WamsElement\n       * @instance\n       */\n      tagname: 'div',\n\n      type: 'item/element',\n      ...values, // Assigns additional attributes to the object\n    });\n  }\n\n  /**\n   * @return object A serialized version of the item, ready for transmission.\n   */\n  toJSON() {\n    return {\n      ...super.toJSON(),\n      tagname: this.tagname,\n    };\n  }\n}\n\n/**\n * This WamsImage class provides a common interface between the client and the\n * server by which the images can interact safely.\n *\n * @class WamsImage\n * @memberof module:shared\n */\nclass WamsImage extends RectangularItem {\n  constructor(values = {}) {\n    super({\n      type: 'item/image',\n      ...values, // Assigns additional attributes to the object\n    });\n  }\n}\n\n/**\n * This View class provides a common interface between the client and\n * the server by which the Views can interact safely.\n *\n * @class View\n * @memberof module:shared\n */\nclass View extends RectangularItem {\n  constructor(values = {}) {\n    super({\n      width: 1600,\n      height: 900,\n\n      /**\n       * The index is an integer identifying the View, coming from ServerController.\n       *\n       * @name index\n       * @type {number}\n       * @default undefined\n       * @memberof module:shared.View\n       * @instance\n       */\n      index: undefined,\n\n      type: 'view/background',\n      ...values, // Assigns additional attributes to the object\n    });\n  }\n\n  /**\n   * @return object A serialized version of the view, ready for transmission.\n   * @override\n   */\n  toJSON() {\n    return {\n      ...super.toJSON(),\n      index: this.index,\n    };\n  }\n}\n\nmodule.exports = {\n  Item,\n  View,\n  WamsElement,\n  WamsImage,\n};\n","'use strict';\n\n/**\n * @namespace utilities\n * @memberof module:shared\n */\n\n/**\n * Plain, simple NOP definition. If there's a faster NOP, redefine it here.\n *\n * @memberof module:shared.utilities\n */\nconst NOP = () => {};\n\n/**\n * Removes the given item from the given array, according to its Id.\n *\n * @memberof module:shared.utilities\n *\n * @param {Object[]} array - The array to modify.\n * @param {Object} item  - The item to remove from array according to its Id.\n *\n * @return {boolean} True if the item was found and removed, false otherwise.\n */\nfunction removeById(array, item) {\n  const idx = array.findIndex((o) => o.id === item.id);\n  if (idx >= 0) {\n    array.splice(idx, 1);\n    return true;\n  }\n  return false;\n}\n\nmodule.exports = Object.freeze({\n  NOP,\n  removeById,\n});\n","'use strict';\n\n/**\n * Defines a set of basic operations on a point in a two dimensional space.\n *\n * @memberof module:shared\n *\n * @param {number} [x=0] - x coordinate of the point.\n * @param {number} [y=0] - y coordinate of the point.\n */\nclass Point2D {\n  constructor(x = 0, y = 0) {\n    /**\n     * X coordinate of the point.\n     *\n     * @type {number}\n     */\n    this.x = x;\n\n    /**\n     * Y coordinate of the point.\n     *\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * Add the given point to this point.\n   *\n   * @param {module:shared.Point2D} point - The point to add.\n   *\n   * @return {module:shared.Point2D} this\n   */\n  add({ x = 0, y = 0 }) {\n    this.x += x;\n    this.y += y;\n    return this;\n  }\n\n  /**\n   * Calculates the angle between this point and the given point.\n   *\n   * @param {!module:shared.Point2D} point - Projected point for calculating\n   * the angle.\n   *\n   * @return {number} Radians along the unit circle where the projected point\n   * lies.\n   */\n  angleTo(point) {\n    return Math.atan2(point.y - this.y, point.x - this.x);\n  }\n\n  /**\n   * Determine the average distance from this point to the provided array of\n   * points.\n   *\n   * @param {!module:shared.Point2D[]} points - the Point2D objects to\n   * calculate the average distance to.\n   *\n   * @return {number} The average distance from this point to the provided\n   * points.\n   */\n  averageDistanceTo(points) {\n    return this.totalDistanceTo(points) / points.length;\n  }\n\n  /**\n   * Clones this point.\n   *\n   * @returns {module:shared.Point2D} An exact clone of this point.\n   */\n  clone() {\n    return new Point2D(this.x, this.y);\n  }\n\n  /**\n   * Calculates the distance between two points.\n   *\n   * @param {!module:shared.Point2D} point - Point to which the distance is\n   * calculated.\n   *\n   * @return {number} The distance between the two points, a.k.a. the\n   * hypoteneuse.\n   */\n  distanceTo(point) {\n    return Math.hypot(point.x - this.x, point.y - this.y);\n  }\n\n  /**\n   * Divide the point's values by the given amount.\n   *\n   * @param {number} coefficient - divide x,y by this amount.\n   *\n   * @return {module:shared.Point2D} this\n   */\n  divideBy(coefficient = 1) {\n    this.x /= coefficient;\n    this.y /= coefficient;\n    return this;\n  }\n\n  /**\n   * Tests if a point is Left|On|Right of an infinite line. Assumes that the\n   * given points are such that one is above and one is below this point. Note\n   * that the semantics of left/right is based on the normal coordinate space,\n   * not the y-axis-inverted coordinate space of images and the canvas.\n   *\n   * @see {@link http://geomalgorithms.com/a03-_inclusion.html}\n   *\n   * @param {module:shared.Point2D} p0 - first point of the line.\n   * @param {module:shared.Point2D} p1 - second point of the line.\n   *\n   * @return {number} >0 if this point is left of the line through p0 and p1\n   * @return {number} =0 if this point is on the line\n   * @return {number} <0 if this point is right of the line\n   */\n  isLeftOf(p0, p1) {\n    const dl = p1.minus(p0);\n    const dp = this.minus(p0);\n    return dl.x * dp.y - dl.y * dp.x;\n  }\n\n  /**\n   * Subtracts the given point from this point to form a new point.\n   *\n   * @param {module:shared.Point2D} p - Point to subtract from this point.\n   *\n   * @return {module:shared.Point2D} A new point which is the simple subraction\n   * of the given point from this point.\n   */\n  minus({ x = 0, y = 0 }) {\n    return new Point2D(this.x - x, this.y - y);\n  }\n\n  /**\n   * Multiply this point by the given point, in-place.\n   *\n   * @param {number} coefficient - Amount by which to multiply the values in\n   * this point.\n   *\n   * @return {module:shared.Point2D} this\n   */\n  multiplyBy(coefficient = 1) {\n    this.x *= coefficient;\n    this.y *= coefficient;\n    return this;\n  }\n\n  /**\n   * Rotate the point by theta radians.\n   *\n   * @param {number} theta - Amount of rotation to apply, in radians.\n   *\n   * @return {module:shared.Point2D} this\n   */\n  rotate(theta = 0) {\n    const { x, y } = this;\n    const cosTheta = Math.cos(theta);\n    const sinTheta = Math.sin(theta);\n\n    this.x = x * cosTheta - y * sinTheta;\n    this.y = x * sinTheta + y * cosTheta;\n\n    return this;\n  }\n\n  /**\n   * Calculates the total distance from this point to an array of points.\n   *\n   * @param {!module:shared.Point2D[]} points - The array of Point2D objects to\n   * calculate the total distance to.\n   *\n   * @return {number} The total distance from this point to the provided points.\n   */\n  totalDistanceTo(points) {\n    return points.reduce((d, p) => d + this.distanceTo(p), 0);\n  }\n\n  /**\n   * Calculates the midpoint of a list of points.\n   *\n   * @param {module:shared.Point2D[]} points - The array of Point2D objects for\n   * which to calculate the midpoint\n   *\n   * @return {?module:shared.Point2D} The midpoint of the provided points. Null\n   * if the provided array is empty.\n   */\n  static midpoint(points = []) {\n    if (points.length === 0) return null;\n\n    const total = Point2D.sum(points);\n    return new Point2D(total.x / points.length, total.y / points.length);\n  }\n\n  /**\n   * Calculates the sum of the given points.\n   *\n   * @param {module:shared.Point2D[]} points - The Point2D objects to sum up.\n   *\n   * @return {module:shared.Point2D} A new Point2D representing the sum of the\n   * given points.\n   */\n  static sum(points = []) {\n    return points.reduce((total, pt) => total.add(pt), new Point2D(0, 0));\n  }\n}\n\nmodule.exports = Point2D;\n","'use strict';\n\nconst Point2D = require('./Point2D.js');\n\n/**\n * A polygon in two dimensions. Can be complex.\n *\n * @memberof module:shared\n * @implements {module:shared.Hitbox}\n *\n * @param {module:shared.Point2D[]} points - The points that make up the\n * polygon, given in order (clockwise and counter-clockwise are both fine).\n */\nclass Polygon2D {\n  constructor(points) {\n    if (points.length < 1) {\n      throw new TypeError('A polygon requires at least one vertex.');\n    }\n\n    /**\n     * A closed list of the points making up this polygon. \"Closed\" here means\n     * that the first and last entries of the list are the same. Closing the\n     * polygon in this manner is handled by the constructor.\n     *\n     * @type {module:shared.Point2D[]}\n     */\n    this.points = points.map(({ x, y }) => new Point2D(x, y));\n\n    /**\n     * Store the centroid of the polygon for quick hit tests.\n     *\n     * @type {module:shared.Point2D[]}\n     */\n    this.centroid = Point2D.midpoint(this.points);\n\n    /**\n     * Save the maximum radius of the polygon for quick hit tests.\n     *\n     * @type {number}\n     */\n    this.radius = this.points.reduce((max, point) => {\n      const curr = this.centroid.distanceTo(point);\n      return max > curr ? max : curr;\n    });\n\n    // Close the polygon.\n    this.points.push(this.points[0].clone());\n  }\n\n  /**\n   * Determines if a point is inside the polygon.\n   *\n   * Rules for deciding whether a point is inside the polygon:\n   *  1. If it is clearly outside, return false.\n   *  2. If it is clearly inside, return true.\n   *  3. If it is on a left or bottom edge, return true.\n   *  4. If it is on a right or top edge, return false.\n   *  5. If it is on a lower-left vertex, return true.\n   *  6. If it is on a lower-right, upper-left, or upper-right vertex, return\n   *      false.\n   *\n   * Uses the winding number method for robust and efficient point-in-polygon\n   * detection.\n   * @see {@link http://geomalgorithms.com/a03-_inclusion.html}\n   *\n   * @param {module:shared.Point2D[]} p - Point to test.\n   *\n   * @return {boolean} true if the point is inside the polygon, false otherwise.\n   */\n  contains(p) {\n    if (this.centroid.distanceTo(p) > this.radius) {\n      return false;\n    }\n    return this.winding_number(p) !== 0;\n  }\n\n  /**\n   * Winding number test for a point in a polygon\n   *\n   * @see {@link http://geomalgorithms.com/a03-_inclusion.html}\n   *\n   * @param {module:shared.Point2D[]} point - The point to test.\n   *\n   * @return {number} The winding number (=0 only when P is outside)\n   */\n  winding_number(p) {\n    let wn = 0;\n    const point = new Point2D(p.x, p.y);\n\n    for (let i = 0; i < this.points.length - 1; ++i) {\n      if (this.points[i].y <= point.y) {\n        if (this.points[i + 1].y > point.y) {\n          // Upward crossing\n          if (point.isLeftOf(this.points[i], this.points[i + 1]) > 0) {\n            ++wn;\n          }\n        }\n      } else {\n        if (this.points[i + 1].y <= point.y) {\n          // Downward crossing\n          if (point.isLeftOf(this.points[i], this.points[i + 1]) < 0) {\n            --wn;\n          }\n        }\n      }\n    }\n\n    return wn;\n  }\n}\n\nmodule.exports = Polygon2D;\n","'use strict';\n\n/**\n * A rectangular hitbox. Remember that this rectangle describes the item as if\n * its settings were x=0, y=0, scale=1, rotation=0.\n *\n * @memberof module:shared\n * @implements {module:shared.Hitbox}\n *\n * @param {number} width - The width of the rectangle.\n * @param {number} height - The height of the rectangle.\n * @param {number} [x=0] - The x offset of the rectangle.\n * @param {number} [y=0] - The y offset of the rectangle.\n */\nclass Rectangle {\n  constructor(width, height, x = 0, y = 0) {\n    /**\n     * The width of the rectangle.\n     *\n     * @type {number}\n     */\n    this.width = width;\n\n    /**\n     * The height of the rectangle.\n     *\n     * @type {number}\n     */\n    this.height = height;\n\n    /**\n     * The x coordinate of the rectangle.\n     *\n     * @type {number}\n     */\n    this.x = x;\n\n    /**\n     * The y coordinate of the rectangle.\n     *\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * Determines if a point is inside the rectangle.\n   *\n   * @param {module:shared.Point2D} point - The point to test.\n   *\n   * @return {boolean} true if the point is inside the rectangle, false\n   * otherwise.\n   */\n  contains(point) {\n    return point.x >= this.x && point.x <= this.x + this.width && point.y >= this.y && point.y <= this.y + this.height;\n  }\n}\n\nmodule.exports = Rectangle;\n","'use strict';\n\n/**\n * A simple circular hitbox. Remember that this circle describes the item as if\n * its settings were x=0, y=0, scale=1, rotation=0.\n *\n * @memberof module:shared\n * @implements {module:shared.Hitbox}\n *\n * @param {number} radius - The radius of the circle.\n * @param {number} [x=0] - The x offset of the circle.\n * @param {number} [y=0] - The y offset of the circle.\n */\nclass Circle {\n  constructor(radius, x = 0, y = 0) {\n    /**\n     * The radius of the circle.\n     *\n     * @type {number}\n     */\n    this.radius = radius;\n\n    /**\n     * The x coordinate of the circle.\n     *\n     * @type {number}\n     */\n    this.x = x;\n\n    /**\n     * The y coordinate of the circle.\n     *\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * Determines if a point is inside the circle.\n   *\n   * @param {module:shared.Point2D} point - The point to test.\n   *\n   * @return {boolean} true if the point is inside the circle, false\n   * otherwise.\n   */\n  contains(point) {\n    const distance = Math.sqrt(Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2));\n    return distance <= this.radius;\n  }\n}\n\nmodule.exports = Circle;\n","/**\n * This module contains classes and functions intended for use by both the\n * client and the server, in order to provide a common interface.\n *\n * <br>\n * <img\n * src =\n * \"https://raw.githubusercontent.com/mvanderkamp/wams.wiki/master/graphs/shared.png\"\n * style = \"max-height: 250px;\"\n * >\n *\n * @module shared\n */\n\n'use strict';\n\nconst IdStamper = require('./shared/IdStamper.js');\nconst Message = require('./shared/Message.js');\nconst bases = require('./shared/bases.js');\nconst utilities = require('./shared/utilities.js');\nconst Polygon2D = require('./shared/Polygon2D.js');\nconst Point2D = require('./shared/Point2D.js');\nconst Rectangle = require('./shared/Rectangle.js');\nconst Circle = require('./shared/Circle.js');\n\n/**\n * This object stores a set of core constants for use by both the client and\n *  the server.\n *\n * @memberof module:shared\n * @enum {number}\n */\nconst constants = {\n  // General constants\n  ROTATE_0: 0,\n  ROTATE_90: Math.PI / 2,\n  ROTATE_180: Math.PI,\n  ROTATE_270: Math.PI * 1.5,\n  ROTATE_360: Math.PI * 2,\n\n  // Namespaces\n  /** @type {string} */\n  NS_WAMS: '/wams',\n  NS_WAMS_TRACKING: '/',\n};\n\n/**\n * A list of colours, for use by the API for shadows, and by end-point apps too\n * if desired.\n *\n * @memberof module:shared\n * @type {string[]}\n */\nconst colours = [\n  'saddlebrown',\n  'red',\n  'blue',\n  'lime',\n  'darkorange',\n  'purple',\n  'yellow',\n  'aqua',\n  'darkgreen',\n  'fuchsia',\n];\n\n/*\n * Package up the module and freeze it for delivery.\n */\nmodule.exports = Object.freeze({\n  colours,\n  constants,\n  Circle,\n  IdStamper,\n  Message,\n  Point2D,\n  Polygon2D,\n  Rectangle,\n  ...bases,\n  ...utilities,\n});\n","'use strict';\n\nlet g_id = 0;\n\n/**\n * The Gesture class that all gestures inherit from. A custom gesture class will\n * need to override some or all of the four phase \"hooks\": start, move, end, and\n * cancel.\n *\n * @memberof westures-core\n *\n * @param {string} type - The name of the gesture.\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n *    is recognized on the associated element.\n * @param {object} [options] - Generic gesture options\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n */\nclass Gesture {\n  constructor(type, element, handler, options = {}) {\n    if (typeof type !== 'string') {\n      throw new TypeError('Gestures require a string type / name');\n    }\n\n    /**\n     * The name of the gesture. (e.g. 'pan' or 'tap' or 'pinch').\n     *\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * The unique identifier for each gesture. This allows for distinctions\n     * across instances of Gestures that are created on the fly (e.g.\n     * gesture-tap-1, gesture-tap-2).\n     *\n     * @type {string}\n     */\n    this.id = `gesture-${this.type}-${g_id++}`;\n\n    /**\n     * The element to which to associate the gesture.\n     *\n     * @type {Element}\n     */\n    this.element = element;\n\n    /**\n     * The function handler to execute when the gesture is recognized on the\n     * associated element.\n     *\n     * @type {Function}\n     */\n    this.handler = handler;\n\n    /**\n     * The options. Can usually be adjusted live, though be careful doing this.\n     *\n     * @type {object}\n     */\n    this.options = { ...Gesture.DEFAULTS, ...options };\n  }\n\n  /**\n   * Determines whether this gesture is enabled.\n   *\n   * @param {westures-core.State} state - The input state object of the current\n   * region.\n   *\n   * @return {boolean} true if enabled, false otherwise.\n   */\n  isEnabled(state) {\n    const count = state.active.length;\n    const event = state.event;\n    const { enableKeys, disableKeys, minInputs, maxInputs } = this.options;\n\n    return (minInputs <= count) && (maxInputs >= count) &&\n      (enableKeys.length === 0 || enableKeys.some(k => event[k])) &&\n      !disableKeys.some(k => event[k]);\n  }\n\n  /**\n   * Event hook for the start phase of a gesture.\n   *\n   * @param {westures-core.State} state - The input state object of the current\n   * region.\n   *\n   * @return {?Object} Gesture is considered recognized if an Object is\n   *    returned.\n   */\n  start() {\n    return null;\n  }\n\n  /**\n   * Event hook for the move phase of a gesture.\n   *\n   * @param {westures-core.State} state - The input state object of the current\n   * region.\n   *\n   * @return {?Object} Gesture is considered recognized if an Object is\n   *    returned.\n   */\n  move() {\n    return null;\n  }\n\n  /**\n   * Event hook for the end phase of a gesture.\n   *\n   * @param {westures-core.State} state - The input state object of the current\n   * region.\n   *\n   * @return {?Object} Gesture is considered recognized if an Object is\n   *    returned.\n   */\n  end() {\n    return null;\n  }\n\n  /**\n   * Event hook for when an input is cancelled.\n   *\n   * @param {westures-core.State} state - The input state object of the current\n   * region.\n   *\n   * @return {?Object} Gesture is considered recognized if an Object is\n   *    returned.\n   */\n  cancel() {\n    return null;\n  }\n\n  /**\n   * Evalutes the given gesture hook, and dispatches any data that is produced\n   * by calling [recognize]{@link westures-core.Gesture#recognize}.\n   *\n   * @param {string} hook - Must be one of 'start', 'move', 'end', or 'cancel'.\n   * @param {westures-core.State} state - The current State instance.\n   */\n  evaluateHook(hook, state) {\n    const data = this[hook](state);\n    if (data) {\n      this.recognize(hook, state, data);\n    }\n  }\n\n  /**\n   * Recognize a Gesture by calling the handler. Standardizes the way the\n   * handler is called so that classes extending Gesture can circumvent the\n   * evaluateHook approach but still provide results that have a common format.\n   *\n   * Note that the properties in the \"data\" object will receive priority when\n   * constructing the results. This can be used to override standard results\n   * such as the phase or the centroid.\n   *\n   * @param {string} hook - Must be one of 'start', 'move', 'end', or 'cancel'.\n   * @param {westures-core.State} state - current input state.\n   * @param {Object} data - Results data specific to the recognized gesture.\n   */\n  recognize(hook, state, data) {\n    this.handler({\n      centroid: state.centroid,\n      event:    state.event,\n      phase:    hook,\n      type:     this.type,\n      target:   this.element,\n      ...data,\n    });\n  }\n}\n\nGesture.DEFAULTS = {\n  enableKeys:  [],\n  disableKeys: [],\n  minInputs:   1,\n  maxInputs:   Number.MAX_VALUE,\n};\n\nmodule.exports = Gesture;\n\n","'use strict';\n\n/**\n * The Point2D class stores and operates on 2-dimensional points, represented as\n * x and y coordinates.\n *\n * @memberof westures-core\n *\n * @param {number} [ x=0 ] - The x coordinate of the point.\n * @param {number} [ y=0 ] - The y coordinate of the point.\n */\nclass Point2D {\n  constructor(x = 0, y = 0) {\n    /**\n     * The x coordinate of the point.\n     *\n     * @type {number}\n     */\n    this.x = x;\n\n    /**\n     * The y coordinate of the point.\n     *\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * Calculates the angle between this point and the given point.\n   *\n   * @param {!westures-core.Point2D} point - Projected point for calculating the\n   * angle.\n   *\n   * @return {number} Radians along the unit circle where the projected\n   * point lies.\n   */\n  angleTo(point) {\n    return Math.atan2(point.y - this.y, point.x - this.x);\n  }\n\n  /**\n   * Determine the angle from the centroid to each of the points.\n   *\n   * @param {!westures-core.Point2D[]} points - the Point2D objects to calculate\n   *    the angles to.\n   *\n   * @returns {number[]}\n   */\n  anglesTo(points) {\n    return points.map(point => this.angleTo(point));\n  }\n\n  /**\n   * Determine the average distance from this point to the provided array of\n   * points.\n   *\n   * @param {!westures-core.Point2D[]} points - the Point2D objects to calculate\n   *    the average distance to.\n   *\n   * @return {number} The average distance from this point to the provided\n   *    points.\n   */\n  averageDistanceTo(points) {\n    return this.totalDistanceTo(points) / points.length;\n  }\n\n  /**\n   * Clone this point.\n   *\n   * @return {westures-core.Point2D} A new Point2D, identical to this point.\n   */\n  clone() {\n    return new Point2D(this.x, this.y);\n  }\n\n  /**\n   * Calculates the distance between two points.\n   *\n   * @param {!westures-core.Point2D} point - Point to which the distance is\n   * calculated.\n   *\n   * @return {number} The distance between the two points, a.k.a. the\n   *    hypoteneuse.\n   */\n  distanceTo(point) {\n    return Math.hypot(point.x - this.x, point.y - this.y);\n  }\n\n  /**\n   * Subtract the given point from this point.\n   *\n   * @param {!westures-core.Point2D} point - Point to subtract from this point.\n   *\n   * @return {westures-core.Point2D} A new Point2D, which is the result of (this\n   * - point).\n   */\n  minus(point) {\n    return new Point2D(\n      this.x - point.x,\n      this.y - point.y,\n    );\n  }\n\n  /**\n   * Return the summation of this point to the given point.\n   *\n   * @param {!westures-core.Point2D} point - Point to add to this point.\n   *\n   * @return {westures-core.Point2D} A new Point2D, which is the addition of the\n   * two points.\n   */\n  plus(point) {\n    return new Point2D(\n      this.x + point.x,\n      this.y + point.y,\n    );\n  }\n\n  /**\n   * Calculates the total distance from this point to an array of points.\n   *\n   * @param {!westures-core.Point2D[]} points - The array of Point2D objects to\n   *    calculate the total distance to.\n   *\n   * @return {number} The total distance from this point to the provided points.\n   */\n  totalDistanceTo(points) {\n    return points.reduce((d, p) => d + this.distanceTo(p), 0);\n  }\n\n  /**\n   * Calculates the centroid of a list of points.\n   *\n   * @param {westures-core.Point2D[]} points - The array of Point2D objects for\n   * which to calculate the centroid.\n   *\n   * @return {westures-core.Point2D} The centroid of the provided points.\n   */\n  static centroid(points = []) {\n    if (points.length === 0) return null;\n\n    const total = Point2D.sum(points);\n    total.x /= points.length;\n    total.y /= points.length;\n    return total;\n  }\n\n  /**\n   * Calculates the sum of the given points.\n   *\n   * @param {westures-core.Point2D[]} points - The Point2D objects to sum up.\n   *\n   * @return {westures-core.Point2D} A new Point2D representing the sum of the\n   * given points.\n   */\n  static sum(points = []) {\n    return points.reduce(\n      (total, pt) => {\n        total.x += pt.x;\n        total.y += pt.y;\n        return total;\n      },\n      new Point2D(0, 0),\n    );\n  }\n}\n\nmodule.exports = Point2D;\n\n","'use strict';\n\n/**\n * List of events that trigger the cancel phase.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst CANCEL_EVENTS = [\n  'blur',\n  'pointercancel',\n  'touchcancel',\n  'mouseleave',\n];\n\n/**\n * List of keyboard events that trigger a restart.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst KEYBOARD_EVENTS = [\n  'keydown',\n  'keyup',\n];\n\n/**\n * List of mouse events to listen to.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst MOUSE_EVENTS = [\n  'mousedown',\n  'mousemove',\n  'mouseup',\n];\n\n/**\n * List of pointer events to listen to.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst POINTER_EVENTS = [\n  'pointerdown',\n  'pointermove',\n  'pointerup',\n];\n\n/**\n * List of touch events to listen to.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst TOUCH_EVENTS = [\n  'touchend',\n  'touchmove',\n  'touchstart',\n];\n\n/**\n * List of potentially state-modifying keys.\n * Entries are: ['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst STATE_KEYS = [\n  'altKey',\n  'ctrlKey',\n  'metaKey',\n  'shiftKey',\n];\n\n/**\n * List of the 'key' values on KeyboardEvent objects of the potentially\n * state-modifying keys.\n *\n * @memberof westures-core\n * @type {string[]}\n */\nconst STATE_KEY_STRINGS = [\n  'Alt',\n  'Control',\n  'Meta',\n  'Shift',\n];\n\n/**\n * The cancel phase.\n *\n * @memberof westures-core\n * @type {string}\n */\nconst CANCEL = 'cancel';\n\n/**\n * The end phase.\n *\n * @memberof westures-core\n * @type {string}\n */\nconst END = 'end';\n\n/**\n * The move phase.\n *\n * @memberof westures-core\n * @type {string}\n */\nconst MOVE = 'move';\n\n/**\n * The start phase.\n *\n * @memberof westures-core\n * @type {string}\n */\nconst START = 'start';\n\n/**\n * The recognized phases.\n *\n * @memberof westures-core\n * @type {list.<string>}\n */\nconst PHASES = [START, MOVE, END, CANCEL];\n\n/**\n * Object that normalizes the names of window events to be either of type start,\n * move, end, or cancel.\n *\n * @memberof westures-core\n * @type {object}\n */\nconst PHASE = {\n  blur:           CANCEL,\n  pointercancel:  CANCEL,\n  touchcancel:    CANCEL,\n\n  mouseup:       END,\n  pointerup:     END,\n  touchend:      END,\n\n  mousemove:   MOVE,\n  pointermove: MOVE,\n  touchmove:   MOVE,\n\n  mousedown:   START,\n  pointerdown: START,\n  touchstart:  START,\n};\n\nmodule.exports = {\n  CANCEL_EVENTS,\n  KEYBOARD_EVENTS,\n  MOUSE_EVENTS,\n  POINTER_EVENTS,\n  TOUCH_EVENTS,\n\n  STATE_KEYS,\n  STATE_KEY_STRINGS,\n\n  CANCEL,\n  END,\n  MOVE,\n  START,\n\n  PHASE,\n  PHASES,\n};\n\n","'use strict';\n\nconst Point2D   = require('./Point2D.js');\nconst { PHASE } = require('./constants.js');\n\n/**\n * @private\n * @inner\n * @memberof westures-core.PointerData\n *\n * @return {Event} The Event object which corresponds to the given identifier.\n *    Contains clientX, clientY values.\n */\nfunction getEventObject(event, identifier) {\n  if (event.changedTouches) {\n    return Array.from(event.changedTouches).find(touch => {\n      return touch.identifier === identifier;\n    });\n  }\n  return event;\n}\n\n/**\n * Low-level storage of pointer data based on incoming data from an interaction\n * event.\n *\n * @memberof westures-core\n *\n * @param {Event} event - The event object being wrapped.\n * @param {number} identifier - The index of touch if applicable\n */\nclass PointerData {\n  constructor(event, identifier) {\n    const { clientX, clientY } = getEventObject(event, identifier);\n\n    /**\n     * The original event object.\n     *\n     * @type {Event}\n     */\n    this.event = event;\n\n    /**\n     * The type or 'phase' of this batch of pointer data. 'start' or 'move' or\n     * 'end' or 'cancel'\n     *\n     * @type {string}\n     */\n    this.type = PHASE[event.type];\n\n    /**\n     * The timestamp of the event in milliseconds elapsed since January 1, 1970,\n     * 00:00:00 UTC.\n     *\n     * @type {number}\n     */\n    this.time = Date.now();\n\n    /**\n     * The (x,y) coordinate of the event, wrapped in a Point2D.\n     *\n     * @type {westures-core.Point2D}\n     */\n    this.point = new Point2D(clientX, clientY);\n  }\n}\n\nmodule.exports = PointerData;\n\n","'use strict';\n\nconst PI_2   = 2 * Math.PI;\nconst PI_NVE = -Math.PI;\n\n/**\n * Helper function to regulate angular differences, so they don't jump from 0 to\n * 2 * PI or vice versa.\n *\n * @memberof westures-core\n *\n * @param {number} a - Angle in radians.\n * @param {number} b - Angle in radians.\n\n * @return {number} c, given by: c = a - b such that |c| < PI\n */\nfunction angularDifference(a, b) {\n  let diff = a - b;\n  if (diff < PI_NVE) {\n    diff += PI_2;\n  } else if (diff > Math.PI) {\n    diff -= PI_2;\n  }\n  return diff;\n}\n\n/**\n * In case event.composedPath() is not available.\n *\n * @memberof westures-core\n *\n * @param {Event} event\n *\n * @return {Element[]} The elements along the composed path of the event.\n */\nfunction getPropagationPath(event) {\n  if (typeof event.composedPath === 'function') {\n    return event.composedPath();\n  }\n\n  const path = [];\n  for (let node = event.target; node !== document; node = node.parentNode) {\n    path.push(node);\n  }\n  path.push(document);\n  path.push(window);\n\n  return path;\n}\n\n/**\n * Performs a set filter operation.\n *\n * @memberof westures-core\n *\n * @param {Set} set - The set to filter.\n * @param {Function} predicate - Function to test elements of 'set'. Receives\n * one argument: the current set element.\n *\n * @return {Set} Set consisting of elements in 'set' for which 'predicate' is\n * true.\n */\nfunction setFilter(set, predicate) {\n  const result = new Set();\n  set.forEach(element => {\n    if (predicate(element)) {\n      result.add(element);\n    }\n  });\n  return result;\n}\n\n/**\n * Performs a set difference operation.\n *\n * @memberof westures-core\n *\n * @param {Set} left - Base set.\n * @param {Set} right - Set of elements to remove from 'left'.\n *\n * @return {Set} Set consisting of elements in 'left' that are not in\n * 'right'.\n */\nfunction setDifference(left, right) {\n  return setFilter(left, element => !right.has(element));\n}\n\nmodule.exports = {\n  angularDifference,\n  getPropagationPath,\n  setDifference,\n  setFilter,\n};\n\n","'use strict';\n\nconst PointerData = require('./PointerData.js');\nconst { getPropagationPath } = require('./utils.js');\n\n/**\n * Tracks a single input and contains information about the current, previous,\n * and initial events.\n *\n * @memberof westures-core\n *\n * @param {(PointerEvent | MouseEvent | TouchEvent)} event - The input event\n * which will initialize this Input object.\n * @param {number} identifier - The identifier for this input, so that it can\n * be located in subsequent Event objects.\n */\nclass Input {\n  constructor(event, identifier) {\n    const currentData = new PointerData(event, identifier);\n\n    /**\n     * The set of elements along the original event's propagation path at the\n     * time it was dispatched.\n     *\n     * @type {WeakSet.<Element>}\n     */\n    this.initialElements = new WeakSet(getPropagationPath(event));\n\n    /**\n     * Holds the initial data from the mousedown / touchstart / pointerdown that\n     * began this input.\n     *\n     * @type {westures-core.PointerData}\n     */\n    this.initial = currentData;\n\n    /**\n     * Holds the most current pointer data for this Input.\n     *\n     * @type {westures-core.PointerData}\n     */\n    this.current = currentData;\n\n    /**\n     * Holds the previous pointer data for this Input.\n     *\n     * @type {westures-core.PointerData}\n     */\n    this.previous = currentData;\n\n    /**\n     * The identifier for the pointer / touch / mouse button associated with\n     * this input.\n     *\n     * @type {number}\n     */\n    this.identifier = identifier;\n  }\n\n  /**\n   * The phase of the input: 'start' or 'move' or 'end' or 'cancel'\n   *\n   * @type {string}\n   */\n  get phase() { return this.current.type; }\n\n  /**\n   * The timestamp of the initiating event for this input.\n   *\n   * @type {number}\n   */\n  get startTime() { return this.initial.time; }\n\n  /**\n   * The amount of time elapsed between the start of this input and its latest\n   * event.\n   *\n   * @type {number}\n   */\n  get elapsedTime() { return this.current.time - this.initial.time; }\n\n  /**\n   * @return {number} The distance between the initiating event for this input\n   *    and its current event.\n   */\n  totalDistance() {\n    return this.initial.point.distanceTo(this.current.point);\n  }\n\n  /**\n   * Saves the given raw event in PointerData form as the current data for this\n   * input, pushing the old current data into the previous slot, and tossing\n   * out the old previous data.\n   *\n   * @param {Event} event - The event object to wrap with a PointerData.\n   */\n  update(event) {\n    this.previous = this.current;\n    this.current = new PointerData(event, this.identifier);\n  }\n}\n\nmodule.exports = Input;\n\n","'use strict';\n\nconst {\n  CANCEL,\n  END,\n  MOVE,\n  PHASE,\n  START,\n} = require('./constants.js');\nconst Input     = require('./Input.js');\nconst Point2D   = require('./Point2D.js');\n\nconst symbols = {\n  inputs: Symbol.for('inputs'),\n};\n\n/**\n * Set of helper functions for updating inputs based on type of input.\n * Must be called with a bound 'this', via bind(), or call(), or apply().\n *\n * @private\n * @inner\n * @memberof westure-core.State\n */\nconst update_fns = {\n  TouchEvent: function TouchEvent(event) {\n    Array.from(event.changedTouches).forEach(touch => {\n      this.updateInput(event, touch.identifier);\n    });\n  },\n\n  PointerEvent: function PointerEvent(event) {\n    this.updateInput(event, event.pointerId);\n  },\n\n  MouseEvent: function MouseEvent(event) {\n    if (event.button === 0) {\n      this.updateInput(event, event.button);\n    }\n  },\n};\n\n/**\n * Keeps track of currently active and ending input points on the interactive\n * surface.\n *\n * @memberof westures-core\n *\n * @param {Element} element - The element underpinning the associated Region.\n */\nclass State {\n  constructor(element) {\n    /**\n     * Keep a reference to the element for the associated region.\n     *\n     * @type {Element}\n     */\n    this.element = element;\n\n    /**\n     * Keeps track of the current Input objects.\n     *\n     * @alias [@@inputs]\n     * @type {Map.<westures-core.Input>}\n     * @memberof westure-core.State\n     */\n    this[symbols.inputs] = new Map();\n\n    /**\n     * All currently valid inputs, including those that have ended.\n     *\n     * @type {westures-core.Input[]}\n     */\n    this.inputs = [];\n\n    /**\n     * The array of currently active inputs, sourced from the current Input\n     * objects. \"Active\" is defined as not being in the 'end' phase.\n     *\n     * @type {westures-core.Input[]}\n     */\n    this.active = [];\n\n    /**\n     * The array of latest point data for the currently active inputs, sourced\n     * from this.active.\n     *\n     * @type {westures-core.Point2D[]}\n     */\n    this.activePoints = [];\n\n    /**\n     * The centroid of the currently active points.\n     *\n     * @type {westures-core.Point2D}\n     */\n    this.centroid = {};\n\n    /**\n     * The latest event that the state processed.\n     *\n     * @type {Event}\n     */\n    this.event = null;\n  }\n\n  /**\n   * Deletes all inputs that are in the 'end' phase.\n   */\n  clearEndedInputs() {\n    this[symbols.inputs].forEach((v, k) => {\n      if (v.phase === 'end') this[symbols.inputs].delete(k);\n    });\n  }\n\n  /**\n   * @param {string} phase - One of 'start', 'move', 'end', or 'cancel'.\n   *\n   * @return {westures-core.Input[]} Inputs in the given phase.\n   */\n  getInputsInPhase(phase) {\n    return this.inputs.filter(i => i.phase === phase);\n  }\n\n  /**\n   * @param {string} phase - One of 'start', 'move', 'end', or 'cancel'.\n   *\n   * @return {westures-core.Input[]} Inputs <b>not</b> in the given phase.\n   */\n  getInputsNotInPhase(phase) {\n    return this.inputs.filter(i => i.phase !== phase);\n  }\n\n  /**\n   * @return {boolean} True if there are no active inputs. False otherwise.\n   */\n  hasNoInputs() {\n    return this[symbols.inputs].size === 0;\n  }\n\n  /**\n   * Update the input with the given identifier using the given event.\n   *\n   * @private\n   *\n   * @param {Event} event - The event being captured.\n   * @param {number} identifier - The identifier of the input to update.\n   */\n  updateInput(event, identifier) {\n    switch (PHASE[event.type]) {\n    case START:\n      this[symbols.inputs].set(\n        identifier,\n        new Input(event, identifier),\n      );\n      try {\n        this.element.setPointerCapture(identifier);\n      } catch (e) {\n        // NOP: Optional operation failed.\n      }\n      break;\n\n    // All of 'end', 'move', and 'cancel' perform updates, hence the\n    // following fall-throughs\n    case END:\n      try {\n        this.element.releasePointerCapture(identifier);\n      } catch (e) {\n        // NOP: Optional operation failed.\n      }\n    case CANCEL:\n    case MOVE:\n      if (this[symbols.inputs].has(identifier)) {\n        this[symbols.inputs].get(identifier).update(event);\n      }\n      break;\n\n    default:\n      console.warn(`Unrecognized event type: ${event.type}`);\n    }\n  }\n\n  /**\n   * Updates the inputs with new information based upon a new event being fired.\n   *\n   * @private\n   * @param {Event} event - The event being captured.\n   */\n  updateAllInputs(event) {\n    update_fns[event.constructor.name].call(this, event);\n    this.updateFields(event);\n  }\n\n  /**\n   * Updates the convenience fields.\n   *\n   * @private\n   * @param {Event} event - Event with which to update the convenience fields.\n   */\n  updateFields(event) {\n    this.inputs = Array.from(this[symbols.inputs].values());\n    this.active = this.getInputsNotInPhase('end');\n    this.activePoints = this.active.map(i => i.current.point);\n    this.centroid = Point2D.centroid(this.activePoints);\n    this.event = event;\n  }\n}\n\nmodule.exports = State;\n\n","'use strict';\n\nconst State = require('./State.js');\nconst {\n  CANCEL_EVENTS,\n  KEYBOARD_EVENTS,\n  MOUSE_EVENTS,\n  POINTER_EVENTS,\n  TOUCH_EVENTS,\n\n  STATE_KEY_STRINGS,\n\n  PHASE,\n\n  CANCEL,\n  END,\n  START,\n} = require('./constants.js');\nconst {\n  setDifference,\n  setFilter,\n} = require('./utils.js');\n\n/**\n * Allows the user to specify the control region which will listen for user\n * input events.\n *\n * @memberof westures-core\n *\n * @param {Element} element=window - The element which should listen to input\n * events.\n * @param {object} [options]\n * @param {boolean} [options.capture=false] - Whether the region uses the\n * capture phase of input events. If false, uses the bubbling phase.\n * @param {boolean} [options.preferPointer=true] - If false, the region listens\n * to mouse/touch events instead of pointer events.\n * @param {boolean} [options.preventDefault=true] - Whether the default\n * browser functionality should be disabled. This option should most likely be\n * ignored. Here there by dragons if set to false.\n * @param {string} [options.touchAction='none'] - Value to set the CSS\n * 'touch-action' property to on elements added to the region.\n */\nclass Region {\n  constructor(element = window, options = {}) {\n    options = { ...Region.DEFAULTS, ...options };\n\n    /**\n     * The list of relations between elements, their gestures, and the handlers.\n     *\n     * @type {Set.<westures-core.Gesture>}\n     */\n    this.gestures = new Set();\n\n    /**\n     * The list of active gestures for the current input session.\n     *\n     * @type {Set.<westures-core.Gesture>}\n     */\n    this.activeGestures = new Set();\n\n    /**\n     * The base list of potentially active gestures for the current input\n     * session.\n     *\n     * @type {Set.<westures-core.Gesture>}\n     */\n    this.potentialGestures = new Set();\n\n    /**\n     * The element being bound to.\n     *\n     * @type {Element}\n     */\n    this.element = element;\n\n    /**\n     * The user-supplied options for the Region.\n     *\n     * @type {object}\n     */\n    this.options = options;\n\n    /**\n     * The internal state object for a Region.  Keeps track of inputs.\n     *\n     * @type {westures-core.State}\n     */\n    this.state = new State(this.element);\n\n    // Begin operating immediately.\n    this.activate();\n  }\n\n  /**\n   * Activates the region by adding event listeners for all appropriate input\n   * events to the region's element.\n   *\n   * @private\n   */\n  activate() {\n    /*\n     * Listening to both mouse and touch comes with the difficulty that\n     * preventDefault() must be called to prevent both events from iterating\n     * through the system. However I have left it as an option to the end user,\n     * which defaults to calling preventDefault(), in case there's a use-case I\n     * haven't considered or am not aware of.\n     *\n     * It also may be a good idea to keep regions small in large pages.\n     *\n     * See:\n     *  https://www.html5rocks.com/en/mobile/touchandmouse/\n     *  https://developer.mozilla.org/en-US/docs/Web/API/Touch_events\n     *  https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events\n     */\n    let eventNames = [];\n    if (this.options.preferPointer && window.PointerEvent) {\n      eventNames = POINTER_EVENTS;\n    } else {\n      eventNames = MOUSE_EVENTS.concat(TOUCH_EVENTS);\n    }\n\n    // Bind detected browser events to the region element.\n    const arbitrate = this.arbitrate.bind(this);\n    eventNames.forEach(eventName => {\n      this.element.addEventListener(eventName, arbitrate, {\n        capture: this.options.capture,\n        once:    false,\n        passive: false,\n      });\n    });\n\n    const cancel = this.cancel.bind(this);\n    CANCEL_EVENTS.forEach(eventName => {\n      window.addEventListener(eventName, cancel);\n    });\n\n    const handleKeyboardEvent = this.handleKeyboardEvent.bind(this);\n    KEYBOARD_EVENTS.forEach(eventName => {\n      window.addEventListener(eventName, handleKeyboardEvent);\n    });\n  }\n\n  /**\n   * Handles a cancel event. Resets the state and the active / potential gesture\n   * lists.\n   *\n   * @private\n   * @param {Event} event - The event emitted from the window object.\n   */\n  cancel(event) {\n    if (this.options.preventDefault) event.preventDefault();\n    this.state.inputs.forEach(input => {\n      input.update(event);\n    });\n    this.activeGestures.forEach(gesture => {\n      gesture.evaluateHook(CANCEL, this.state);\n    });\n    this.state = new State(this.element);\n    this.resetActiveGestures();\n  }\n\n  /**\n   * Handles a keyboard event, triggering a restart of any gestures that need\n   * it.\n   *\n   * @private\n   * @param {KeyboardEvent} event - The keyboard event.\n   */\n  handleKeyboardEvent(event) {\n    if (STATE_KEY_STRINGS.indexOf(event.key) >= 0) {\n      this.state.event = event;\n      const oldActiveGestures = this.activeGestures;\n      this.setActiveGestures();\n\n      setDifference(oldActiveGestures, this.activeGestures).forEach(gesture => {\n        gesture.evaluateHook(END, this.state);\n      });\n      setDifference(this.activeGestures, oldActiveGestures).forEach(gesture => {\n        gesture.evaluateHook(START, this.state);\n      });\n    }\n  }\n\n  /**\n   * Resets the active gestures.\n   *\n   * @private\n   */\n  resetActiveGestures() {\n    this.potentialGestures = new Set();\n    this.activeGestures = new Set();\n  }\n\n  /**\n   * Selects active gestures from the list of potentially active gestures.\n   *\n   * @private\n   */\n  setActiveGestures() {\n    this.activeGestures = setFilter(this.potentialGestures, gesture => {\n      return gesture.isEnabled(this.state);\n    });\n  }\n\n  /**\n   * Selects the potentially active gestures.\n   *\n   * @private\n   */\n  setPotentialGestures() {\n    const input = this.state.inputs[0];\n    this.potentialGestures = setFilter(this.gestures, gesture => {\n      return input.initialElements.has(gesture.element);\n    });\n  }\n\n  /**\n   * Selects the gestures that are active for the current input sequence.\n   *\n   * @private\n   * @param {Event} event - The event emitted from the window object.\n   * @param {boolean} isInitial - Whether this is an initial contact.\n   */\n  updateActiveGestures(event, isInitial) {\n    if (PHASE[event.type] === START) {\n      if (isInitial) {\n        this.setPotentialGestures();\n      }\n      this.setActiveGestures();\n    }\n  }\n\n  /**\n   * Evaluates whether the current input session has completed.\n   *\n   * @private\n   * @param {Event} event - The event emitted from the window object.\n   */\n  pruneActiveGestures(event) {\n    if (PHASE[event.type] === END) {\n      if (this.state.hasNoInputs()) {\n        this.resetActiveGestures();\n      } else {\n        this.setActiveGestures();\n      }\n    }\n  }\n\n  /**\n   * All input events flow through this function. It makes sure that the input\n   * state is maintained, determines which gestures to analyze based on the\n   * initial position of the inputs, calls the relevant gesture hooks, and\n   * dispatches gesture data.\n   *\n   * @private\n   * @param {Event} event - The event emitted from the window object.\n   */\n  arbitrate(event) {\n    const isInitial = this.state.hasNoInputs();\n    this.state.updateAllInputs(event);\n    this.updateActiveGestures(event, isInitial);\n\n    if (this.activeGestures.size > 0) {\n      if (this.options.preventDefault) event.preventDefault();\n\n      this.activeGestures.forEach(gesture => {\n        gesture.evaluateHook(PHASE[event.type], this.state);\n      });\n    }\n\n    this.state.clearEndedInputs();\n    this.pruneActiveGestures(event);\n  }\n\n  /**\n   * Adds the given gesture to the region.\n   *\n   * @param {westures-core.Gesture} gesture - Instantiated gesture to add.\n   */\n  addGesture(gesture) {\n    gesture.element.style.touchAction = this.options.touchAction;\n    this.gestures.add(gesture);\n  }\n\n  /**\n   * Removes the given gesture from the region.\n   *\n   * @param {westures-core.Gesture} gesture - Instantiated gesture to add.\n   */\n  removeGesture(gesture) {\n    this.gestures.delete(gesture);\n    this.potentialGestures.delete(gesture);\n    this.activeGestures.delete(gesture);\n  }\n\n  /**\n   * Retrieves Gestures by their associated element.\n   *\n   * @param {Element} element - The element for which to find gestures.\n   *\n   * @return {westures-core.Gesture[]} Gestures to which the element is bound.\n   */\n  getGesturesByElement(element) {\n    return setFilter(this.gestures, gesture => gesture.element === element);\n  }\n\n  /**\n   * Remove all gestures bound to the given element.\n   *\n   * @param {Element} element - The element to unbind.\n   */\n  removeGesturesByElement(element) {\n    this.getGesturesByElement(element).forEach(g => this.removeGesture(g));\n  }\n}\n\nRegion.DEFAULTS = {\n  capture:        false,\n  preferPointer:  true,\n  preventDefault: true,\n  touchAction:    'none',\n};\n\nmodule.exports = Region;\n","'use strict';\n\nconst cascade = Symbol('cascade');\nconst smooth = Symbol('smooth');\n\n/**\n * Determines whether to apply smoothing. Smoothing is on by default but turned\n * off if either:<br>\n *  1. The user explicitly requests that it be turned off.<br>\n *  2. The active pointer is not \"coarse\".<br>\n *\n * @see {@link\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia}\n *\n * @inner\n * @memberof westures-core.Smoothable\n *\n * @param {boolean} isRequested - Whether smoothing was requested by the user.\n *\n * @returns {boolean} Whether to apply smoothing.\n */\nfunction smoothingIsApplicable(isRequested) {\n  if (isRequested) {\n    try {\n      return window.matchMedia('(pointer: coarse)').matches;\n    } catch (e) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A Smoothable datatype is one that is capable of smoothing out a series of\n * values as they come in, one at a time, providing a more consistent series. It\n * does this by creating some inertia in the values using a cascading average.\n * (For those who are interested in such things, this effectively means that it\n * provides a practical application of Zeno's Dichotomy).\n *\n * @example\n * const x = new Smoothable({ identity: 1 });\n * const a = x.next(1);   // 1.0\n * const b = x.next(1.2); // 1.1\n * const c = x.next(0.9); // 1.0\n * const d = x.next(0.6); // 0.8\n * const e = x.next(1.2); // 1.0\n * const f = x.next(1.6); // 1.3\n * x.restart();\n * const g = x.next(0);   // 0.5\n *\n * @memberof westures-core\n *\n * @param {Object} [options]\n * @param {boolean} [options.applySmoothing=true] Whether to apply smoothing to\n * the data.\n * @param {*} [options.identity=0] The identity value of this smoothable data.\n */\nclass Smoothable {\n  constructor(options = {}) {\n    const final_options = { ...Smoothable.DEFAULTS, ...options };\n\n    /**\n     * The function through which smoothed emits are passed.\n     *\n     * @method\n     * @param {*} data - The data to emit.\n     *\n     * @return {*} The smoothed out data.\n     */\n    this.next = null;\n    if (smoothingIsApplicable(final_options.applySmoothing)) {\n      this.next = this[smooth].bind(this);\n    } else {\n      this.next = data => data;\n    }\n\n    /**\n     * The \"identity\" value of the data that will be smoothed.\n     *\n     * @type {*}\n     * @default 0\n     */\n    this.identity = final_options.identity;\n\n    /**\n     * The cascading average of outgoing values.\n     *\n     * @memberof westures-core.Smoothable\n     * @alias [@@cascade]\n     * @type {object}\n     */\n    this[cascade] = this.identity;\n  }\n\n  /**\n   * Restart the Smoothable gesture.\n   */\n  restart() {\n    this[cascade] = this.identity;\n  }\n\n  /**\n   * Smooth out the outgoing data.\n   *\n   * @memberof westures-core.Smoothable\n   * @alias [@@smooth]\n   * @param {object} data - The next batch of data to emit.\n   *\n   * @return {?object}\n   */\n  [smooth](data) {\n    const average = this.average(this[cascade], data);\n    this[cascade] = average;\n    return average;\n  }\n\n  /**\n   * Average out two values, as part of the smoothing algorithm. Override this\n   * method if the data being smoothed is not a Number.\n   *\n   * @param {number} a\n   * @param {number} b\n   *\n   * @return {number} The average of 'a' and 'b'\n   */\n  average(a, b) {\n    return (a + b) / 2;\n  }\n}\n\nSmoothable.DEFAULTS = {\n  applySmoothing: true,\n  identity:       0,\n};\n\nmodule.exports = Smoothable;\n\n","/*\n * Contains the Pan class.\n */\n\n'use strict';\n\nconst { Gesture, Point2D, Smoothable } = require('../core');\n\n/**\n * Data returned when a Pan is recognized.\n *\n * @typedef {Object} PanData\n * @mixes ReturnTypes.BaseData\n *\n * @property {westures-core.Point2D} translation - The change vector from the\n * last emit.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Pan is defined as a normal movement in any direction.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.PanData}\n * @see {westures-core.Smoothable}\n * @memberof westures\n *\n * @param {Element} element - The element with which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n */\nclass Pan extends Gesture {\n  constructor(element, handler, options = {}) {\n    super('pan', element, handler, options);\n\n    /**\n     * The previous point location.\n     *\n     * @type {westures-core.Point2D}\n     */\n    this.previous = null;\n\n    /*\n     * The outgoing data, with optional inertial smoothing.\n     *\n     * @override\n     * @type {westures-core.Smoothable<westures-core.Point2D>}\n     */\n    this.outgoing = new Smoothable({ ...options, identity: new Point2D() });\n    this.outgoing.average = (a, b) => Point2D.centroid([a, b]);\n  }\n\n  /**\n   * Resets the gesture's progress by saving the current centroid of the active\n   * inputs. To be called whenever the number of inputs changes.\n   *\n   * @param {State} state\n   */\n  restart(state) {\n    this.previous = state.centroid;\n    this.outgoing.restart();\n  }\n\n  start(state) {\n    this.restart(state);\n  }\n\n  move(state) {\n    const translation = state.centroid.minus(this.previous);\n    this.previous = state.centroid;\n    return { translation: this.outgoing.next(translation) };\n  }\n\n  end(state) {\n    this.restart(state);\n  }\n\n  cancel(state) {\n    this.restart(state);\n  }\n}\n\nmodule.exports = Pan;\n\n","/**\n * The global API interface for westures-core. Exposes all classes, constants,\n * and routines used by the package. Use responsibly.\n *\n * @namespace westures-core\n */\n\n'use strict';\n\nconst Gesture = require('./src/Gesture.js');\nconst Input = require('./src/Input.js');\nconst Point2D = require('./src/Point2D.js');\nconst PointerData = require('./src/PointerData.js');\nconst Region = require('./src/Region.js');\nconst Smoothable = require('./src/Smoothable.js');\nconst State = require('./src/State.js');\nconst constants = require('./src/constants.js');\nconst utils = require('./src/utils.js');\n\nmodule.exports = {\n  Gesture,\n  Input,\n  Point2D,\n  PointerData,\n  Region,\n  Smoothable,\n  State,\n  ...constants,\n  ...utils,\n};\n\n","/*\n * Contains the abstract Pinch class.\n */\n\n'use strict';\n\nconst { Gesture, Smoothable } = require('../core');\n\n/**\n * Data returned when a Pinch is recognized.\n *\n * @typedef {Object} PinchData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} distance - The average distance from an active input to\n *    the centroid.\n * @property {number} scale - The proportional change in distance since last\n * emit.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Pinch is defined as two or more inputs moving either together or apart.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.PinchData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=2] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n */\nclass Pinch extends Gesture {\n  constructor(element, handler, options = {}) {\n    options = { ...Pinch.DEFAULTS, ...options };\n    super('pinch', element, handler, options);\n\n    /**\n     * The previous distance.\n     *\n     * @type {number}\n     */\n    this.previous = 0;\n\n    /*\n     * The outgoing data, with optional inertial smoothing.\n     *\n     * @override\n     * @type {westures-core.Smoothable<number>}\n     */\n    this.outgoing = new Smoothable({ ...options, identity: 1 });\n  }\n\n  /**\n   * Initializes the gesture progress.\n   *\n   * @param {State} state - current input state.\n   */\n  restart(state) {\n    this.previous = state.centroid.averageDistanceTo(state.activePoints);\n    this.outgoing.restart();\n  }\n\n  start(state) {\n    this.restart(state);\n  }\n\n  move(state) {\n    const distance = state.centroid.averageDistanceTo(state.activePoints);\n    const scale = distance / this.previous;\n    this.previous = distance;\n    return { distance, scale: this.outgoing.next(scale) };\n  }\n\n  end(state) {\n    this.restart(state);\n  }\n\n  cancel(state) {\n    this.restart(state);\n  }\n}\n\nPinch.DEFAULTS = Object.freeze({\n  minInputs: 2,\n});\n\nmodule.exports = Pinch;\n\n","/*\n * Contains the Press class.\n */\n\n'use strict';\n\nconst { Gesture, Point2D, MOVE } = require('../core');\n\n/**\n * Data returned when a Press is recognized.\n *\n * @typedef {Object} PressData\n *\n * @property {westures-core.Point2D} centroid - The current centroid of the\n * input points.\n * @property {westures-core.Point2D} initial - The initial centroid of the input\n * points.\n * @property {number} distance - The total movement since initial contact.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Press is defined as one or more input points being held down without\n * moving. Press gestures may be stacked by pressing with additional pointers\n * beyond the minimum, so long as none of the points move or are lifted, a Press\n * will be recognized for each additional pointer.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.PressData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {number} [options.delay=1000] - The delay before emitting, during\n * which time the number of inputs must not go below minInputs.\n * @param {number} [options.tolerance=10] - The tolerance in pixels a user can\n * move and still allow the gesture to emit.\n */\nclass Press extends Gesture {\n  constructor(element, handler, options = {}) {\n    super('press', element, handler, { ...Press.DEFAULTS, ...options });\n  }\n\n  start(state) {\n    const initial = state.centroid;\n    const originalInputs = Array.from(state.active);\n    setTimeout(() => {\n      const inputs = state.active.filter(i => originalInputs.includes(i));\n      if (inputs.length === originalInputs.length) {\n        const centroid = Point2D.centroid(inputs.map(i => i.current.point));\n        const distance = initial.distanceTo(centroid);\n        if (distance <= this.options.tolerance) {\n          this.recognize(MOVE, state, { centroid, distance, initial });\n        }\n      }\n    }, this.options.delay);\n  }\n}\n\nPress.DEFAULTS = Object.freeze({\n  delay:     1000,\n  tolerance: 10,\n});\n\nmodule.exports = Press;\n\n","/*\n * Contains the abstract Pull class.\n */\n\n'use strict';\n\nconst { Smoothable } = require('../core');\nconst Pivotable = require('./Pivotable.js');\n\n/**\n * Data returned when a Pull is recognized.\n *\n * @typedef {Object} PullData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} distance - The average distance from an active input to\n * the centroid.\n * @property {number} scale - The proportional change in distance since last\n * emit.\n * @property {westures-core.Point2D} pivot - The pivot point.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Pull is defined as a single input moving away from or towards a pivot\n * point.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.PullData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n * @param {number} [options.deadzoneRadius=15] - The radius in pixels around the\n * start point in which to do nothing.\n * @param {Element} [options.dynamicPivot=false] - Normally the center point of\n * the gesture's element is used as the pivot. If this option is set, the\n * initial contact point with the element is used as the pivot instead.\n */\nclass Pull extends Pivotable {\n  constructor(element, handler, options = {}) {\n    super('pull', element, handler, options);\n\n    /*\n     * The outgoing data, with optional inertial smoothing.\n     *\n     * @override\n     * @type {westures-core.Smoothable<number>}\n     */\n    this.outgoing = new Smoothable({ ...options, identity: 1 });\n  }\n\n  updatePrevious(state) {\n    this.previous = this.pivot.distanceTo(state.centroid);\n  }\n\n  move(state) {\n    const pivot = this.pivot;\n    const distance = pivot.distanceTo(state.centroid);\n    const scale = distance / this.previous;\n    const { deadzoneRadius } = this.options;\n\n    let rv = null;\n    if (distance > deadzoneRadius && this.previous > deadzoneRadius) {\n      rv = { distance, scale: this.outgoing.next(scale), pivot };\n    }\n\n    /*\n     * Updating the previous distance regardless of emit prevents sudden changes\n     * when the user exits the deadzone circle.\n     */\n    this.previous = distance;\n\n    return rv;\n  }\n}\n\nmodule.exports = Pull;\n\n","/*\n * Contains the Rotate class.\n */\n\n'use strict';\n\nconst { Gesture, Point2D, Smoothable } = require('../core');\n\n/**\n * Data returned when a Pivotable is recognized.\n *\n * @typedef {Object} SwivelData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} rotation - In radians, the change in angle since last\n * emit.\n * @property {westures-core.Point2D} pivot - The pivot point.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Pivotable is a single input rotating around a fixed point. The fixed point\n * is determined by the input's location at its 'start' phase.\n *\n * @extends westures.Gesture\n * @see {ReturnTypes.SwivelData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n * @param {number} [options.deadzoneRadius=15] - The radius in pixels around the\n * start point in which to do nothing.\n * @param {Element} [options.dynamicPivot=false] - Normally the center point of\n * the gesture's element is used as the pivot. If this option is set, the\n * initial contact point with the element is used as the pivot instead.\n */\nclass Pivotable extends Gesture {\n  constructor(type = 'pivotable', element, handler, options = {}) {\n    super(type, element, handler, { ...Pivotable.DEFAULTS, ...options });\n\n    /**\n     * The pivot point of the pivotable.\n     *\n     * @type {westures-core.Point2D}\n     */\n    this.pivot = null;\n\n    /**\n     * The previous data.\n     *\n     * @type {number}\n     */\n    this.previous = 0;\n\n    /**\n     * The outgoing data.\n     *\n     * @type {westures-core.Smoothable}\n     */\n    this.outgoing = new Smoothable(options);\n  }\n\n  /**\n   * Determine the center point of the given element's bounding client\n   * rectangle.\n   *\n   * @static\n   *\n   * @param {Element} element - The DOM element to analyze.\n   * @return {westures-core.Point2D} - The center of the element's bounding\n   * client rectangle.\n   */\n  static getClientCenter(element) {\n    const rect = element.getBoundingClientRect();\n    return new Point2D(\n      rect.left + (rect.width / 2),\n      rect.top + (rect.height / 2),\n    );\n  }\n\n  /**\n   * Updates the previous data. It will be called during the 'start' and 'end'\n   * phases, and should also be called during the 'move' phase implemented by\n   * the subclass.\n   *\n   * @abstract\n   * @param {State} state - the current input state.\n   */\n  updatePrevious() {\n    throw 'Gestures which extend Pivotable must implement updatePrevious()';\n  }\n\n  /**\n   * Restart the given progress object using the given input object.\n   *\n   * @param {State} state - current input state.\n   */\n  restart(state) {\n    if (this.options.dynamicPivot) {\n      this.pivot = state.centroid;\n      this.previous = 0;\n    } else {\n      this.pivot = Pivotable.getClientCenter(this.element);\n      this.updatePrevious(state);\n    }\n    this.outgoing.restart();\n  }\n\n  start(state) {\n    this.restart(state);\n  }\n\n  end(state) {\n    if (state.active.length > 0) {\n      this.restart(state);\n    } else {\n      this.outgoing.restart();\n    }\n  }\n\n  cancel() {\n    this.outgoing.restart();\n  }\n}\n\nPivotable.DEFAULTS = Object.freeze({\n  deadzoneRadius: 15,\n  dynamicPivot:   false,\n});\n\nmodule.exports = Pivotable;\n","/*\n * Contains the Rotate class.\n */\n\n'use strict';\n\nconst { angularDifference, Gesture, Smoothable } = require('../core');\n\n/**\n * Data returned when a Rotate is recognized.\n *\n * @typedef {Object} RotateData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} rotation - In radians, the change in angle since last\n * emit.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Rotate is defined as two inputs moving with a changing angle between them.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.RotateData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=2] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n */\nclass Rotate extends Gesture {\n  constructor(element, handler, options = {}) {\n    options = { ...Rotate.DEFAULTS, ...options };\n    super('rotate', element, handler, options);\n\n    /**\n     * Track the previous angles for each input.\n     *\n     * @type {number[]}\n     */\n    this.previousAngles = [];\n\n    /*\n     * The outgoing data, with optional inertial smoothing.\n     *\n     * @override\n     * @type {westures-core.Smoothable<number>}\n     */\n    this.outgoing = new Smoothable(options);\n  }\n\n  /**\n   * Restart the gesture for a new number of inputs.\n   *\n   * @param {State} state - current input state.\n   */\n  restart(state) {\n    this.previousAngles = state.centroid.anglesTo(state.activePoints);\n    this.outgoing.restart();\n  }\n\n  start(state) {\n    this.restart(state);\n  }\n\n  move(state) {\n    const stagedAngles = state.centroid.anglesTo(state.activePoints);\n    const angle = stagedAngles.reduce((total, current, index) => {\n      return total + angularDifference(current, this.previousAngles[index]);\n    }, 0);\n    this.previousAngles = stagedAngles;\n    const rotation = angle / state.activePoints.length;\n    return { rotation: this.outgoing.next(rotation) };\n  }\n\n  end(state) {\n    this.restart(state);\n  }\n\n  cancel() {\n    this.outgoing.restart();\n  }\n}\n\nRotate.DEFAULTS = Object.freeze({\n  minInputs: 2,\n});\n\nmodule.exports = Rotate;\n\n","/*\n * Contains the Swipe class.\n */\n\n'use strict';\n\nconst { Gesture } = require('../core');\n\nconst PROGRESS_STACK_SIZE = 7;\nconst MS_THRESHOLD = 300;\n\n/**\n * Data returned when a Swipe is recognized.\n *\n * @typedef {Object} SwipeData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} velocity - The velocity of the swipe.\n * @property {number} direction - In radians, the direction of the swipe.\n * @property {westures-core.Point2D} point - The point at which the swipe ended.\n * @property {number} time - The epoch time, in ms, when the swipe ended.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A swipe is defined as input(s) moving in the same direction in an relatively\n * increasing velocity and leaving the screen at some point before it drops\n * below it's escape velocity.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.SwipeData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n */\nclass Swipe extends Gesture {\n  constructor(element, handler, options = {}) {\n    super('swipe', element, handler, options);\n\n    /**\n     * Moves list.\n     *\n     * @type {object[]}\n     */\n    this.moves = [];\n\n    /**\n     * Data to emit when all points have ended.\n     *\n     * @type {ReturnTypes.SwipeData}\n     */\n    this.saved = null;\n  }\n\n  /**\n   * Restart the swipe state for a new numper of inputs.\n   */\n  restart() {\n    this.moves = [];\n    this.saved = null;\n  }\n\n  start() {\n    this.restart();\n  }\n\n  move(state) {\n    this.moves.push({\n      time:  Date.now(),\n      point: state.centroid,\n    });\n\n    if (this.moves.length > PROGRESS_STACK_SIZE) {\n      this.moves.splice(0, this.moves.length - PROGRESS_STACK_SIZE);\n    }\n  }\n\n  end(state) {\n    const result = this.getResult();\n    this.moves = [];\n\n    if (state.active.length > 0) {\n      this.saved = result;\n      return null;\n    }\n\n    this.saved = null;\n    return Swipe.validate(result);\n  }\n\n  cancel() {\n    this.restart();\n  }\n\n  /**\n   * Get the swipe result.\n   *\n   * @returns {?ReturnTypes.SwipeData}\n   */\n  getResult() {\n    if (this.moves.length < PROGRESS_STACK_SIZE) {\n      return this.saved;\n    }\n    const vlim = PROGRESS_STACK_SIZE - 1;\n    const { point, time } = this.moves[vlim];\n    const velocity = Swipe.calc_velocity(this.moves, vlim);\n    const direction = Swipe.calc_angle(this.moves, vlim);\n    const centroid = point;\n    return { point, velocity, direction, time, centroid };\n  }\n\n  /**\n   * Validates that an emit should occur with the given data.\n   *\n   * @static\n   * @param {?ReturnTypes.SwipeData} data\n   * @returns {?ReturnTypes.SwipeData}\n   */\n  static validate(data) {\n    if (data == null) return null;\n    return (Date.now() - data.time > MS_THRESHOLD) ? null : data;\n  }\n\n  /**\n   * Calculates the angle of movement along a series of moves.\n   *\n   * @static\n   * @see {@link https://en.wikipedia.org/wiki/Mean_of_circular_quantities}\n   *\n   * @param {{time: number, point: westures-core.Point2D}} moves - The moves\n   * list to process.\n   * @param {number} vlim - The number of moves to process.\n   *\n   * @return {number} The angle of the movement.\n   */\n  static calc_angle(moves, vlim) {\n    const point = moves[vlim].point;\n    let sin = 0;\n    let cos = 0;\n    for (let i = 0; i < vlim; ++i) {\n      const angle = moves[i].point.angleTo(point);\n      sin += Math.sin(angle);\n      cos += Math.cos(angle);\n    }\n    sin /= vlim;\n    cos /= vlim;\n    return Math.atan2(sin, cos);\n  }\n\n  /**\n   * Local helper function for calculating the velocity between two timestamped\n   * points.\n   *\n   * @static\n   * @param {object} start\n   * @param {westures-core.Point2D} start.point\n   * @param {number} start.time\n   * @param {object} end\n   * @param {westures-core.Point2D} end.point\n   * @param {number} end.time\n   *\n   * @return {number} velocity from start to end point.\n   */\n  static velocity(start, end) {\n    const distance = end.point.distanceTo(start.point);\n    const time = end.time - start.time + 1;\n    return distance / time;\n  }\n\n  /**\n   * Calculates the veloctiy of movement through a series of moves.\n   *\n   * @static\n   * @param {{time: number, point: westures-core.Point2D}} moves - The moves\n   * list to process.\n   * @param {number} vlim - The number of moves to process.\n   *\n   * @return {number} The velocity of the moves.\n   */\n  static calc_velocity(moves, vlim) {\n    let max = 0;\n    for (let i = 0; i < vlim; ++i) {\n      const current = Swipe.velocity(moves[i], moves[i + 1]);\n      if (current > max) max = current;\n    }\n    return max;\n  }\n}\n\nmodule.exports = Swipe;\n\n","/*\n * Contains the Rotate class.\n */\n\n'use strict';\n\nconst { angularDifference, Smoothable } = require('../core');\nconst Pivotable = require('./Pivotable.js');\n\n/**\n * Data returned when a Swivel is recognized.\n *\n * @typedef {Object} SwivelData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} rotation - In radians, the change in angle since last\n * emit.\n * @property {westures-core.Point2D} pivot - The pivot point.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Swivel is a single input rotating around a fixed point. The fixed point is\n * determined by the input's location at its 'start' phase.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.SwivelData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {boolean} [options.applySmoothing=true] - Whether to apply inertial\n * smoothing for systems with coarse pointers.\n * @param {number} [options.deadzoneRadius=15] - The radius in pixels around the\n * start point in which to do nothing.\n * @param {Element} [options.dynamicPivot=false] - Normally the center point of\n * the gesture's element is used as the pivot. If this option is set, the\n * initial contact point with the element is used as the pivot instead.\n */\nclass Swivel extends Pivotable {\n  constructor(element, handler, options = {}) {\n    super('swivel', element, handler, options);\n\n    /*\n     * The outgoing data, with optional inertial smoothing.\n     *\n     * @override\n     * @type {westures-core.Smoothable<number>}\n     */\n    this.outgoing = new Smoothable(options);\n  }\n\n  updatePrevious(state) {\n    this.previous = this.pivot.angleTo(state.centroid);\n  }\n\n  move(state) {\n    const pivot = this.pivot;\n    const angle = pivot.angleTo(state.centroid);\n    const rotation = angularDifference(angle, this.previous);\n\n    let rv = null;\n    if (pivot.distanceTo(state.centroid) > this.options.deadzoneRadius) {\n      rv = { rotation: this.outgoing.next(rotation), pivot };\n    }\n\n    /*\n     * Updating the previous angle regardless of emit prevents sudden flips when\n     * the user exits the deadzone circle.\n     */\n    this.previous = angle;\n\n    return rv;\n  }\n}\n\nmodule.exports = Swivel;\n\n","/*\n * Contains the Tap class.\n */\n\n'use strict';\n\nconst { Gesture, Point2D } = require('../core');\n\n/**\n * Data returned when a Tap is recognized.\n *\n * @typedef {Object} TapData\n * @mixes ReturnTypes.BaseData\n *\n * @property {number} x - x coordinate of tap point.\n * @property {number} y - y coordinate of tap point.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Tap is defined as a touchstart to touchend event in quick succession.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.TapData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {number} [options.minDelay=0] - The minimum delay between a touchstart\n * and touchend can be configured in milliseconds.\n * @param {number} [options.maxDelay=300] - The maximum delay between a\n * touchstart and touchend can be configured in milliseconds.\n * @param {number} [options.maxRetain=300] - The maximum time after a tap ends\n * before it is discarded can be configured in milliseconds. Useful for\n * multi-tap gestures, to allow things like slow \"double clicks\".\n * @param {number} [options.numTaps=1] - Number of taps to require.\n * @param {number} [options.tolerance=10] - The tolerance in pixels an input can\n * move before it will no longer be considered part of a tap.\n */\nclass Tap extends Gesture {\n  constructor(element, handler, options = {}) {\n    super('tap', element, handler, { ...Tap.DEFAULTS, ...options });\n\n    /**\n     * An array of inputs that have ended recently.\n     *\n     * @type {Input[]}\n     */\n    this.taps = [];\n  }\n\n  end(state) {\n    const now = Date.now();\n    const { minDelay, maxDelay, maxRetain, numTaps, tolerance } = this.options;\n\n    // Save the recently ended inputs as taps.\n    this.taps = this.taps.concat(state.getInputsInPhase('end'))\n      .filter(input => {\n        const elapsed = input.elapsedTime;\n        const tdiff = now - input.current.time;\n        return (\n          elapsed <= maxDelay\n          && elapsed >= minDelay\n          && tdiff <= maxRetain\n        );\n      });\n\n    // Validate the list of taps.\n    if (this.taps.length !== numTaps ||\n      this.taps.some(i => i.totalDistance() > tolerance)) {\n      return null;\n    }\n\n    const centroid = Point2D.centroid(this.taps.map(i => i.current.point));\n    this.taps = []; // Critical! Used taps need to be cleared!\n    return { centroid, ...centroid };\n  }\n}\n\nTap.DEFAULTS = Object.freeze({\n  minDelay:  0,\n  maxDelay:  300,\n  maxRetain: 300,\n  numTaps:   1,\n  tolerance: 10,\n});\n\nmodule.exports = Tap;\n\n","/*\n * Contains the Track class.\n */\n\n'use strict';\n\nconst { Gesture } = require('../core');\n\n/**\n * Data returned when a Track is recognized.\n *\n * @typedef {Object} TrackData\n * @mixes ReturnTypes.BaseData\n *\n * @property {westures-core.Point2D[]} active - Points currently in 'start' or\n *    'move' phase.\n *\n * @memberof ReturnTypes\n */\n\n/**\n * A Track gesture forwards a list of active points and their centroid on each\n * of the selected phases.\n *\n * @extends westures-core.Gesture\n * @see {ReturnTypes.TrackData}\n * @memberof westures\n *\n * @param {Element} element - The element to which to associate the gesture.\n * @param {Function} handler - The function handler to execute when a gesture\n * is recognized on the associated element.\n * @param {object} [options] - Gesture customization options.\n * @param {westures-core.STATE_KEYS[]} [options.enableKeys=[]] - List of keys\n * which will enable the gesture. The gesture will not be recognized unless one\n * of these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the enable key is always down.\n * @param {westures-core.STATE_KEYS[]} [options.disableKeys=[]] - List of keys\n * which will disable the gesture. The gesture will not be recognized if one of\n * these keys is pressed while the interaction occurs. If not specified or an\n * empty list, the gesture is treated as though the disable key is never down.\n * @param {number} [options.minInputs=1] - The minimum number of pointers that\n * must be active for the gesture to be recognized. Uses >=.\n * @param {number} [options.maxInputs=Number.MAX_VALUE] - The maximum number of\n * pointers that may be active for the gesture to be recognized. Uses <=.\n * @param {string[]} [options.phases=[]] Phases to recognize. Entries can be any\n * or all of 'start', 'move', 'end', and 'cancel'.\n */\nclass Track extends Gesture {\n  constructor(element, handler, options = {}) {\n    super('track', element, handler, { ...Track.DEFAULTS, ...options });\n  }\n\n  /**\n   * Filters out the state's data, down to what should be emitted.\n\n   * @param {State} state - current input state.\n   * @return {ReturnTypes.TrackData}\n   */\n  data({ activePoints }) {\n    return { active: activePoints };\n  }\n\n  tracks(phase) {\n    return this.options.phases.includes(phase);\n  }\n\n  start(state) {\n    return this.tracks('start') ? this.data(state) : null;\n  }\n\n  move(state) {\n    return this.tracks('move') ? this.data(state) : null;\n  }\n\n  end(state) {\n    return this.tracks('end') ? this.data(state) : null;\n  }\n\n  cancel(state) {\n    return this.tracks('cancel') ? this.data(state) : null;\n  }\n}\n\nTrack.DEFAULTS = Object.freeze({\n  phases: Object.freeze([]),\n});\n\nmodule.exports = Track;\n\n","/**\n * The API interface for Westures. Defines a number of gestures on top of the\n * engine provided by {@link\n * https://mvanderkamp.github.io/westures-core/index.html|westures-core}.\n *\n * @namespace westures\n */\n\n'use strict';\n\nconst core = require('./core');\n\nconst Pan     = require('./src/Pan.js');\nconst Pinch   = require('./src/Pinch.js');\nconst Press   = require('./src/Press.js');\nconst Pull    = require('./src/Pull.js');\nconst Rotate  = require('./src/Rotate.js');\nconst Swipe   = require('./src/Swipe.js');\nconst Swivel  = require('./src/Swivel.js');\nconst Tap     = require('./src/Tap.js');\nconst Track   = require('./src/Track.js');\n\nmodule.exports = {\n  Pan,\n  Pinch,\n  Press,\n  Pull,\n  Rotate,\n  Swipe,\n  Swivel,\n  Tap,\n  Track,\n  ...core,\n};\n\n/**\n * Here are the return \"types\" of the gestures that are included in this\n * package.\n *\n * @namespace ReturnTypes\n */\n\n/**\n * The base data that is included for all emitted gestures.\n *\n * @typedef {Object} BaseData\n *\n * @property {westures-core.Point2D} centroid - The centroid of the input\n * points.\n * @property {Event} event - The input event which caused the gesture to be\n * recognized.\n * @property {string} phase - 'start', 'move', 'end', or 'cancel'.\n * @property {number} radius - The distance of the furthest input to the\n * centroid.\n * @property {string} type - The name of the gesture as specified by its\n * designer.\n * @property {Element} target - The bound target of the gesture.\n *\n * @memberof ReturnTypes\n */\n\n","'use strict';\n\n// const Westures = require('../../../westures');\nconst Westures = require('westures');\n\nconst { NOP } = require('../shared.js');\n\n/**\n * The Interactor class provides a layer of abstraction between the\n * ClientController and the code that processes user inputs.  Data from\n * recognized gestures is reported directly through to the handlers. The\n * handlers are initialized to NOPs so that the functions which call the\n * handlers don't need to check whether the handler exists.\n *\n * Currently, the Interactor makes use of the Westures library.\n *\n * @memberof module:client\n *\n * @see {@link https://mvanderkamp.github.io/westures/}\n *\n * @param {Object} handlers - Object with keys as the names gestures and values\n *    as the corresponding function for handling that gesture when it is\n *    recognized.\n * @param {Function} [handlers.swipe=NOP]\n * @param {Function} [handlers.tap=NOP]\n * @param {Function} [handlers.track=NOP]\n * @param {Function} [handlers.transform=NOP]\n */\nclass Interactor {\n  constructor(root, handlers = {}) {\n    /**\n     * Object holding the handlers, so they can be dynamically referenced by\n     * name.\n     *\n     * @type {Object}\n     * @property {Function} [swipe=NOP]\n     * @property {Function} [tap=NOP]\n     * @property {Function} [track=NOP]\n     * @property {Function} [transform=NOP]\n     */\n    this.handlers = { ...Interactor.DEFAULT_HANDLERS, ...handlers };\n\n    /**\n     * Object to coalesce state from multiple gestures during one event cycle.\n     *\n     * @type {Object}\n     */\n    this._changes = this._resetChanges();\n    this._scheduled = false;\n\n    // Begin listening activities immediately.\n    this.addGestures(root);\n    window.addEventListener('wheel', this.wheel.bind(this), false);\n  }\n\n  /**\n   * Sets up gesture listeners via westures.\n   */\n  addGestures(root) {\n    const region = new Westures.Region(root, { preventDefault: false });\n    region.addGesture(new Westures.Pan(root, this.coalesce.bind(this), { disableKeys: ['ctrlKey'] }));\n    region.addGesture(new Westures.Pinch(root, this.coalesce.bind(this)));\n    region.addGesture(new Westures.Rotate(root, this.coalesce.bind(this)));\n    region.addGesture(new Westures.Swipe(root, this.handlers.swipe));\n    region.addGesture(\n      new Westures.Swivel(root, this.swivel.bind(this), {\n        enableKeys: ['ctrlKey'],\n        dynamicPivot: true,\n        maxInputs: 1,\n      })\n    );\n    region.addGesture(new Westures.Tap(root, this.handlers.tap));\n    region.addGesture(new Westures.Track(root, this.handlers.track, { phases: ['start', 'end'] }));\n  }\n\n  _resetChanges() {\n    return {\n      centroid: { x: 0, y: 0 },\n      delta: {\n        scale: 1,\n        rotation: 0,\n        translation: { x: 0, y: 0 },\n      },\n    };\n  }\n\n  /**\n   * Coalesce state changes for this event cycle.\n   */\n  coalesce(data) {\n    this._changes.centroid = data.centroid;\n    if (data.scale) {\n      this._changes.delta.scale *= data.scale;\n    }\n    if (data.rotation) {\n      this._changes.delta.rotation += data.rotation;\n    }\n    if (data.translation) {\n      this._changes.delta.translation.x += data.translation.x;\n      this._changes.delta.translation.y += data.translation.y;\n    }\n    if (!this._scheduled) {\n      window.setTimeout(this._emit.bind(this), 0);\n      this._scheduled = true;\n    }\n  }\n\n  /**\n   * Emit a transform event with the coalesced state changes.\n   */\n  _emit() {\n    this.handlers.transform(this._changes);\n    this._changes = this._resetChanges();\n    this._scheduled = false;\n  }\n\n  /**\n   * Send a swivel event through as a transformation.\n   */\n  swivel({ rotation, pivot }) {\n    this.coalesce({ rotation, centroid: pivot });\n  }\n\n  /**\n   * Treat scrollwheel events as zoom events.\n   *\n   * @param {WheelEvent} event - The wheel event from the window.\n   */\n  wheel(event) {\n    event.preventDefault();\n    const factor = event.ctrlKey ? 0.02 : 0.1;\n    const scale = -(Math.sign(event.deltaY) * factor) + 1;\n    const centroid = { x: event.clientX, y: event.clientY };\n    this.handlers.transform({ centroid, delta: { scale } });\n  }\n}\n\n/**\n * The default handlers used by the Interactor.\n *\n * @type {object}\n */\nInteractor.DEFAULT_HANDLERS = Object.freeze({\n  swipe: NOP,\n  tap: NOP,\n  track: NOP,\n  transform: NOP,\n});\n\nmodule.exports = Interactor;\n","'use strict';\n\nconst { Point2D, WamsElement } = require('../shared.js');\n\n/**\n * The ClientElement class exposes the draw() funcitonality of wams elements.\n *\n * @extends module:shared.WamsElement\n * @memberof module:client\n *\n * @param {module:shared.WamsElement} data - The data from the server describing this item.\n */\nclass ClientElement extends WamsElement {\n  constructor(data) {\n    super(data);\n\n    /**\n     * Root element where WAMS canvas and HTML elements are located.\n     *\n     * @type {Element}\n     */\n    const root = document.querySelector('#root');\n\n    /**\n     * The DOM element.\n     *\n     * @type {Element}\n     */\n    this.element = document.createElement(data.tagname);\n    this.element.classList.add('wams-element');\n    this.element.width = this.width;\n    this.element.height = this.height;\n    this.element.style.width = `${this.width}px`;\n    this.element.style.height = `${this.height}px`;\n    root.appendChild(this.element);\n    if (Object.prototype.hasOwnProperty.call(data, 'attributes')) {\n      this.setAttributes(data.attributes);\n    }\n  }\n\n  /**\n   * Render the element. Really just updates the rotation and transformation\n   * matrix.\n   *\n   * @param {CanvasRenderingContext2D} context\n   * @param {module:client.ClientView} view\n   */\n  draw(context, view) {\n    const tl = new Point2D(this.x - view.x, this.y - view.y).divideBy(this.scale).rotate(this.rotation);\n    const rotate = `rotate(${view.rotation - this.rotation}rad) `;\n    const scale = `scale(${this.scale * view.scale}) `;\n    const translate = `translate(${tl.x}px, ${tl.y}px) `;\n    this.element.style.transform = scale + rotate + translate;\n  }\n\n  /**\n   * Sets attributes for the element.\n   *\n   * @param {object} attributes\n   */\n  setAttributes(attributes) {\n    this.attributes = attributes;\n    Object.entries(attributes).forEach(([k, v]) => {\n      this.element[k] = v;\n    });\n  }\n\n  /**\n   * Set parent ServerGroup for the element.\n   *\n   * @param {module:server:ServerGroup} parent server group for this element\n   */\n  setParent(parent) {\n    this.parent = parent;\n  }\n\n  /**\n   * Removes attributes from the element.\n   *\n   * @param {string[]} attributes\n   */\n  removeAttributes(attributes) {\n    attributes.forEach((attr) => {\n      delete this.attributes[attr];\n      this.element[attr] = null;\n    });\n  }\n}\n\nmodule.exports = ClientElement;\n","'use strict';\n\nconst { WamsImage, Message } = require('../shared.js');\n\n/**\n * Abstraction of the requisite logic for generating an image object which will\n * load the appropriate image and report when it has finished loading the image\n * so that it can be displayed.\n *\n * @inner\n * @memberof module:client.ClientImage\n *\n * @param {string} src - Image source path.\n *\n * @returns {?Image}\n */\nfunction createImage(src) {\n  if (src) {\n    const img = new Image();\n    img.src = src;\n    img.loaded = false;\n    img.addEventListener(\n      'load',\n      () => {\n        img.loaded = true;\n        document.dispatchEvent(new CustomEvent(Message.IMG_LOAD));\n      },\n      { once: true }\n    );\n    return img;\n  }\n  return {};\n}\n\n/**\n * The ClientImage class exposes the draw() funcitonality of wams items.\n *\n * @extends module:shared.WamsImage\n * @memberof module:client\n *\n * @param {module:shared.Item} data - The data from the server describing this item.\n */\nclass ClientImage extends WamsImage {\n  constructor(data) {\n    super(data);\n\n    /**\n     * The image to render.\n     *\n     * @type {Image}\n     */\n    this.image = {};\n    if (data.src) this.setImage(data.src);\n  }\n\n  /**\n   * Render the image onto the given context.\n   *\n   * @param {CanvasRenderingContext2D} context\n   */\n  draw(context) {\n    context.save();\n    context.translate(this.x, this.y);\n    context.rotate(-this.rotation);\n    context.scale(this.scale, this.scale);\n    if (this.image.loaded) {\n      context.drawImage(this.image, 0, 0, this.width, this.height);\n    } else {\n      context.fillStyle = 'darkgrey';\n      context.fillRect(0, 0, this.width, this.height);\n    }\n    context.restore();\n  }\n\n  /**\n   * Set parent ServerGroup for the image.\n   *\n   * @param {module:server:ServerGroup} parent server group for this image\n   */\n  setParent(parent) {\n    this.parent = parent;\n  }\n\n  /**\n   * Sets the image path and loads the image.\n   *\n   * @param {string} path - The image's source path\n   */\n  setImage(path) {\n    this.src = path;\n    this.image = createImage(path);\n  }\n}\n\nmodule.exports = ClientImage;\n","'use strict';\n\nconst { Item } = require('../shared.js');\nconst { CanvasSequence } = require('canvas-sequencer');\n\n/**\n * The ClientItem class exposes the draw() funcitonality of wams items.\n *\n * @extends module:shared.Item\n * @memberof module:client\n *\n * @param {module:shared.Item} data - The data from the server describing this item.\n */\nclass ClientItem extends Item {\n  constructor(data) {\n    super(data);\n\n    /**\n     * The actual render.\n     *\n     * @type {CanvasSequence}\n     */\n    this.render = null;\n    if (data.sequence) this.setRender(data.sequence);\n  }\n\n  /**\n   * Render the item onto the given context.\n   *\n   * @param {CanvasRenderingContext2D} context\n   */\n  draw(context) {\n    if (this.render) {\n      context.save();\n      context.translate(this.x, this.y);\n      context.rotate(-this.rotation);\n      context.scale(this.scale, this.scale);\n      this.render.execute(context);\n      context.restore();\n    }\n  }\n\n  /**\n   * Set parent ServerGroup for the item.\n   *\n   * @param {module:server:ServerGroup} parent server group for this item\n   */\n  setParent(parent) {\n    this.parent = parent;\n  }\n\n  /**\n   * Set the item's canvas rendering sequence.\n   *\n   * @param {CanvasSequence} sequence - Raw, unrevived CanvasSequence.\n   */\n  setRender(sequence) {\n    this.render = new CanvasSequence(sequence);\n  }\n}\n\nmodule.exports = ClientItem;\n","/*\n * Author: Michael van der Kamp\n * Date: July/August, 2018\n *\n * This file defines the low level 'CanvasAtom' for use by a CanvasSequence.\n *\n * A CanvasAtom is a unit of execution in a CanvasSequence. It comes in two\n * flavours: one for describing a method call, one for describing a property\n * assignment.\n */\n\n'use strict';\n\n/**\n * The types of CanvasAtoms that are available.\n *\n * @enum {string}\n * @readonly\n * @lends CanvasAtom\n */\nconst TYPES = {\n  /** @const */ METHOD:   'method',\n  /** @const */ PROPERTY: 'property',\n};\n\n/**\n * Internal common constructor definition for Canvas Atoms.\n *\n * @param {string} inst - The canvas context instruction.\n * @param {*[]} args - The arguments to the instruction.\n */\nclass Atom {\n  constructor(inst, args) {\n    /**\n     * The canvas context instruction.\n     *\n     * @private\n     * @type {string}\n     */\n    this.inst = inst;\n\n    /**\n     * The arguments to the instruction.\n     *\n     * @private\n     * @type {*[]}\n     */\n    this.args = args;\n  }\n}\n\n/**\n * A MethodCanvasAtom is used for canvas context methods. The arguments will be\n * treated as an actual array, all of which will be passed to the method when\n * the atom is executed.\n *\n * @extends Atom\n */\nclass MethodCanvasAtom extends Atom {\n  constructor(inst, args) {\n    super(inst, args);\n\n    /**\n     * The type of atom.\n     *\n     * @private\n     * @type {string}\n     */\n    this.type = TYPES.METHOD;\n  }\n\n  /**\n   * Execute the atom on the given context.\n   *\n   * @param {CanvasRenderingContext2D} context\n   */\n  execute(context) {\n    context[this.inst](...this.args);\n  }\n}\n\n/**\n * A PropertyCanvasAtom is used for canvas context properties (a.k.a. fields).\n * Only the first argument will be used, and will be the value assigned to the\n * field.\n *\n * @extends Atom\n */\nclass PropertyCanvasAtom extends Atom {\n  constructor(inst, args) {\n    super(inst, args);\n    this.type = TYPES.PROPERTY;\n  }\n\n  /**\n   * Execute the atom on the given context.\n   *\n   * @param {CanvasRenderingContext2D} context\n   */\n  execute(context) {\n    context[this.inst] = this.args[0];\n  }\n}\n\n/*\n * This object is for demultiplexing types in the CanvasAtom constructor.\n * Defined outside the constructor so it doesn't need to be redefined every\n * time a new atom is constructed. Defined outside the class so that it is not\n * externally exposed.\n */\nconst atomOf = {\n  [TYPES.METHOD]:   MethodCanvasAtom,\n  [TYPES.PROPERTY]: PropertyCanvasAtom,\n};\n\n/**\n * The exposed CanvasAtom class. Results in the instantiation of either a\n * MethodCanvasAtom or a PropertyCanvasAtom, depending on the given type.\n *\n * @param {string} type - Either CanvasAtom.METHOD or CanvasAtom.PROPERTY.\n * @param {string} inst - The canvas context instruction.\n * @param {*[]} args - The arguments to the instruction.\n */\nclass CanvasAtom {\n  constructor(type, inst, args) {\n    return new atomOf[type](inst, args);\n  }\n}\n\n/*\n * Define the types once locally, but make them available externally as\n * immutable properties on the class.\n */\nObject.entries(TYPES).forEach(([p, v]) => {\n  Object.defineProperty(CanvasAtom, p, {\n    value:        v,\n    configurable: false,\n    enumerable:   true,\n    writable:     false,\n  });\n});\n\nmodule.exports = CanvasAtom;\n\n","/*\n * Author: Michael van der Kamp\n * Date: July/August, 2018\n *\n * This file provides the definition of the CanvasSequence class.\n */\n\n'use strict';\n\nconst CanvasAtom = require('./CanvasAtom.js');\n\nconst locals = Object.freeze({\n  METHODS: [\n    'addHitRegion',\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearHitRegions',\n    'clearRect',\n    'clip',\n    'closePath',\n    'drawFocusIfNeeded',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillRect',\n    'fillText',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'removeHitRegion',\n    'resetTransform',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'scrollPathIntoView',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeRect',\n    'strokeText',\n    'transform',\n    'translate',\n  ],\n\n  PROPERTIES: [\n    'direction',\n    'fillStyle',\n    'filter',\n    'font',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n    'imageSmoothingQuality',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'shadowBlur',\n    'shadowColor',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'strokeStyle',\n    'textAlign',\n    'textBaseline',\n  ],\n});\n\n// Mark properties as intended for internal use.\nconst symbols = Object.freeze({\n  sequence: Symbol.for('sequence'),\n  push:     Symbol.for('push'),\n  fromJSON: Symbol.for('fromJSON'),\n});\n\n/**\n * A CanvasSequence is a linear collection of CanvasAtoms, capable of being\n * executed on a CanvasRenderingContext2D.\n *\n * @param {CanvasSequence} [data=null] - An unrevived (i.e. freshly transmitted)\n * CanvasSequence. If present, the constructor revives the sequence. Note that\n * an already revived CanvasSequence cannot be used as the argument here.\n */\nclass CanvasSequence {\n  constructor(data = null) {\n    /**\n     * The CanvasAtoms that form the sequence.\n     *\n     * @private\n     * @type {CanvasAtom[]}\n     */\n    this[symbols.sequence] = [];\n\n    // If data is present, assume it is a CanvasSequence that needs reviving.\n    if (data) this[symbols.fromJSON](data);\n  }\n\n  /**\n   * Revive the sequence from transmitted JSON data.\n   *\n   * @private\n   * @param {CanvasSequence} [data={}]\n   */\n  [symbols.fromJSON](data = { sequence: [] }) {\n    data.sequence.forEach(({ type, inst, args }) => {\n      this[symbols.push](type, inst, args);\n    });\n  }\n\n  /**\n   * Push a new CanvasAtom onto the end of the sequence.\n   *\n   * @private\n   * @param {string} type - The type of CanvasAtom to push.\n   * @param {string} inst - The canvas context instruction.\n   * @param {*[]} args - The arguments to the canvas context instruction.\n   */\n  [symbols.push](type, inst, args) {\n    this[symbols.sequence].push(new CanvasAtom(type, inst, args));\n  }\n\n  /**\n   * Execute the sequence on the given context.\n   *\n   * @param {CanvasRenderingContext2D} context\n   */\n  execute(context) {\n    context.save();\n    this[symbols.sequence].forEach(a => a.execute(context));\n    context.restore();\n  }\n\n  /**\n   * Export a JSON serialized version of the sequence, ready for transmission.\n   *\n   * @return {CanvasSequence} In JSON serialized form.\n   */\n  toJSON() {\n    return { sequence: this[symbols.sequence] };\n  }\n}\n\nlocals.METHODS.forEach(m => {\n  Object.defineProperty(CanvasSequence.prototype, m, {\n    value: function pushMethodCall(...args) {\n      this[symbols.push](CanvasAtom.METHOD, m, args);\n    },\n    writable:     false,\n    enumerable:   true,\n    configurable: false,\n  });\n});\n\nlocals.PROPERTIES.forEach(p => {\n  Object.defineProperty(CanvasSequence.prototype, p, {\n    get()  { throw `Invalid canvas sequencer interaction, cannot get ${p}.`; },\n    set(v) { this[symbols.push](CanvasAtom.PROPERTY, p, [v]); },\n    enumerable:   true,\n    configurable: false,\n  });\n});\n\nmodule.exports = CanvasSequence;\n\n","/*\n * Author: Michael van der Kamp\n * Date: July/August, 2018\n *\n * Thie file provides the definition of the CanvasBlueprint class.\n *\n * A CanvasBlueprint is similar to a plain CanvasSequence, except that it\n * accepts tag strings as arguments, and before it can be executed it  needs to\n * be 'built' with an object defining which values should replace the tags.\n */\n\n'use strict';\n\nconst CanvasSequence = require('./CanvasSequence.js');\n\n// Mark properties as intended for internal use.\nconst symbols = Object.freeze({\n  sequence: Symbol.for('sequence'),\n  push:     Symbol.for('push'),\n});\n\n/**\n * Replace tags in the given string with correlated value in values.\n *\n * Rules:\n * - Strings not surrounded by curly braces {} will be returned.\n * - Strings surrounded by curly braces but not corresponding to a property on\n *   'values' will result in a string without the curly braces being returned.\n * - Strings surrounded by curly braces, with the inner string corresponding to\n *   a property on 'values' will result in the corresponding value being\n *   returned.\n *\n * @inner\n * @private\n *\n * @param {string} str\n * @param {object} values\n *\n * @return {string|mixed} Either the original string if no replacement was\n * performed, or the appropriate value.\n */\nfunction replaceTags(str, values) {\n  const tag = str.replace(/^\\{|\\}$/gu, '');\n  if (tag !== str) {\n    return values.hasOwnProperty(tag) ? values[tag] : tag;\n  }\n  return str;\n}\n\n/**\n * A CanvasBlueprint is a rebuildable CanvasSequence. It accepts tagged\n * arguments. When built, tags will be replaced using properties from a provided\n * object.\n *\n * @extends CanvasSequence\n */\nclass CanvasBlueprint extends CanvasSequence {\n  /**\n   * Build the blueprint using the provided values.\n   *\n   * Rules:\n   * - Strings not surrounded by curly braces {} will be returned.\n   * - Strings surrounded by curly braces but not corresponding to a property on\n   *   'values' will result in a string without the curly braces being returned.\n   * - Strings surrounded by curly braces, with the inner string corresponding\n   *   to a property on 'values' will result in the corresponding value being\n   *   returned.\n   *\n   * @param {object} values - The values with which to construct the sequence.\n   *\n   * @return {CanvasSequence} The constructed sequence.\n   */\n  build(values = {}) {\n    const seq = new CanvasSequence();\n    this[symbols.sequence].forEach(({ type, inst, args }) => {\n      const realArgs = args.map(v => {\n        return (typeof v === 'string') ? replaceTags(v, values) : v;\n      });\n      seq[symbols.push](type, inst, realArgs);\n    });\n    return seq;\n  }\n\n  /**\n   * CanvasBlueprints cannot be directly executed!\n   *\n   * @throws TypeError\n   */\n  execute() {\n    throw new TypeError('Cannot execute a blueprint.');\n  }\n}\n\nmodule.exports = CanvasBlueprint;\n\n","/*\n * Access point for npm.\n */\n\n'use strict';\n\nconst CanvasSequence = require('./src/CanvasSequence.js');\nconst CanvasBlueprint = require('./src/CanvasBlueprint.js');\n\nmodule.exports = { CanvasSequence, CanvasBlueprint };\n\n","/*\n * SOME NOTES ABOUT CANVAS RENDERING:\n *  - Avoid using shadows. They appear to kill the framerate.\n */\n\n'use strict';\n\nconst { colours, View } = require('../shared.js');\n\n// Symbols to mark these methods as intended for internal use only.\nconst symbols = Object.freeze({\n  align: Symbol('align'),\n  style: Symbol('style'),\n  outline: Symbol('outline'),\n  marker: Symbol('marker'),\n});\n\n/**\n * The ShadowView class exposes a simple draw() function which renders a shadowy\n * outline of the view onto the canvas.\n *\n * @extends module:shared.View\n * @memberof module:client\n *\n * @param {module:shared.View} values - server-provided data describing this\n * view.\n */\nclass ShadowView extends View {\n  /**\n   * Render an outline of this view.\n   *\n   * @param {CanvasRenderingContext2D} context - context on which to draw.\n   */\n  draw(context) {\n    /*\n     * WARNING: It is *crucial* that this series of instructions be wrapped in\n     * save() and restore().\n     */\n    context.save();\n    this[symbols.align](context);\n    this[symbols.style](context);\n    this[symbols.outline](context);\n    this[symbols.marker](context);\n    context.restore();\n  }\n\n  /**\n   * Aligns the drawing context so the outline will be rendered in the correct\n   * location with the correct orientation.\n   *\n   * @alias [@@align]\n   * @memberof module:client.ShadowView\n   *\n   * @param {CanvasRenderingContext2D} context - context on which to draw.\n   */\n  [symbols.align](context) {\n    context.translate(this.x, this.y);\n    context.rotate(-this.rotation);\n    context.scale(1 / this.scale, 1 / this.scale);\n  }\n\n  /**\n   * Applies styling to the drawing context.\n   *\n   * @alias [@@style]\n   * @memberof module:client.ShadowView\n   *\n   * @param {CanvasRenderingContext2D} context - context on which to draw.\n   */\n  [symbols.style](context) {\n    context.globalAlpha = 0.5;\n    context.strokeStyle = colours[this.id % colours.length];\n    context.fillStyle = context.strokeStyle;\n    context.lineWidth = 5;\n  }\n\n  /**\n   * Draws an outline of the view.\n   *\n   * @alias [@@outline]\n   * @memberof module:client.ShadowView\n   */\n  [symbols.outline](context) {\n    context.strokeRect(0, 0, this.width, this.height);\n  }\n\n  /**\n   * Draws a small triangle in the upper-left corner of the outline, so that\n   * other views can quickly tell which way this view is oriented.\n   *\n   * @alias [@@marker]\n   * @memberof module:client.ShadowView\n   *\n   * @param {CanvasRenderingContext2D} context - context on which to draw.\n   */\n  [symbols.marker](context) {\n    const base = context.lineWidth / 2;\n    const height = 25;\n\n    context.beginPath();\n    context.moveTo(base, base);\n    context.lineTo(base, height);\n    context.lineTo(height, base);\n    context.lineTo(base, base);\n    context.fill();\n  }\n}\n\nmodule.exports = ShadowView;\n","'use strict';\n\nconst ClientElement = require('./ClientElement.js');\nconst ClientImage = require('./ClientImage.js');\nconst ClientItem = require('./ClientItem.js');\nconst ShadowView = require('./ShadowView.js');\nconst { removeById } = require('../shared.js');\n\nconst REQUIRED_DATA = Object.freeze(['viewId', 'items', 'views']);\n\n/**\n * The ClientModel is a client-side copy of those aspects of the model that are\n * necessary for rendering the view for the user.\n *\n * @memberof module:client\n */\nclass ClientModel {\n  constructor(root) {\n    /**\n     * Root element where WAMS canvas and HTML elements are located.\n     *\n     * @type {Element}\n     */\n    // eslint-disable-next-line\n    this.rootElement = root;\n\n    /**\n     * All the items in the model, which may all need rendering at some point.\n     * Kept up to date via the ClientController.\n     *\n     * @type {Map.<module:client.ClientItem>}\n     */\n    this.items = new Map();\n\n    /**\n     * An ordered list of the items, so that the render order can accurately\n     * match the order on the server, and be adjusted likewise.\n     *\n     * @type {module:client.ClientItem[]}\n     */\n    this.itemOrder = [];\n\n    /**\n     * The shadows are all the other views that are currently active. They are\n     * tracked in full and an outline for each is rendered.\n     *\n     * @type {Map.<module:client.ShadowView>}\n     */\n    this.shadows = new Map();\n\n    /**\n     * The view data for this user.\n     *\n     * @type {module:client.ClientView}\n     */\n    this.view = null;\n  }\n\n  /**\n   * Generate and store an item of the given type.\n   *\n   * @param {function} ClassFn\n   * @param {object} values\n   */\n  addObject(ClassFn, values) {\n    const object = new ClassFn(values);\n    this.itemOrder.push(object);\n    this.items.set(object.id, object);\n  }\n\n  /**\n   * Generate and store an Element with the given values.\n   *\n   * @param {module:shared.WamsElement} values - State of the new Element\n   */\n  addElement(values) {\n    this.addObject(ClientElement, values);\n  }\n\n  /**\n   * Generate and store an Image with the given values.\n   *\n   * @param {module:shared.WamsImage} values - State of the new image.\n   */\n  addImage(values) {\n    this.addObject(ClientImage, values);\n  }\n\n  /**\n   * Generate and store an Item with the given values.\n   *\n   * @param {module:shared.Item} values - State of the new Item.\n   */\n  addItem(values) {\n    this.addObject(ClientItem, values);\n  }\n\n  /**\n   * Generate and store a 'shadow view' to track another active view.\n   *\n   * @param {module:shared.View} values - State of the new View.\n   */\n  addShadow(values) {\n    const shadow = new ShadowView(values);\n    this.shadows.set(shadow.id, shadow);\n  }\n\n  /**\n   * Retrieve an item by ID. Throw an Error if the item isn't found.\n   *\n   * @param {number} id - ID of the item to retrieve.\n   */\n  getItem(id) {\n    const item = this.items.get(id);\n    if (item === undefined) {\n      throw Error(`Unable to find item with id: ${id}`);\n    }\n    return item;\n  }\n\n  /**\n   * Retrieve a Shadow by ID. Throw an Error if the shadow isn't found.\n   *\n   * @param {number} id - ID of the shadow to retrieve.\n   */\n  getShadow(id) {\n    const shadow = this.shadows.get(id);\n    if (shadow === undefined) {\n      throw Error(`Unable to find shadow with id: ${id}`);\n    }\n    return shadow;\n  }\n\n  /**\n   * Removes the given item.\n   *\n   * @param {module:shared.Item} item - The Item to remove.\n   *\n   * @return {boolean} true if removal was successful, false otherwise.\n   */\n  removeItem(data) {\n    const item = this.getItem(data.id);\n    if (Object.prototype.hasOwnProperty.call(item, 'tagname')) {\n      this.rootElement.removeChild(item.element);\n    }\n    this.items.delete(data.id);\n    return removeById(this.itemOrder, data);\n  }\n\n  /**\n   * Removes the given 'shadow' view.\n   *\n   * @param {module:shared.View} shadow - The 'shadow' view to remove.\n   *\n   * @return {boolean} true if removal was successful, false otherwise.\n   */\n  removeShadow(shadow) {\n    return this.shadows.delete(shadow.id);\n  }\n\n  /**\n   * Set up the internal copy of the model according to the data provided by the\n   * server.\n   */\n  initialize(data) {\n    REQUIRED_DATA.forEach((d) => {\n      if (!Object.prototype.hasOwnProperty.call(data, d)) throw Error(`initialize requires: ${d}`);\n    });\n    data.views.forEach((v) => {\n      if (v.id !== this.view.id) {\n        this.addShadow(v);\n      }\n    });\n    data.items.reverse().forEach((o) => {\n      if (Object.prototype.hasOwnProperty.call(o, 'src')) {\n        this.addImage(o);\n      } else if (Object.prototype.hasOwnProperty.call(o, 'tagname')) {\n        this.addElement(o);\n      } else {\n        this.addItem(o);\n      }\n    });\n    this.view.config.shadows = data.shadows;\n    this.view.config.status = data.settings.status;\n    this.view.config.backgroundImage = data.settings.backgroundImage;\n  }\n\n  /**\n   * Bring item to top, so that it's above others.\n   *\n   */\n  bringItemToTop(id) {\n    const index = this.itemOrder.findIndex((el) => el.id === id);\n    this.itemOrder.push(...this.itemOrder.splice(index, 1));\n  }\n\n  /**\n   * Set the attributes for the appropriate item.\n   *\n   * @param {object} data\n   */\n  setAttributes(data) {\n    const item = this.getItem(data.id);\n    item.setAttributes(data.attributes);\n  }\n\n  setParent(data) {\n    const item = this.getItem(data.id);\n    item.setParent(data.parent);\n  }\n\n  /**\n   * Set the image for the appropriate item.\n   *\n   * @param {object} data\n   */\n  setImage(data) {\n    const item = this.getItem(data.id);\n    item.setImage(data.src);\n  }\n\n  /**\n   * Set the canvas rendering sequence for the appropriate item.\n   *\n   * @param {object} data\n   */\n  setRender(data) {\n    const item = this.getItem(data.id);\n    item.setRender(data.sequence);\n  }\n\n  /**\n   * Update an item.\n   *\n   * @param {module:shared.Item} data - data from the server, has an 'id' field\n   * with which the item will be located.\n   */\n  updateItem(data) {\n    const item = this.getItem(data.id);\n    Object.assign(item, data);\n    if (!item.lockZ) {\n      this.bringItemToTop(data.id);\n    }\n  }\n\n  /**\n   * Update a 'shadow' view.\n   *\n   * @param {module:shared.View} data - data from the server, has an 'id' field\n   * with which the view will be located.\n   */\n  updateShadow(data) {\n    const shadow = this.getShadow(data.id);\n    Object.assign(shadow, data);\n  }\n\n  /**\n   * Update the view.\n   *\n   * @param {module:shared.View} data - data from the server, specficially\n   * pertaining to this client's view.\n   */\n  updateView(data) {\n    Object.assign(this.view, data);\n  }\n\n  /**\n   * Dispatch custom DOM event to trigger user defined action\n   *\n   * @param {object} event - event data, contains `action` and `payload`\n   */\n  dispatch(event) {\n    document.dispatchEvent(new CustomEvent(event.action, { detail: event.payload }));\n  }\n}\n\nmodule.exports = ClientModel;\n","'use strict';\n\nconst { View } = require('../shared.js');\n\n// Data fields to write for status indicator text.\nconst STATUS_KEYS = Object.freeze(['x', 'y', 'width', 'height', 'rotation', 'scale']);\n\n// Mark these methods as intended only for internal use.\nconst symbols = Object.freeze({\n  align: Symbol('align'),\n  drawBackground: Symbol('dragBackground'),\n  drawItems: Symbol('drawItems'),\n  drawShadows: Symbol('drawShadows'),\n  drawStatus: Symbol('drawStatus'),\n  wipe: Symbol('wipe'),\n});\n\n// Default ClientView configuration.\nconst DEFAULT_CONFIG = Object.freeze({\n  showStatus: false,\n  shadows: false,\n});\n\n/**\n * The ClientView is responsible for rendering the view. To do this, it keeps\n * track of its own position, scale, and orientation, as well as those values\n * for all items and all other views (which will be represented with outlines).\n *\n * @extends module:shared.View\n * @memberof module:client\n *\n * @param {CanvasRenderingContext2D} context - The canvas context in which to\n * render the model.\n */\nclass ClientView extends View {\n  constructor(context) {\n    super(ClientView.DEFAULTS);\n\n    /**\n     * The CanvasRenderingContext2D is required for drawing (rendering) to take\n     * place.\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context = context;\n\n    /**\n     * The model holds the information about items and shadows that need\n     * rendering.\n     *\n     * @type {module:client.ClientModel}\n     */\n    this.model = null;\n\n    /**\n     * Configuration of ClientView that can be\n     * modified in user-defined `window.WAMS_CONFIG`.\n     *\n     * @type {object}\n     */\n    this.config = { ...DEFAULT_CONFIG };\n  }\n\n  /**\n   * Positions the rendering context precisely, taking into account all\n   * transformations, so that rendering can proceed correctly.\n   *\n   * @alias [@@align]\n   * @memberof module:client.ClientView\n   */\n  [symbols.align]() {\n    /*\n     * WARNING: It is crucially important that the instructions below occur\n     * in *precisely* this order!\n     */\n    this.context.scale(this.scale, this.scale);\n    this.context.rotate(this.rotation);\n    this.context.translate(-this.x, -this.y);\n  }\n\n  /**\n   * Renders all the items.\n   *\n   * @alias [@@drawItems]\n   * @memberof module:client.ClientView\n   */\n  [symbols.drawItems]() {\n    this.model.itemOrder.forEach((o) => o.draw(this.context, this));\n  }\n\n  /**\n   * Renders outlines of all the other views.\n   *\n   * @alias [@@drawShadows]\n   * @memberof module:client.ClientView\n   */\n  [symbols.drawShadows]() {\n    this.model.shadows.forEach((v) => v.draw(this.context));\n  }\n\n  /**\n   * Renders text describing the status of the view to the upper left corner of\n   * the view, to assist with debugging.\n   *\n   * @alias [@@drawShadows]\n   * @memberof module:client.ClientView\n   */\n  [symbols.drawStatus]() {\n    const messages = STATUS_KEYS.map((k) => `${k}: ${this[k].toFixed(2)}`).concat([\n      `# of Shadows: ${this.model.shadows.size}`,\n    ]);\n    let ty = 40;\n    const tx = 20;\n\n    this.context.save();\n    this.context.setTransform(1, 0, 0, 1, 0, 0);\n    this.context.font = '18px Georgia';\n    messages.forEach((m) => {\n      this.context.fillText(m, tx, ty);\n      ty += 20;\n    });\n    this.context.restore();\n  }\n\n  /**\n   * Clears all previous renders, to ensure a clean slate for the upcoming\n   * render.\n   *\n   * @alias [@@wipe]\n   * @memberof module:client.ClientView\n   */\n  [symbols.wipe]() {\n    this.context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n  }\n\n  /**\n   * Fully render the current state of the system.\n   */\n  draw() {\n    this.context.save();\n    this[symbols.wipe]();\n    this[symbols.align]();\n    this[symbols.drawItems]();\n    if (this.config.shadows) this[symbols.drawShadows]();\n    if (this.config.status) this[symbols.drawStatus]();\n    this.context.restore();\n  }\n\n  /**\n   * Fill all available space in the window.\n   */\n  resizeToFillWindow(dpr, iOS) {\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    if (!iOS) this.context.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n}\n\nmodule.exports = ClientView;\n","/*\n * WAMS code to be executed in the client browser.\n */\n\n/**\n * This file defines the entry point for the client side of a WAMS application.\n *\n * <br>\n * <img\n * src =\n * \"https://raw.githubusercontent.com/mvanderkamp/wams.wiki/master/graphs/client.png\"\n * style = \"max-height: 200px;\"\n * >\n *\n * @module client\n */\n\n'use strict';\n\nconst ClientController = require('./client/ClientController.js');\nconst ClientModel = require('./client/ClientModel.js');\nconst ClientView = require('./client/ClientView.js');\n\nclass ClientApplication {\n  constructor(controller) {\n    this.controller = controller;\n  }\n\n  on(event, func) {\n    // listen for this DOM event\n    document.addEventListener(event, func);\n    this.controller.eventListeners.push(event);\n\n    // if this event was called before this code executed, dispatch it again\n    this.controller.eventQueue.forEach((ev) => {\n      if (ev.action === event) {\n        document.dispatchEvent(new CustomEvent(event, { detail: ev.payload }));\n      }\n    });\n\n    // Remove events from the queue that have been dispatched.\n    this.controller.eventQueue = this.controller.eventQueue.filter((ev) => ev.action !== event);\n  }\n\n  dispatch(event, func) {\n    this.controller.dispatch(event, func);\n  }\n}\n\nfunction run() {\n  document.addEventListener('contextmenu', (e) => e.preventDefault());\n\n  const root = document.querySelector('#root');\n  if (!root) throw Error('No root element was found on the page.');\n  const canvas = document.querySelector('canvas');\n  if (!canvas) throw Error('No canvas element was found on the page.');\n\n  const context = canvas.getContext('2d');\n\n  const model = new ClientModel(root);\n  const view = new ClientView(context);\n  const controller = new ClientController(root, canvas, view, model);\n  window.WAMS = new ClientApplication(controller);\n\n  model.view = view;\n  view.model = model;\n  controller.connect();\n}\n\nwindow.addEventListener('load', run, {\n  capture: false,\n  once: true,\n  passive: true,\n});\n"],"names":["Object","defineProperty","exports","value","io","Socket","Manager","protocol","debug","parcelRequire","module","lookup","cache","managers","uri","opts","undefined","parsed","$kSCLS","url","path","source","id","sameNamespace","forceNew","multiplex","$7YSFy","query","queryKey","socket","enumerable","get","$cYVnq","connect","$9cU3U","default","$f336ecef4c7ee0f0$var$debug","loc","obj","location","host","charAt","test","$iOTCh","port","indexOf","href","$db3809c10426b339$var$re","$db3809c10426b339$var$parts","str","src","b","e","substring","replace","length","data","m","exec","i","authority","ipv6uri","pathNames","regx","names","split","substr","splice","$db3809c10426b339$var$pathNames","$0","$1","$2","$ibaza","formatArgs","args","this","useColors","namespace","humanize","diff","c","color","index","lastC","match","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","window","process","type","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","localStorage","$71a5ad028b0f011a$var$localstorage","destroy","warned","warn","colors","log","formatters","$71a5ad028b0f011a$var$formatters","j","v","JSON","stringify","message","$d3c1734dacb01657$var$cachedSetTimeout","$d3c1734dacb01657$var$cachedClearTimeout","$d3c1734dacb01657$var$process","$d3c1734dacb01657$var$defaultSetTimout","Error","$d3c1734dacb01657$var$defaultClearTimeout","$d3c1734dacb01657$var$runTimeout","fun","setTimeout","call","e1","clearTimeout","$d3c1734dacb01657$var$currentQueue","$d3c1734dacb01657$var$queue","$d3c1734dacb01657$var$draining","$d3c1734dacb01657$var$queueIndex","$d3c1734dacb01657$var$cleanUpNextTick","concat","$d3c1734dacb01657$var$drainQueue","timeout","len","run","marker","$d3c1734dacb01657$var$runClearTimeout","$d3c1734dacb01657$var$Item","array","$d3c1734dacb01657$var$noop","nextTick","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Number","Date","ms","prev","coerce","unshift","format","formatter","val","selectColor","extend","configurable","set","init","delimiter","newDebug","toNamespace","regexp","toString","stack","disable","map","skips","join","enable","slice","keys","forEach","key","hash","charCodeAt","Math","abs","$37d295599aefcb03$var$s","$37d295599aefcb03$var$m","$37d295599aefcb03$var$h","$37d295599aefcb03$var$d","$37d295599aefcb03$var$w","$37d295599aefcb03$var$y","$37d295599aefcb03$var$plural","msAbs","n","isPlural","round","options","String","parseFloat","$37d295599aefcb03$var$parse","isFinite","long","$37d295599aefcb03$var$fmtShort","$5cf88b3022ccfca5$var$debug","$5cf88b3022ccfca5$var$Manager","$ltFY4","StrictEventEmitter","constructor","_a","super","nsps","subs","$b9srj","installTimerFunctions","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","$3FiLK","min","max","jitter","_readyState","_parser","parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","open","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","_reconnecting","attempts","reconnect","fn","engine","$a6Ylp","skipReconnect","openSubDestroy","$annaF","onopen","errorSub","err","cleanup","emitReserved","timer","setTimeoutFn","close","autoUnref","unref","onping","bind","ondata","onerror","onclose","ondecoded","add","packet","nsp","_destroy","active","_close","_packet","encodedPackets","encode","write","subDestroy","reset","disconnect","reason","delay","duration","onreconnect","attempt","$8P9iJ","Transport","transports","$7QpIa","$66ca4d2bc8b5b259$var$debug","$66ca4d2bc8b5b259$var$Socket","$173mS","hostname","secure","$66ca4d2bc8b5b259$require$installTimerFunctions","readyState","writeBuffer","prevBufferLen","assign","agent","withCredentials","upgrade","jsonp","timestampParam","rememberUpgrade","rejectUnauthorized","perMessageDeflate","threshold","transportOptions","closeOnBeforeunload","$b0izg","decode","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","addEventListener","transport","offlineEventListener","onClose","createTransport","o","hasOwnProperty","$66ca4d2bc8b5b259$var$clone","EIO","$8OtnN","sid","priorWebsocketSuccess","shift","setTransport","onDrain","onPacket","onError","probe","failed","onTransportOpen","send","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","to","onOpen","l","onHandshake","parse","resetPingTimeout","sendPacket","code","filterUpgrades","clearTimeoutFn","writable","compress","cleanupAndClose","waitForUpgrade","desc","pingIntervalTimer","removeEventListener","filteredUpgrades","$5b61557eb055249a$export$bdbf04fbdcf6ac3c","$5b61557eb055249a$export$3f859614deccc31b","xhr","xd","xs","isSSL","xdomain","xscheme","$aqOBy","forceJSONP","$evo0J","$hCrCV","$1WQvA","$245i3","enablesXDR","XMLHttpRequest","XDomainRequest","$cxvGv","e2","Function","pick","$02b9a794a529c3e3$var$debug","$02b9a794a529c3e3$var$empty","$02b9a794a529c3e3$var$hasXHR2","responseType","$02b9a794a529c3e3$var$Request","$02b9a794a529c3e3$require$installTimerFunctions","method","async","create","$02b9a794a529c3e3$require$pick","extraHeaders","setDisableHeaderCheck","setRequestHeader","requestTimeout","hasXDR","onload","onLoad","responseText","onreadystatechange","status","e3","requestsCount","requests","onSuccess","onData","fromError","abort","attachEvent","$02b9a794a529c3e3$var$unloadHandler","$cvl38","forceBase64","supportsBinary","request","doWrite","req","doPoll","pollXhr","Request","$4oiAB","$91a8b5466e03018a$var$debug","doOpen","poll","onPause","polling","total","decodePayload","binaryType","doClose","packets","encodePayload","schema","timestampRequests","$aKJMy","b64","$3327d2caf416224d$var$debug","$3327d2caf416224d$require$installTimerFunctions","description","decodePacket","$lo7tQ","$66a9c90abeb4ba3a$var$SEPARATOR","fromCharCode","callback","count","encodedPacket","$2ZXZU","encodedPayload","decodedPacket","PACKET_TYPES","$f921a44d36f43ebe$var$withNativeBlob","Blob","$f921a44d36f43ebe$var$withNativeArrayBuffer","ArrayBuffer","$f921a44d36f43ebe$var$encodeBlobAsBase64","fileReader","FileReader","content","result","readAsDataURL","isView","buffer","$f921a44d36f43ebe$require$PACKET_TYPES","$84bf73fff8b81271$var$PACKET_TYPES","$84bf73fff8b81271$var$PACKET_TYPES_REVERSE","$boC3j","PACKET_TYPES_REVERSE","ERROR_PACKET","$22efd188d3cd60fe$var$base64decoder","$22efd188d3cd60fe$var$decodeBase64Packet","decoded","$22efd188d3cd60fe$var$mapBinary","base64","$22efd188d3cd60fe$require$PACKET_TYPES_REVERSE","$22efd188d3cd60fe$require$ERROR_PACKET","$529021669bcd94a1$export$c564cdbbe6da493","$529021669bcd94a1$export$2f872c0f2117be69","chars","arraybuffer","bytes","Uint8Array","encoded1","encoded2","encoded3","encoded4","bufferLength","p","$0cf90eb8bd3a4944$var$Emitter","$0cf90eb8bd3a4944$var$mixin","event","_callbacks","callbacks","$81e698764d365fa1$export$357523c63a2253b9","$81e698764d365fa1$export$2f67576668b97183","attr","reduce","acc","k","$81e698764d365fa1$var$NATIVE_SET_TIMEOUT","$81e698764d365fa1$var$NATIVE_CLEAR_TIMEOUT","useNativeTimers","$802e18fbad12753c$export$c564cdbbe6da493","$802e18fbad12753c$export$2f872c0f2117be69","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","$7d41b6a10159e77b$var$prev","$7d41b6a10159e77b$var$alphabet","$7d41b6a10159e77b$var$map","$7d41b6a10159e77b$var$seed","$7d41b6a10159e77b$var$i","$7d41b6a10159e77b$var$encode","num","encoded","floor","$7d41b6a10159e77b$var$yeast","now","$cd3b6a5e6dba85bb$var$rNewline","$cd3b6a5e6dba85bb$var$rEscapedNewline","$cd3b6a5e6dba85bb$var$callbacks","___eio","script","parentNode","removeChild","form","iframe","createElement","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","area","iframeId","className","position","top","left","target","setAttribute","complete","initIframe","action","html","submit","$6ObVK","WebSocket","usingBrowserWebSocket","defaultBinaryType","$16b3f04ddacaaaef$var$debug","$16b3f04ddacaaaef$var$isReactNative","product","$16b3f04ddacaaaef$var$WS","check","protocols","$16b3f04ddacaaaef$require$pick","headers","ws","$16b3f04ddacaaaef$require$usingBrowserWebSocket","$16b3f04ddacaaaef$require$WebSocket","$16b3f04ddacaaaef$require$defaultBinaryType","addEventListeners","_socket","onmessage","ev","lastPacket","encodePacket","$16b3f04ddacaaaef$require$Buffer","byteLength","$16b3f04ddacaaaef$require$nextTick","$0934e0939605d48c$export$a143d493d941bafc","$0934e0939605d48c$export$f99ded8fe4b79145","$0934e0939605d48c$var$customInspectSymbol","Symbol","$0934e0939605d48c$var$Buffer","$0934e0939605d48c$var$K_MAX_LENGTH","$0934e0939605d48c$var$createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","$0934e0939605d48c$var$allocUnsafe","$0934e0939605d48c$var$from","string","encoding","isEncoding","$0934e0939605d48c$var$byteLength","actual","$0934e0939605d48c$var$fromString","arrayView","$0934e0939605d48c$var$isInstance","copy","$0934e0939605d48c$var$fromArrayBuffer","byteOffset","$0934e0939605d48c$var$fromArrayLike","$0934e0939605d48c$var$fromArrayView","SharedArrayBuffer","valueOf","from","isBuffer","$0934e0939605d48c$var$checked","$0934e0939605d48c$var$numberIsNaN","isArray","$0934e0939605d48c$var$fromObject","toPrimitive","$0934e0939605d48c$var$assertSize","size","mustMatch","loweredCase","$0934e0939605d48c$var$utf8ToBytes","$0934e0939605d48c$var$base64ToBytes","$0934e0939605d48c$var$slowToString","start","end","$0934e0939605d48c$var$hexSlice","$0934e0939605d48c$var$utf8Slice","$0934e0939605d48c$var$asciiSlice","$0934e0939605d48c$var$latin1Slice","$0934e0939605d48c$var$base64Slice","$0934e0939605d48c$var$utf16leSlice","$0934e0939605d48c$var$swap","$0934e0939605d48c$var$bidirectionalIndexOf","$0934e0939605d48c$var$arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","$0934e0939605d48c$var$hexWrite","offset","remaining","strLen","$0934e0939605d48c$var$utf8Write","$0934e0939605d48c$var$blitBuffer","$0934e0939605d48c$var$asciiWrite","byteArray","$0934e0939605d48c$var$asciiToBytes","$0934e0939605d48c$var$base64Write","$0934e0939605d48c$var$ucs2Write","units","hi","lo","$0934e0939605d48c$var$utf16leToBytes","$bQMRt","fromByteArray","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","$0934e0939605d48c$var$MAX_ARGUMENTS_LENGTH","$0934e0939605d48c$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$0934e0939605d48c$var$typedArraySupport","poolSize","alloc","fill","$0934e0939605d48c$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","ret","out","$0934e0939605d48c$var$hexSliceLookupTable","$0934e0939605d48c$var$checkOffset","ext","$0934e0939605d48c$var$checkInt","$0934e0939605d48c$var$wrtBigUInt64LE","$0934e0939605d48c$var$checkIntBI","BigInt","$0934e0939605d48c$var$wrtBigUInt64BE","$0934e0939605d48c$var$checkIEEE754","$0934e0939605d48c$var$writeFloat","littleEndian","noAssert","$dbnIE","$0934e0939605d48c$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$0934e0939605d48c$var$defineBigIntMethod","$0934e0939605d48c$var$validateNumber","first","last","$0934e0939605d48c$var$boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$0934e0939605d48c$var$errors","$0934e0939605d48c$var$E","sym","getMessage","Base","$0934e0939605d48c$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$0934e0939605d48c$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","received","isInteger","$0934e0939605d48c$var$INVALID_BASE64_RE","leadSurrogate","toByteArray","$0934e0939605d48c$var$base64clean","dst","alphabet","i16","$0934e0939605d48c$var$BufferBigIntNotDefined","$8a0a73e6b73fd0c4$export$d622b2ad8d90c771","$8a0a73e6b73fd0c4$export$6100ba28696e12de","tmp","lens","$8a0a73e6b73fd0c4$var$getLens","validLen","placeHoldersLen","$8a0a73e6b73fd0c4$var$Arr","$8a0a73e6b73fd0c4$var$_byteLength","curByte","$8a0a73e6b73fd0c4$var$revLookup","uint8","extraBytes","parts","maxChunkLength","len2","$8a0a73e6b73fd0c4$var$encodeChunk","$8a0a73e6b73fd0c4$var$lookup","$8a0a73e6b73fd0c4$var$code","$8a0a73e6b73fd0c4$var$i","$8a0a73e6b73fd0c4$var$len","output","$998eb38f4d082829$export$aafa59e2e03f2942","$998eb38f4d082829$export$68d8715fc104d294","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","isNaN","LN2","$4f50aab283dcadf6$var$nextTick","Promise","resolve","cb","then","MozWebSocket","$6b40b8cf655bb6c2$var$debug","$6b40b8cf655bb6c2$var$RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","$6b40b8cf655bb6c2$var$Socket","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","flags","auth","subEvents","onpacket","PacketType","EVENT","pop","isTransportWritable","volatile","CONNECT","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","ack","emitEvent","_anyListeners","listener","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","$9737987d7acf8913$var$debug","$9737987d7acf8913$var$PacketType","$3wxT7","hasBinary","encodeAsString","encodeAsBinary","attachments","deconstruction","$5iycE","deconstructPacket","pack","buffers","$9737987d7acf8913$var$Decoder","reconstructor","decodeString","$9737987d7acf8913$var$BinaryReconstructor","isBinary","takeBinaryData","start1","next","start2","c1","payload","$9737987d7acf8913$var$tryParse","isPayloadValid","static","finishedReconstruction","reconPack","binData","reconstructPacket","$3db92a35123c28f3$var$_deconstructPacket","placeholder","_placeholder","newData","newData1","$3db92a35123c28f3$var$_reconstructPacket","packetData","$290ea5bb29028c11$var$withNativeArrayBuffer","$290ea5bb29028c11$var$toString","$290ea5bb29028c11$var$withNativeBlob","$290ea5bb29028c11$var$withNativeFile","File","$290ea5bb29028c11$var$isBinary","$290ea5bb29028c11$var$isView","$290ea5bb29028c11$var$hasBinary","$2ab3c299b05997b6$var$Backoff","factor","rand","random","deviation","$022b237644207d82$exports","previousId","stampNewId","previous","isSafeInteger","$022b237644207d82$var$getUniqueId","$c680aea5536b41c4$var$Message","ADD_ELEMENT","ADD_IMAGE","ADD_ITEM","ADD_SHADOW","ADD_GROUP","RM_ITEM","RM_SHADOW","UD_ITEM","UD_SHADOW","UD_VIEW","RM_ATTRS","SET_ITEMS","SET_ATTRS","SET_IMAGE","SET_RENDER","SET_PARENT","INITIALIZE","LAYOUT","FULL","CLICK","RESIZE","SWIPE","TRACK","TRANSFORM","POINTER","BLUR","IMG_LOAD","DISPATCH","$c680aea5536b41c4$exports","$b0140f97e673c7b5$var$Item","values","rotation","scale","lockZ","$b0140f97e673c7b5$var$RectangularItem","width","height","$b0140f97e673c7b5$exports","tagname","$2ddb4406b5710b24$exports","item","idx","findIndex","$8a13928bd6cf2429$var$Point2D","angleTo","point","atan2","averageDistanceTo","points","totalDistanceTo","clone","distanceTo","hypot","divideBy","coefficient","isLeftOf","p0","p1","dl","minus","dp","multiplyBy","rotate","theta","cosTheta","cos","sinTheta","sin","sum","pt","$8a13928bd6cf2429$exports","$77dc2d94e185a53d$exports","centroid","midpoint","radius","contains","winding_number","wn","$6ca1b6f3784b814a$exports","$187e1e6ba0cb70c9$exports","sqrt","$9a3a59fd4e8a6314$var$constants","ROTATE_0","ROTATE_90","PI","ROTATE_180","ROTATE_270","ROTATE_360","NS_WAMS","NS_WAMS_TRACKING","$9a3a59fd4e8a6314$exports","constants","Message","NOP","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$de0d6a332419bf3c$var$g_id","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$de0d6a332419bf3c$var$Gesture","element","handler","DEFAULTS","isEnabled","state","enableKeys","disableKeys","minInputs","maxInputs","some","move","cancel","evaluateHook","hook","recognize","phase","MAX_VALUE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$de0d6a332419bf3c$exports","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$6c3676f10a43b740$var$Point2D","anglesTo","plus","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$6c3676f10a43b740$exports","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$be6f0e84320366a7$var$CANCEL","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$be6f0e84320366a7$var$END","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$be6f0e84320366a7$var$MOVE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$be6f0e84320366a7$var$START","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$0ca7bfe1c074e8ca$require$PHASE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$be6f0e84320366a7$exports","CANCEL_EVENTS","KEYBOARD_EVENTS","MOUSE_EVENTS","POINTER_EVENTS","TOUCH_EVENTS","STATE_KEYS","STATE_KEY_STRINGS","CANCEL","END","MOVE","START","PHASE","blur","pointercancel","touchcancel","mouseup","pointerup","touchend","mousemove","pointermove","touchmove","mousedown","pointerdown","touchstart","PHASES","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$0ca7bfe1c074e8ca$exports","identifier","clientX","clientY","changedTouches","find","touch","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$0ca7bfe1c074e8ca$var$getEventObject","time","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$4559ecf940edc78d$var$PI_2","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$4559ecf940edc78d$var$PI_NVE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$4559ecf940edc78d$var$setFilter","predicate","Set","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$e2125e2e71e37a0c$require$getPropagationPath","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$4559ecf940edc78d$exports","angularDifference","getPropagationPath","composedPath","node","setDifference","right","has","setFilter","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$e2125e2e71e37a0c$exports","currentData","initialElements","WeakSet","initial","current","startTime","elapsedTime","totalDistance","update","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$require$CANCEL","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$require$END","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$require$MOVE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$require$PHASE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$require$START","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$var$symbols","for","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$var$update_fns","TouchEvent","updateInput","PointerEvent","pointerId","MouseEvent","button","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$639be6fb478a6d5a$exports","Map","inputs","activePoints","clearEndedInputs","delete","getInputsInPhase","filter","getInputsNotInPhase","hasNoInputs","setPointerCapture","releasePointerCapture","updateAllInputs","updateFields","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$CANCEL_EVENTS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$KEYBOARD_EVENTS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$MOUSE_EVENTS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$POINTER_EVENTS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$TOUCH_EVENTS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$STATE_KEY_STRINGS","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$PHASE","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$CANCEL","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$END","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$START","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$setDifference","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$require$setFilter","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$var$Region","gestures","activeGestures","potentialGestures","activate","eventNames","preferPointer","arbitrate","eventName","capture","passive","handleKeyboardEvent","preventDefault","gesture","resetActiveGestures","oldActiveGestures","setActiveGestures","setPotentialGestures","updateActiveGestures","isInitial","pruneActiveGestures","addGesture","touchAction","removeGesture","getGesturesByElement","removeGesturesByElement","g","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$b66a0f22c18e3e3d$exports","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$01c3d7b128023e4f$var$cascade","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$01c3d7b128023e4f$var$smooth","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$01c3d7b128023e4f$var$Smoothable","final_options","isRequested","matchMedia","matches","$c7ae6dd8608f332b$var$$17807945cdde5d67$var$$01c3d7b128023e4f$var$smoothingIsApplicable","applySmoothing","identity","restart","average","$c7ae6dd8608f332b$var$$edded22326d64913$require$Gesture","$c7ae6dd8608f332b$var$$17807945cdde5d67$exports","Gesture","Input","Point2D","PointerData","Region","Smoothable","State","$c7ae6dd8608f332b$var$$edded22326d64913$require$Point2D","$c7ae6dd8608f332b$var$$edded22326d64913$require$Smoothable","$c7ae6dd8608f332b$var$$edded22326d64913$exports","outgoing","translation","$c7ae6dd8608f332b$var$$a29eb49c9650e38a$require$Gesture","$c7ae6dd8608f332b$var$$a29eb49c9650e38a$require$Smoothable","$c7ae6dd8608f332b$var$$a29eb49c9650e38a$var$Pinch","distance","$c7ae6dd8608f332b$var$$a29eb49c9650e38a$exports","$c7ae6dd8608f332b$var$$044241a6e313bbcb$require$Gesture","$c7ae6dd8608f332b$var$$044241a6e313bbcb$require$Point2D","$c7ae6dd8608f332b$var$$044241a6e313bbcb$require$MOVE","$c7ae6dd8608f332b$var$$044241a6e313bbcb$var$Press","originalInputs","tolerance","$c7ae6dd8608f332b$var$$044241a6e313bbcb$exports","$c7ae6dd8608f332b$var$$b6747a8030ff7e4d$require$Smoothable","$c7ae6dd8608f332b$var$$5618dc3399c82d06$require$Gesture","$c7ae6dd8608f332b$var$$5618dc3399c82d06$require$Point2D","$c7ae6dd8608f332b$var$$5618dc3399c82d06$require$Smoothable","$c7ae6dd8608f332b$var$$5618dc3399c82d06$var$Pivotable","pivot","rect","getBoundingClientRect","updatePrevious","dynamicPivot","getClientCenter","deadzoneRadius","$c7ae6dd8608f332b$var$$5618dc3399c82d06$exports","$c7ae6dd8608f332b$var$$b6747a8030ff7e4d$exports","rv","$c7ae6dd8608f332b$var$$2779699df4dafe8f$require$angularDifference","$c7ae6dd8608f332b$var$$2779699df4dafe8f$require$Gesture","$c7ae6dd8608f332b$var$$2779699df4dafe8f$require$Smoothable","$c7ae6dd8608f332b$var$$2779699df4dafe8f$var$Rotate","previousAngles","stagedAngles","angle","$c7ae6dd8608f332b$var$$2779699df4dafe8f$exports","$c7ae6dd8608f332b$var$$29f6d3783b0fe128$require$Gesture","$c7ae6dd8608f332b$var$$29f6d3783b0fe128$var$Swipe","moves","saved","getResult","validate","$c7ae6dd8608f332b$var$$29f6d3783b0fe128$var$PROGRESS_STACK_SIZE","velocity","calc_velocity","direction","calc_angle","vlim","$c7ae6dd8608f332b$var$$29f6d3783b0fe128$exports","$c7ae6dd8608f332b$var$$5bf1e923ca9fec67$require$angularDifference","$c7ae6dd8608f332b$var$$5bf1e923ca9fec67$require$Smoothable","$c7ae6dd8608f332b$var$$5bf1e923ca9fec67$exports","$c7ae6dd8608f332b$var$$2f0219f585763ab0$require$Gesture","$c7ae6dd8608f332b$var$$2f0219f585763ab0$require$Point2D","$c7ae6dd8608f332b$var$$2f0219f585763ab0$var$Tap","taps","minDelay","maxDelay","maxRetain","numTaps","elapsed","tdiff","$c7ae6dd8608f332b$var$$2f0219f585763ab0$exports","$c7ae6dd8608f332b$var$$13a50dd07826f9eb$require$Gesture","$c7ae6dd8608f332b$var$$13a50dd07826f9eb$var$Track","tracks","phases","$c7ae6dd8608f332b$exports","Pan","Pinch","Press","Pull","Rotate","Swipe","Swivel","Tap","Track","$2d527d3dfbe18544$var$Interactor","root","handlers","DEFAULT_HANDLERS","_changes","_resetChanges","_scheduled","addGestures","wheel","region","coalesce","swipe","swivel","tap","track","delta","_emit","transform","ctrlKey","sign","deltaY","$2d527d3dfbe18544$require$NOP","$2d527d3dfbe18544$exports","$81586d39ed578c8f$var$symbols","attachSocketIoListeners","render","$81586d39ed578c8f$var$ClientController","canvas","view","model","rootElement","eventListeners","eventQueue","renderScheduled","render_fn","resizeCanvasToFillWindow","$81586d39ed578c8f$require$Message","addElement","addImage","addItem","addShadow","removeShadow","updateItem","updateShadow","updateView","removeAttributes","setAttributes","setImage","setRender","setParent","initialize","$81586d39ed578c8f$require$NOP","innerHTML","handleCustomEvent","entries","scheduleRender","resize","scheduleFn","$81586d39ed578c8f$require$io","$81586d39ed578c8f$require$constants","requestAnimationFrame","draw","dispatch","iOS","platform","dpr","devicePixelRatio","w","innerWidth","h","innerHeight","resizeToFillWindow","clientScripts","stylesheets","backgroundImage","useMultiScreenGestures","settings","loadClientScripts","loadStylesheets","viewId","backgroundColor","setupInteractor","scripts","link","rel","setupInputForwarding","forwardPointerEvents","forwardBlurEvents","forwardEvents","eventnames","eventname","altKey","metaKey","shiftKey","$81586d39ed578c8f$exports","WamsElement","$49a6b9c9f3993e79$exports","$49a6b9c9f3993e79$require$WamsElement","querySelector","classList","attributes","context","tl","$49a6b9c9f3993e79$require$Point2D","translate","parent","WamsImage","$06eb776eda6204d9$exports","$06eb776eda6204d9$require$WamsImage","image","loaded","drawImage","fillStyle","fillRect","restore","img","Image","dispatchEvent","CustomEvent","$06eb776eda6204d9$require$Message","$06eb776eda6204d9$var$createImage","Item","$1e33459129279de6$var$$9a8fdc9f7382f5d6$var$TYPES","METHOD","PROPERTY","$1e33459129279de6$var$$9a8fdc9f7382f5d6$var$Atom","inst","$1e33459129279de6$var$$9a8fdc9f7382f5d6$var$atomOf","execute","$1e33459129279de6$var$$9a8fdc9f7382f5d6$var$CanvasAtom","$1e33459129279de6$var$$9a8fdc9f7382f5d6$exports","$1e33459129279de6$var$$663f930907ca9f24$var$locals","METHODS","PROPERTIES","$1e33459129279de6$var$$663f930907ca9f24$var$symbols","sequence","fromJSON","$1e33459129279de6$var$$663f930907ca9f24$var$CanvasSequence","$1e33459129279de6$var$$663f930907ca9f24$exports","$1e33459129279de6$var$$4fabbdeef1f2d4ae$var$symbols","$1e33459129279de6$var$$4fabbdeef1f2d4ae$exports","build","seq","realArgs","tag","$1e33459129279de6$var$$4fabbdeef1f2d4ae$var$replaceTags","CanvasSequence","CanvasBlueprint","$f346ae80a2055480$exports","$f346ae80a2055480$require$Item","$f346ae80a2055480$require$CanvasSequence","colours","View","$36c7439c01b30b99$var$symbols","align","outline","$36c7439c01b30b99$var$ShadowView","$36c7439c01b30b99$require$View","globalAlpha","strokeStyle","$36c7439c01b30b99$require$colours","lineWidth","strokeRect","base","beginPath","moveTo","lineTo","$36c7439c01b30b99$exports","removeById","$2671a88abd61b478$var$REQUIRED_DATA","$2671a88abd61b478$exports","items","itemOrder","shadows","addObject","ClassFn","object","shadow","getShadow","$2671a88abd61b478$require$removeById","views","reverse","config","bringItemToTop","el","detail","$8d2ca656dd61d0cd$var$STATUS_KEYS","$8d2ca656dd61d0cd$var$symbols","drawBackground","drawItems","drawShadows","drawStatus","wipe","$8d2ca656dd61d0cd$var$DEFAULT_CONFIG","showStatus","$8d2ca656dd61d0cd$var$ClientView","$8d2ca656dd61d0cd$require$View","messages","toFixed","ty","setTransform","font","fillText","clearRect","$8d2ca656dd61d0cd$exports","$411b979e0983e126$var$ClientApplication","controller","func","getContext","WAMS"],"version":3,"file":"client.js.map"}