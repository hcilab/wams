<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - WAMS Documentation</title>
    
    <meta name="description" content="Workspaces Across Multiple Surfaces" />
    
        <meta name="keywords" content="javascript" />
        <meta name="keyword" content="javascript" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-client.html">client</a></li><li><a href="module-mixins.html">mixins</a></li><li><a href="module-predefined.html">predefined</a></li><li><a href="module-server.html">server</a></li><li><a href="module-shared.html">shared</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-predefined.actions.html">actions</a><ul class='methods'></ul></li><li><a href="module-predefined.items.html">items</a><ul class='methods'></ul></li><li><a href="module-predefined.layouts.html">layouts</a><ul class='methods'></ul></li><li><a href="module-predefined.routing.html">routing</a><ul class='methods'></ul></li><li><a href="module-predefined.utilities.html">utilities</a><ul class='methods'></ul></li><li><a href="module-shared.utilities.html">utilities</a><ul class='methods'></ul></li></ul><h3>Classes</h3><ul><li><a href="module-client.ClientController.html">ClientController</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerController.html">[@@attachSocketIoListeners]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html">[@@render]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#dispatch">dispatch</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#handleCustomEvent">handleCustomEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#initialize">initialize</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#resizeCanvasToFillWindow">resizeCanvasToFillWindow</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#scheduleRender">scheduleRender</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientController.html#setUpInputForwarding">setUpInputForwarding</a></li></ul></li><li><a href="module-client.ClientElement.html">ClientElement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ClientElement.html#draw">draw</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientElement.html#removeAttributes">removeAttributes</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientElement.html#setAttributes">setAttributes</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientElement.html#setParent">setParent</a></li></ul></li><li><a href="module-client.ClientImage.html">ClientImage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ClientImage.html#draw">draw</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientImage.html#setImage">setImage</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientImage.html#setParent">setParent</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientImage.html#~createImage">createImage</a></li></ul></li><li><a href="module-client.ClientItem.html">ClientItem</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ClientItem.html#draw">draw</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientItem.html#setParent">setParent</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientItem.html#setRender">setRender</a></li></ul></li><li><a href="module-client.ClientModel.html">ClientModel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#_addItem">_addItem</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#addElement">addElement</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#addImage">addImage</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#addItem">addItem</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#addShadow">addShadow</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#bringItemToTop">bringItemToTop</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#dispatch">dispatch</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#getItem">getItem</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#getShadow">getShadow</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#initialize">initialize</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#removeItem">removeItem</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#removeShadow">removeShadow</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#setAttributes">setAttributes</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#setImage">setImage</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#setRender">setRender</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#updateItem">updateItem</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#updateShadow">updateShadow</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientModel.html#updateView">updateView</a></li></ul></li><li><a href="module-client.ClientView.html">ClientView</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html">[@@align]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html">[@@drawItems]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html">[@@drawShadows]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html">[@@drawStatus]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html">[@@wipe]</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html#draw">draw</a></li><li data-type='method' style='display: none;'><a href="module-client.ClientView.html#resizeToFillWindow">resizeToFillWindow</a></li></ul></li><li><a href="module-client.ShadowView.html">ShadowView</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html">[@@align]</a></li><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html">[@@marker]</a></li><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html">[@@outline]</a></li><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html">[@@style]</a></li><li data-type='method' style='display: none;'><a href="module-client.ShadowView.html#draw">draw</a></li></ul></li><li><a href="module-predefined.layouts.LineLayout.html">LineLayout</a></li><li><a href="module-predefined.layouts.TableLayout.html">TableLayout</a></li><li><a href="module-server.Application.html">Application</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.Application.html#createItemGroup">createItemGroup</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#createViewGroup">createViewGroup</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#dispatch">dispatch</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#removeItem">removeItem</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#spawn">spawn</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#spawnElement">spawnElement</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#spawnImage">spawnImage</a></li><li data-type='method' style='display: none;'><a href="module-server.Application.html#spawnItem">spawnItem</a></li></ul></li><li><a href="module-server.Device.html">Device</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.Device.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.Device.html#transformPointChange">transformPointChange</a></li></ul></li><li><a href="module-server.GestureController.html">GestureController</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#begin">begin</a></li><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#clearOutView">clearOutView</a></li><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#handleKeyboardEvent">handleKeyboardEvent</a></li><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#hasNoInputs">hasNoInputs</a></li><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#process">process</a></li><li data-type='method' style='display: none;'><a href="module-server.GestureController.html#processSwivel">processSwivel</a></li></ul></li><li><a href="module-server.MessageHandler.html">MessageHandler</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#click">click</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#drag">drag</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#handleGesture">handleGesture</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#rotate">rotate</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#scale">scale</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#swipe">swipe</a></li><li data-type='method' style='display: none;'><a href="module-server.MessageHandler.html#transform">transform</a></li></ul></li><li><a href="module-server.ServerController.html">ServerController</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerController.html">[@@attachSocketIoListeners]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html">[@@fullStateReport]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#disconnect">disconnect</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#keyboardEvent">keyboardEvent</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#layout">layout</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#pointerEvent">pointerEvent</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#setSize">setSize</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerController.html#wheelEvent">wheelEvent</a></li></ul></li><li><a href="module-server.ServerElement.html">ServerElement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#%255B@@emit%255D">[@@emit]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#_emitPublication">_emitPublication</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#containsPoint">containsPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#publish">publish</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#removeAttributes">removeAttributes</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#setAttributes">setAttributes</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerElement.html#unlock">unlock</a></li></ul></li><li><a href="module-server.ServerImage.html">ServerImage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#%255B@@emit%255D">[@@emit]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#_emitPublication">_emitPublication</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#containsPoint">containsPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#publish">publish</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#setImage">setImage</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerImage.html#unlock">unlock</a></li></ul></li><li><a href="module-server.ServerItem.html">ServerItem</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#%255B@@emit%255D">[@@emit]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#_emitPublication">_emitPublication</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#containsPoint">containsPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#publish">publish</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#setSequence">setSequence</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItem.html#unlock">unlock</a></li></ul></li><li><a href="module-server.ServerItemGroup.html">ServerItemGroup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#%255B@@emit%255D">[@@emit]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#_emitPublication">_emitPublication</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#containsPoint">containsPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#publish">publish</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#setParentForItems">setParentForItems</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerItemGroup.html#unlock">unlock</a></li></ul></li><li><a href="module-server.ServerView.html">ServerView</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#%255B@@emit%255D">[@@emit]</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#_emitPublication">_emitPublication</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#dispatch">dispatch</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#obtainLockOnItem">obtainLockOnItem</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#publish">publish</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#releaseLockedItem">releaseLockedItem</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerView.html#unlock">unlock</a></li></ul></li><li><a href="module-server.ServerViewGroup.html">ServerViewGroup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#add">add</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#clearInputsFromView">clearInputsFromView</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#isLocked">isLocked</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#lock">lock</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#moveBy">moveBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#obtainLockOnItem">obtainLockOnItem</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#releaseLockedItem">releaseLockedItem</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#remove">remove</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#reversePoint">reversePoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#reversePointChange">reversePointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#rotateBy">rotateBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#scaleBy">scaleBy</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#transformPoint">transformPoint</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#transformPointChange">transformPointChange</a></li><li data-type='method' style='display: none;'><a href="module-server.ServerViewGroup.html#unlock">unlock</a></li></ul></li><li><a href="module-server.Switchboard.html">Switchboard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#accept">accept</a></li><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#disconnect">disconnect</a></li><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#reject">reject</a></li><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#~findEmptyIndex">findEmptyIndex</a></li><li data-type='method' style='display: none;'><a href="module-server.Switchboard.html#~logConnection">logConnection</a></li></ul></li><li><a href="module-server.ViewSpace.html">ViewSpace</a><ul class='methods'></ul></li><li><a href="module-server.WorkSpace.html">WorkSpace</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#addItem">addItem</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#bringItemToTop">bringItemToTop</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#createItemGroup">createItemGroup</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#findFreeItemByCoordinates">findFreeItemByCoordinates</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#findItemByCoordinates">findItemByCoordinates</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#obtainLock">obtainLock</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#raiseItem">raiseItem</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#removeItem">removeItem</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#spawnElement">spawnElement</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#spawnImage">spawnImage</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#spawnItem">spawnItem</a></li><li data-type='method' style='display: none;'><a href="module-server.WorkSpace.html#toJSON">toJSON</a></li></ul></li><li><a href="module-shared.Circle.html">Circle</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Circle.html#contains">contains</a></li></ul></li><li><a href="module-shared.IdStamper.html">IdStamper</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.IdStamper.html#stampNewId">stampNewId</a></li><li data-type='method' style='display: none;'><a href="module-shared.IdStamper.html#~getUniqueId">getUniqueId</a></li></ul></li><li><a href="module-shared.Item.html">Item</a></li><li><a href="module-shared.Oval.html">Oval</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Oval.html#contains">contains</a></li></ul></li><li><a href="module-shared.Point2D.html">Point2D</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#add">add</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#angleTo">angleTo</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#averageDistanceTo">averageDistanceTo</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#distanceTo">distanceTo</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#divideBy">divideBy</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#isLeftOf">isLeftOf</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#minus">minus</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#multiplyBy">multiplyBy</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#rotate">rotate</a></li><li data-type='method' style='display: none;'><a href="module-shared.Point2D.html#totalDistanceTo">totalDistanceTo</a></li></ul></li><li><a href="module-shared.Polygon2D.html">Polygon2D</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Polygon2D.html#contains">contains</a></li><li data-type='method' style='display: none;'><a href="module-shared.Polygon2D.html#winding_number">winding_number</a></li></ul></li><li><a href="module-shared.Rectangle.html">Rectangle</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Rectangle.html#contains">contains</a></li></ul></li><li><a href="module-shared.RoundedLine.html">RoundedLine</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.RoundedLine.html#contains">contains</a></li></ul></li><li><a href="module-shared.View.html">View</a></li><li><a href="module-shared.WamsElement.html">WamsElement</a></li><li><a href="module-shared.WamsImage.html">WamsImage</a></li></ul><h3>Mixins</h3><ul><li><a href="module-mixins.Hittable.html">Hittable</a><ul class='methods'></ul></li><li><a href="module-mixins.Identifiable.html">Identifiable</a></li><li><a href="module-mixins.Interactable.html">Interactable</a><ul class='methods'></ul></li><li><a href="module-mixins.Lockable.html">Lockable</a><ul class='methods'></ul></li><li><a href="module-mixins.Locker.html">Locker</a><ul class='methods'></ul></li><li><a href="module-mixins.Publishable.html">Publishable</a><ul class='methods'></ul></li><li><a href="module-mixins.Transformable2D.html">Transformable2D</a><ul class='methods'></ul></li></ul><h3>Interfaces</h3><ul><li><a href="module-shared.Hitbox.html">Hitbox</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-shared.Hitbox.html#contains">contains</a></li></ul></li></ul>
    
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3>wams 1.0.0</h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1 id="wams%3A-workspaces-across-multiple-surfaces">WAMS: Workspaces Across Multiple Surfaces</h1>
<p><a href="https://codeclimate.com/github/hcilab/wams/maintainability"><img src="https://api.codeclimate.com/v1/badges/025f89d6de0c6677d142/maintainability" alt="Maintainability"></a></p>
<p>WAMS is a Web API that makes creating Multi-Screen applications easy. Multi-screen applications are ones where multiple devices (and their screens) can be used together in flexible ways allowing objects to be easily moved between screens or interactions, like gestures, to span multiple screens.</p>
<p>WAMS abstracts away socket connections with clients as well as the model, interaction, and coordination logic, providing a simple, unified framework that allows focus to be placed on creating and defining new interactions rather than on pre-requisite communication code. It comes packaged with default server logic and HTML files so you can easily build canvas-first shared workspace applications, or you can provide your own server routines, allowing you to integrate WAMS into your existing web application!</p>
<p>We use browser windows to represent screens because browsers are extremely flexible - they are cross-platform, already available on multiple devices and can fill screens (or be used to subdivide screens).</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#live-demo">Live Demo</a></li>
<li><a href="#walkthrough">Walkthrough</a>
<ul>
<li><a href="#set-up-your-application">Set up your application</a></li>
<li><a href="#hello-world">Hello world</a></li>
<li><a href="#hello-world-multi-screen">Hello world: Multi-Screen</a></li>
<li><a href="#general-configuration-of-your-app">General Configuration</a></li>
<li><a href="#basics">Basics</a></li>
<li><a href="#polygons">Polygons</a></li>
<li><a href="#images">Images</a></li>
<li><a href="#html">HTML</a></li>
<li><a href="#scale-and-rotation">Scale and Rotation</a></li>
<li><a href="#interactivity">Interactivity</a></li>
<li><a href="#static-resources">Static resources</a></li>
<li><a href="#connections">Connections</a></li>
<li><a href="#multi-screen-layouts">Multi-Screen Layouts</a></li>
<li><a href="#advanced">Advanced</a>
<ul>
<li><a href="#custom-items">Custom items</a></li>
<li><a href="#custom-events">Custom events</a></li>
<li><a href="#interaction-rights">Interaction rights</a></li>
<li><a href="#grouped-items">Grouped items</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#contributing">Contributing</a>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#workflow">Workflow</a>
<ul>
<li><a href="#linting">Linting</a></li>
</ul>
</li>
<li><a href="#deploying-documentation">Deploying Documentation</a></li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<p>You will need to install <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm">node.js and npm</a>.</p>
<p>Then you can install this repo directly as a node module. For example, to install the stable <code>hello-world-test</code> release:</p>
<pre class="prettyprint source lang-bash"><code>npm install hcilab/wams#hello-world-test
</code></pre>
<h2 id="getting-started">Getting started</h2>
<p>The easiest way to get started is to follow the <a href="#walkthrough">Walkthrough</a> tutorial below. More advanced users might want to check the <a href="https://hcilab.github.io/wams/">code documentation</a> and the <a href="#examples">examples</a>. ~For a taste on how WAMS works, check the <a href="#live-demo">live demo section</a>.~ (The live demo is currently broken).</p>
<h2 id="examples">Examples</h2>
<p>To try out the examples, go to <code>examples/</code> and run as follows:</p>
<pre class="prettyprint source lang-bash"><code>node examples/[EXAMPLE_FILENAME]
</code></pre>
<p>For example:</p>
<pre class="prettyprint source lang-bash"><code>node examples/polygons.js
</code></pre>
<h2 id="live-demo">Live Demo</h2>
<ul>
<li>(Currently broken)</li>
</ul>
<p>The <a href="https://wams-player-demo.herokuapp.com/">live demo</a> is an example of a video-player with a distributed user interface. First, the player controls are displayed on the screen with the video. Go to the url with a second device or browser, and as a second view is connected, the controls are automatically moved to that view.</p>
<p>To check out the code of the live demo, see <code>examples/video-player.js</code></p>
<h2 id="walkthrough">Walkthrough</h2>
<p>This walkthrough is a friendly guide on how to use most WAMS features. For more details, see <a href="https://hcilab.github.io/wams/">code documentation</a>.</p>
<blockquote>
<p><strong>Note</strong> The examples on this page use ES2015 (ES6) JavaScript syntax like <code>const</code> variables and object destructuring. If you are not familiar with ES2015 features, you can <a href="https://webapplog.com/es6/">read</a> about them first.</p>
</blockquote>
<h3 id="set-up-your-application">Set up your application</h3>
<p>First, let's set up a new directory for our demo application, and install WAMS into it:</p>
<pre class="prettyprint source lang-bash"><code>mkdir demo
cd demo
npm install hcilab/wams#hello-world-test
</code></pre>
<p>Now, create an <strong>app.js</strong> file. In this file, include WAMS and initialize the application:</p>
<pre class="prettyprint source lang-javascript"><code>const WAMS = require(&quot;wams&quot;);
const app = new WAMS.Application();
app.listen(9000); // this starts the app on port 9000, you can use any port
</code></pre>
<p>Now, you can run your first WAMS application by executing:</p>
<pre class="prettyprint source lang-bash"><code>node app.js
</code></pre>
<p>And you can connect to the app using the address in the output.</p>
<ul>
<li>Many terminal emulators let you control+click on an address to visit it in your browser.</li>
</ul>
<h3 id="hello-world">Hello world</h3>
<p>Let's now make your first WAMS app do something. Add the following code just before the last line:</p>
<pre class="prettyprint source lang-javascript"><code>// the line below is equivalent to `const square = WAMS.predefined.items.square;`
const { square } = WAMS.predefined.items;

// spawn a square on the screen
app.spawn(square(100, &quot;green&quot;, { x: 200, y: 200 }));
</code></pre>
<p>The first arguments describe the length and colour of the square. The last argument is an object that describes how the square should be oriented within the WAMS workspace. This code creates a green square on the canvas centered at coordinates <code>{ x: 200, y: 200 }</code> and a length of <code>100</code>.</p>
<h3 id="hello-world%3A-multi-screen">Hello world: Multi-Screen</h3>
<p>Here is a simple example to show how several screens work with WAMS.</p>
<p>This example will spawn a draggable square and position connected screens in a line.</p>
<p>Put this code in your <strong>app.js</strong> file:</p>
<pre class="prettyprint source lang-javascript"><code>const WAMS = require(&quot;wams&quot;);
const app = new WAMS.Application();

const { actions, items, layouts } = WAMS.predefined;

function spawnSquare() {
  const greenSquare = app.spawn(items.square(100, &quot;green&quot;, { x: 200, y: 200 }));
  greenSquare.on('drag', actions.drag);
}

const line = new layouts.LineLayout(300); // 300px overlap betweens views

function handleConnect({ view, device }) {
  view.on('click', spawnSquare);
  line.layout(view, device);
}

app.on('connect', handleConnect);

app.listen(9000);
</code></pre>
<p><em>Don't worry if the code doesn't make sense to you yet. The walkthrough will explain all the features used in it.</em></p>
<p>The square can now be moved around and seen by multiple screens with less than 20 lines of code 🎉</p>
<p>To test this on a single computer you could:</p>
<ul>
<li>open one browser window covering half your screen and position it on the left</li>
<li>open another browser to the same address and position it on the right</li>
<li>now click on an empty area to create a square</li>
<li>click and hold to drag the square towards the other browser window</li>
<li>you have your first multiscreen app!</li>
</ul>
<p><img src="./img/multiscreen.png" alt="Screenshot of first multiscreen app"></p>
<blockquote>
<p>To try a more complex multi-screen gestures example (gestures that span multiple screens), check out <code>examples/shared-polygons.js</code>.</p>
</blockquote>
<h3 id="general-configuration-of-your-app">General Configuration of your app</h3>
<p>The application can be configured through some options.</p>
<p>Below is the full list of possible options with example values.</p>
<pre class="prettyprint source lang-javascript"><code>const app = new WAMS.Application({
  clientLimit: 2, // maximum number of devices that can connect to the app
  shadows: true, // show shadows of other devices
  status: true, // show information on current view, useful for debugging

  // The following options can be accomplished directly through HTML and CSS,
  // if you provide your own static files and server routine.
  backgroundImage: &quot;./monaLisa&quot;, // background image of the app
  color: &quot;white&quot;, // background color of the app
  clientScripts: [&quot;script.js&quot;], // javascript scripts (relative paths or URLs) to include by the browser
  stylesheets: [&quot;styles.css&quot;], // css styles to include by the browser
  title: &quot;Awesome App&quot;, // page title
});
</code></pre>
<p>You can substitute <code>const app = new Wams.Application();</code> in your code with the code above to play with different options.</p>
<h3 id="basics">Basics</h3>
<p>A WAMS app is made of <strong>items</strong>. There are several predefined items (see in the <a href="https://hcilab.github.io/wams/module-predefined.items.html">code documentation</a>):</p>
<ul>
<li><code>rectangle</code></li>
<li><code>square</code></li>
<li><code>circle</code></li>
<li><code>oval</code></li>
<li><code>line</code></li>
<li><code>polygon</code></li>
<li><code>image</code></li>
<li><code>html</code></li>
</ul>
<p>Most of the items (except <code>html</code>) are rendered onto an HTML <strong>canvas</strong>, which is the core of WAMS (i.e., in WAMS everything is drawn on HTML canvas, although for the most part, you do not need to know about this).</p>
<p>You have already seen <code>square</code> used in the Hello world example above. Now let's look at some other items.</p>
<h3 id="polygons">Polygons</h3>
<pre class="prettyprint source lang-javascript"><code>// application setup omitted here
// and in following examples

const { polygon } = WAMS.predefined.items;

const points = [
  { x: 0, y: 0 },
  { x: 50, y: 0 },
  { x: 25, y: 50 },
];

app.spawn(
  polygon(points, &quot;green&quot;, {
    x: 500,
    y: 100,
  })
);
</code></pre>
<p>Polygons are built using an array of relative points. For a random set of points, you can use <code>randomPoints</code> method from <code>Wams.predefined.utilities</code> (see in <a href="https://hcilab.github.io/wams/module-predefined.utilities.html#.randomPoints">code documentation</a>).</p>
<p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>const { items, utilities } = WAMS.predefined;

const points = utilities.randomPoints(4);

app.spawn(
  items.polygon(points, &quot;green&quot;, {
    x: 500,
    y: 100,
  })
);
</code></pre>
<h3 id="images">Images</h3>
<p>To use images, if you are using the default server provided by WAMS, you first need to set up a path to the <a href="#static-resources">static directory</a>.</p>
<p>For this example, create an <code>images</code> directory in the app folder and use it as your static directory.</p>
<p>Put <code>monaLisa.jpg</code> from <code>examples/img</code> to the images folder.</p>
<pre class="prettyprint source lang-javascript"><code>const path = require(&quot;node:path&quot;);
const { image } = WAMS.predefined.items;

app.addStaticDirectory(path.join(__dirname, &quot;images&quot;));
app.spawn(
  image(&quot;monaLisa.jpg&quot;, {
    width: 200,
    height: 350,
    x: 300,
    y: 300,
  })
);
</code></pre>
<p>Make sure to include <strong>width</strong> and <strong>height</strong>.</p>
<blockquote>
<p><strong>Example</strong> To see a great example of using images, check out <code>examples/card-table.js</code></p>
</blockquote>
<h3 id="html">HTML</h3>
<p>If you need more control over styling than a canvas provides, or you would like to use <code>iframe</code>, <code>audio</code>, <code>video</code> or other browser elements, WAMS also supports spawning <strong>HTML</strong> items.</p>
<pre class="prettyprint source lang-javascript"><code>const { html } = WAMS.predefined.items;

app.spawn(
  html(&quot;&lt;h1>Hello world!&lt;/h1>&quot;, 200, 100, {
    x: 300,
    y: 100,
  })
);
</code></pre>
<p>The code above will spawn a wrapped <code>h1</code> element with width of <code>200</code> and height of <code>100</code>, positioned at <code>{ x: 300, y: 100 }</code>.</p>
<h3 id="scale-and-rotation">Scale and Rotation</h3>
<p>You can set initial scale and rotation of an item:</p>
<pre class="prettyprint source lang-javascript"><code>app.spawn(
  polygon(points, &quot;green&quot;, {
    x: 500,
    y: 100,
    scale: 2,
    rotation: Math.PI,
  })
);
</code></pre>
<blockquote>
<p><strong>Note</strong> Rotation is done around the (x, y) point provided and is defined in radians (Pi = 180 degrees)</p>
</blockquote>
<h3 id="interactivity">Interactivity</h3>
<p>To make an item <strong>draggable</strong>, it's enough to attach the predefined drag action to the drag event:</p>
<pre class="prettyprint source lang-javascript"><code>const item = app.spawn(items.square(100, 'green', { x: 200, y: 200 }));
item.on('drag', actions.drag);
</code></pre>
<p>This looks much better. Now let's remove the square when you <strong>click</strong> on it. <em>To remove an item, use WAMS' <code>removeItem</code> method.</em></p>
<pre class="prettyprint source lang-js"><code>item.on('click', () => app.removeItem(item));
</code></pre>
<p>Another cool interactive feature is <strong>rotation</strong>. To rotate an item, first add a <code>rotate</code> listener, (the predefined action will do the trick), and then grab the item with your mouse and hold <strong>Control</strong> key.</p>
<pre class="prettyprint source lang-js"><code>item.on('rotate', actions.rotate);
</code></pre>
<p>Rotation using mouse + CTRL will pivot around whichever point on the item your cursor was at when you pressed the CTRL key.</p>
<p>You can also listen to <strong>swipe</strong> events on items (hold the item, quickly move it and release). To do that, add a <code>swipe</code> handler.</p>
<pre class="prettyprint source lang-js"><code>function handleSwipe(event) {
  console.log(`Swipe registered!`);
  console.log(`Velocity: ${event.velocity}`);
  console.log(`Direction: ${event.direction}`);
  console.log(`X, Y: ${event.x}, ${event.y}`);
}
item.on('swipe', handleSwipe);
</code></pre>
<p>To move an item, you can use <code>moveBy</code> and <code>moveTo</code> item methods:</p>
<pre class="prettyprint source lang-js"><code>// do this on a different item than the one that uses removeItem
item.on('click', () => item.moveBy(100, -50));
</code></pre>
<p>Both methods accept <code>x</code> and <code>y</code> numbers that represent a vector (for <code>moveBy</code>) or the final position (for <code>moveTo</code>).</p>
<p><em>You can add event handlers to all WAMS items.</em></p>
<h3 id="static-resources">Static resources</h3>
<p>Often times, you want to use images, run custom code in the browser, or add CSS stylesheets. If you're using your own server routine, you can ignore this section and serve static files the way you normally would.</p>
<p>If you want to do this with the default server implementation provided by WAMS, you first need to <strong>set up a path to the static directory:</strong></p>
<pre class="prettyprint source lang-javascript"><code>const path = require(&quot;node:path&quot;);
const app = new WAMS.Application();
app.addStaticDirectory(path.join(__dirname, &quot;assets&quot;));
</code></pre>
<p>This makes files under the specified path available at the root URL of the application. For example, if you have the same configuration as above, and there is an <code>image.png</code> file in the <code>assets</code> folder, it will be available at <code>http(s)://&lt;app-url&gt;/image.png</code></p>
<ul>
<li>To run code in the browsers that use your app, create a <strong>.js</strong> file in your app <em>static directory</em> and include it in the application config:</li>
</ul>
<pre class="prettyprint source lang-javascript"><code>const app = new WAMS.Application({
  clientScripts: [&quot;js/awesome-script.js&quot;],
});
</code></pre>
<ul>
<li>To add CSS stylesheets:</li>
</ul>
<pre class="prettyprint source lang-javascript"><code>const app = new WAMS.Application({
  stylesheets: [&quot;css/amazing-styles.css&quot;],
});
</code></pre>
<p>WAMS will load these scripts and stylesheets in the browser window.</p>
<h3 id="connections">Connections</h3>
<p>WAMS manages all connections under the hood, and provides helpful ways to react on <strong>connection-related events</strong>:</p>
<ul>
<li><code>connect</code> – emitted each time a screen connects to a WAMS application</li>
<li><code>disconnect</code> – emitted when a screen disconnects</li>
</ul>
<p>You can listen for both events on the Application instance. The handler function gets an event object with these properties:</p>
<ol>
<li><code>view</code></li>
<li><code>device</code></li>
<li><code>group</code></li>
</ol>
<p><strong><code>View</code></strong> is an object that stores the <strong>state</strong> of the connected screen, including:</p>
<ul>
<li><code>index</code></li>
<li><code>topLeft</code>, <code>topRight</code>, <code>bottomRight</code> and <code>bottomLeft</code> positions</li>
<li><code>scale</code></li>
<li><code>rotation</code></li>
<li><code>width</code></li>
<li><code>height</code></li>
</ul>
<p>It also provides <strong>methods</strong> to transform the current screen's view:</p>
<ul>
<li><code>moveBy</code></li>
<li><code>moveTo</code></li>
<li><code>rotateBy</code></li>
<li><code>scaleBy</code></li>
</ul>
<p>And you can set up <strong>event listeners</strong> for the view itself, such as:</p>
<ul>
<li><code>drag</code></li>
<li><code>rotate</code></li>
<li><code>pinch</code></li>
<li><code>click</code></li>
<li><code>swipe</code></li>
<li><code>disconnected</code></li>
<li><code>pointerdown</code></li>
<li><code>pointermove</code></li>
<li><code>pointerup</code></li>
</ul>
<p><strong><code>Device</code></strong> stores dimensions of the screen and its original position when connected.</p>
<p><strong><code>Group</code></strong> is a collection of views that will have their inputs combined together into multi-device gestures! It is a good idea to use a non-overlapping layout for the devices and views in a group, and make sure that the devices and views are laid out similarly.</p>
<h3 id="multi-screen-layouts">Multi-Screen Layouts</h3>
<p>By default, every connected screen is positioned in the same location and can see the same objects. However, you can build more complex layouts by using <code>view</code>, <code>device</code> and <code>group</code> objects' methods and state, or use one of the out-of-box predefined layouts.</p>
<p>There are currently two predefined layouts: <code>TableLayout</code> and <code>LineLayout</code>.</p>
<p><strong><code>TableLayout</code></strong></p>
<p>Places users around a table, with the given amount of overlap. The first user will be the &quot;table&quot;, and their position when they join is stamped as the outline of the table. The next four users are positioned, facing inwards, around the four sides of the table.</p>
<pre class="prettyprint source lang-js"><code>const { table } = WAMS.predefined.layouts;

const overlap = 200; // 200px overlap between screens
const setTableLayout = table(overlap);

function handleConnect({ view, device }) {  // note the {} brackets to destructure the event object
  setTableLayout(view, device);
}

app.on('connect', handleConnect);
</code></pre>
<p>To see this layout in action, check out the <code>card-table.js</code> example.</p>
<p><strong><code>LineLayout</code></strong></p>
<p>Places users in a line, with the given amount of overlap. Best used with either multi-screen gestures or when users are unable to manipulate their views.</p>
<pre class="prettyprint source lang-js"><code>const { LineLayout } = WAMS.predefined.layouts;

const overlap = 200; // 200px overlap between screens
// If using multi-device gestures, it's usually best to use an overlap of 0.
const line = new LineLayout(overlap);

function handleConnect({ view, device }) {  // note the {} brackets to destructure the event object
  line.layout(view, device);
}

app.on('connect', handleConnect);
</code></pre>
<p>To see this layout in action with multi-screen gestures, check out the <code>shared-polygons.js</code> example.</p>
<h2 id="advanced">Advanced</h2>
<p>When building more complex applications, sometimes you might want to have more flexibility than predefined items and behaviors provide.</p>
<p>The following sections show how to go beyond that.</p>
<h3 id="custom-items">Custom items</h3>
<p>To spawn a custom item, use <code>CanvasSequence</code>. It allows to create a custom sequence of canvas actions and you can use most of the HTML Canvas methods as if you are writing regular canvas code.</p>
<p>The following sequence draws a smiling face item:</p>
<pre class="prettyprint source lang-js"><code>function smileFace(args) {
  const sequence = new WAMS.CanvasSequence();

  sequence.beginPath();
  sequence.arc(75, 75, 50, 0, Math.PI * 2, true); // Outer circle
  sequence.moveTo(110, 75);
  sequence.arc(75, 75, 35, 0, Math.PI, false); // Mouth (clockwise)
  sequence.moveTo(65, 65);
  sequence.arc(60, 65, 5, 0, Math.PI * 2, true); // Left eye
  sequence.moveTo(95, 65);
  sequence.arc(90, 65, 5, 0, Math.PI * 2, true); // Right eye
  sequence.stroke();

  return { ...args, sequence };
}

app.spawn(smileFace({ x: 400, y: 300 }));
</code></pre>
<p>You can add interactivity to a custom item the same way as with predefined items. However, you first need to add a <em>hitbox</em> to the item. This can be a bit confusing, since the hitbox will always be given (x, y) values as if its item is located at (0, 0). Put another way, the hitbox doesn't need to know anything about how the item is positioned or oriented in the WAMS workspace:</p>
<pre class="prettyprint source lang-javascript"><code>function interactableSmileFace(args) {
  const hitbox = new WAMS.Circle(
    50,  // 50 is the radius of the outer circle of the smiley
    75,  // the smiley is centered at (75, 75)
    75,
  );
  return smileFace({ ...args, hitbox });
}

// The Circle doesn't need to know that we're creating the smiley at (400, 200) in the workspace
const item = app.spawn(interactableSmileFace({ x: 400, y: 200 }));
item.on('drag', actions.drag);
</code></pre>
<p>A hitbox can be made from <code>WAMS.Rectangle</code>, <code>WAMS.Polygon2D</code>, <code>WAMS.Circle</code>, <code>WAMS.Oval</code>, or <code>WAMS.RoundedLine</code>.</p>
<p><code>WAMS.Polygon2D</code> accepts an array of points – vertices of the resulting polygon.</p>
<h3 id="custom-events">Custom events</h3>
<p>Sometimes, you would like to tell devices to execute client-side code at a specific time. Or you would like to communicate some client-side event to the server. To allow that, WAMS provides <strong>custom events</strong>.</p>
<h5 id="from-client-to-server">From Client to Server</h5>
<p>Let's say we would like to send a message from the client to the server. WAMS methods are exposed to the client via the global <code>WAMS</code> object.</p>
<p>To <strong>dispatch an event to the server</strong>, use <code>WAMS.dispatch()</code> method:</p>
<pre class="prettyprint source lang-javascript"><code>// client.js

WAMS.dispatch(&quot;my-message&quot;, { foo: &quot;bar&quot; });
</code></pre>
<p>This dispatches a custom event to the server called <code>my-message</code> and sends a payload object.</p>
<p>To <strong>listen to this event on the server</strong>, use <code>app.on()</code> method:</p>
<pre class="prettyprint source lang-javascript"><code>// app.js

app.on(&quot;my-message&quot;, handleMyMessage);

function handleMyMessage(data) {
  console.log(data.foo); // logs 'bar' to the server terminal
}
</code></pre>
<h5 id="from-server-to-client">From Server to Client</h5>
<p>To <strong>dispatch an event to the client</strong> from the server, use <code>app.dispatch()</code> method.</p>
<pre class="prettyprint source lang-javascript"><code>// app.js

app.dispatch(&quot;my-other-message&quot;, { bar: &quot;foo&quot; });
</code></pre>
<p>To <strong>listen to this event on the client</strong>, use <code>WAMS.on()</code> method:</p>
<pre class="prettyprint source lang-javascript"><code>// client.js

WAMS.on(&quot;my-other-message&quot;, handleMyOtherMessage);

function handleMyOtherMessage(data) {
  console.log(data.bar); // logs 'foo' to the browser console
}
</code></pre>
<p><em>Under the hood</em>, client-side events are implemented with the DOM's <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent">CustomEvent</a>. If you want to trigger a WAMS client event <em>on the client</em>, you can dispatch a custom event on the document element.</p>
<h3 id="interaction-rights">Interaction rights</h3>
<p>To give different views different rights for interacting with items, use <code>view.index</code> to differentiate between connected devices.</p>
<blockquote>
<p>A view is assigned the lowest free <code>index</code>, starting with 0. When a view with lower index disconnects, other connected views' indices stay the same.</p>
</blockquote>
<p>For example, let's say we are making a card game and would like to only allow a card owner to flip it.</p>
<p>To do that, first we'll add an index to the card item to show who its owner is.</p>
<pre class="prettyprint source lang-javascript"><code>// during creation
const card = app.spawn(
  image(url, {
    /* ... */
    owner: 1,
  })
);

// or later
card.owner = 1;
</code></pre>
<p>The <code>owner</code> property does not have a special meaning. You can use any property of any type.</p>
<p>Now, we will only flip the card if the event comes from the card owner:</p>
<pre class="prettyprint source lang-javascript"><code>function flipCard(event) {
  if (event.view.index !== event.target.owner) return;

  const card = event.target;
  // assume we've attach 'back' and 'face' properties to the card with paths to images
  const imgsrc = card.isFaceUp ? card.back : card.face;
  card.setImage(imgsrc);
  card.isFaceUp = !card.isFaceUp;
}
</code></pre>
<h3 id="grouped-items">Grouped items</h3>
<p>Sometimes you would like to spawn several items and then move or drag them together. To do that easily, you can use the <code>createItemGroup</code> method (see in the <a href="https://hcilab.github.io/wams/module-server.Application.html#createItemGroup">code documentation</a>):</p>
<pre class="prettyprint source lang-javascript"><code>const items = [];

items.push(
  app.spawn(
    html(&quot;&lt;h1>hello world&lt;/h1>&quot;, 300, 100, {
      x: 300,
      y: 300,
    })
  )
);

items.push(app.spawn(square(200, &quot;yellow&quot;, { x: 100, y: 100 })));

items.push(app.spawn(square(200, &quot;blue&quot;, { x: 150, y: 150 })));

const group = app.createItemGroup({ items });
group.on('drag', actions.drag);

group.moveTo(500, 300);
</code></pre>
<p>Groups can only be moved together- rotation and scaling are not supported.</p>
<hr>
<h2 id="contributing">Contributing</h2>
<p>We welcome contribution to WAMS, please find details on how to setup your local development environment.</p>
<h3 id="setup">Setup</h3>
<p>WAMS is a Node.js projects, and with that requires that you have Node installed. We recommend using <a href="https://asdf-vm.com/">ASDF</a> or <a href="https://github.com/nvm-sh/nvm">NVM</a> as your Node Version Manager to install the correct version of Node.</p>
<p><strong>Step #1:</strong> Install Node.js</p>
<pre class="prettyprint source lang-bash"><code># Using ASDF
asdf current # This will list the version of Node for this project
asdf install nodejs &lt;version> # Install the correct version of Node

# Using NVM
nvm install
</code></pre>
<p><strong>Step #2:</strong> Install dependencies</p>
<pre class="prettyprint source lang-bash"><code>npm install
</code></pre>
<!-- **Step #3:** Build the project -->
<!-- TODO: Figure out how to build or test the project -->
<h3 id="workflow">Workflow</h3>
<h4 id="linting">Linting</h4>
<p>The package.json file includes scripts to run the linter and formatter:</p>
<pre class="prettyprint source lang-bash"><code># Check for errors
npm run lint

# Fix linting errors that can be auto-fixed:
npm run lint:fix

# Auto-format code:
npm run format
</code></pre>
<h5 id="automatic-linting%2Fformat-on-save">Automatic Linting/Format On Save</h5>
<p>To enable automatic linting and saving on save, you can download the <a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">ESLint</a> VS Code extension. All other required settings are included in the <code>.vscode/settings.json</code> file.</p>
<h3 id="deploying-documentation">Deploying Documentation</h3>
<p>The documentation is served from the branch <code>gh-pages</code>. This branch is built using a github action, which is triggered by pushes to the <code>deploy-docs</code> branch.</p>
<p>When you want to have changes in the code reflected in the documentation:</p>
<ol>
<li>Test the documentation changes locally using <code>npm run build</code> then opening <code>docs/index.html</code> and browsing. There is no need to commit the docs folder.</li>
<li>Open a PR and merge your changes into main.</li>
<li>Merge main into <code>deploy-docs</code> and push the changes to github.</li>
</ol></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Thu Jun 22 2023 04:59:05 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>